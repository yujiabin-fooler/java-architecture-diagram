<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" version="26.0.16" pages="27">
  <diagram name="JVM" id="2t9mX146NmbGCnDUHTSx">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="3aZms3tKnCu_-96OzhPR" name="Lock">
    <mxGraphModel dx="3987" dy="5878" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-56" value="&lt;b&gt;独占式获取资源&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquire是个模板函数，模板流程就是线程获取共享资源，如果获取资源成功，线程直接返回，否则进入CLH队列，直到获取资源成功为止，且整个过程忽略中断的影响&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;public final void acquire （int arg）{&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; if(!tryAcquire(addWaiter(Node.Exclusive),arg))&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; selfInterrupt();&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;执行tryAcquire函数，tryAcquire是由子类实现，代表获取资源是否成功，如果资源获取失败，执行下面的逻辑&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;执行addWaiter函数（前面已经介绍过），根据当前线程创建出独占式节点，并入队CLH队列&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;执行acquireQueued函数，自旋阻塞等待获取资源&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果acquireQueued函数中获取资源成功，根据线程是否被中断状态，来决定执行线程中断逻辑&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquire函数的大致流程都清楚了，下面来分析下acquireQueued函数，线程封装成节点后，是如何自旋阻塞等待获取资源的，代码如下&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description: 自旋机制等待获取资源&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param node&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param arg&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @return: boolean&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; final boolean acquireQueued(final Node node, int arg) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //异常状态，默认是&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boolean failed = true;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; try {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //该线程是否中断过，默认否&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boolean interrupted = false;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (;;) {//自旋&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取前驱节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; final Node p = node.predecessor();&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //如果前驱节点是首节点，获取资源（子类实现）&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (p == head &amp;amp;&amp;amp; tryAcquire(arg)) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取资源成功，设置当前节点为头节点，清空当前节点的信息，把当前节点变成哨兵节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; setHead(node);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //原来首节点下个节点指向为null&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; p.next = null; // help GC&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //非异常状态，防止指向finally逻辑&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; failed = false;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //返回线程中断状态&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return interrupted;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 如果前驱节点不是首节点，先执行shouldParkAfterFailedAcquire函数，shouldParkAfterFailedAcquire做了三件事&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 1.如果前驱节点的等待状态是SIGNAL，返回true，执行parkAndCheckInterrupt函数，返回false&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 2.如果前驱节点的等大状态是CANCELLED，把CANCELLED节点全部移出队列（条件节点）&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 3.以上两者都不符合，更新前驱节点的等待状态为SIGNAL，返回false&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (shouldParkAfterFailedAcquire(p, node) &amp;amp;&amp;amp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //使用LockSupport类的静态方法park挂起当前线程，直到被唤醒，唤醒后检查当前线程是否被中断，返回该线程中断状态并重置中断状态&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parkAndCheckInterrupt())&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //该线程被中断过&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; interrupted = true;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } finally {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 尝试获取资源失败并执行异常，取消请求，将当前节点从队列中移除&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (failed)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cancelAcquire(node);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-550" y="4270" width="910" height="1420" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-71" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-41" y="-674" width="1080" height="455" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;AbstractQueuedSynchronizer&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-480" y="-1250" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="139" y="-618" width="140" height="380" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-7" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;prev&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="149" y="-598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="149" y="-523" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;waitStatus&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="149" y="-449" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;thread&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="149" y="-377" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-15" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="319" y="-618" width="140" height="380" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-16" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;prev&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="329" y="-598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="329" y="-524" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;waitStatus&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="329" y="-449" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;thread&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="329" y="-377" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="504" y="-618" width="140" height="380" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-21" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;prev&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="514" y="-598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="514" y="-524" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-23" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;waitStatus&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="514" y="-449" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;thread&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="514" y="-377" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-25" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="689" y="-617" width="140" height="380" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-26" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;prev&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="699" y="-597" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-27" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="699" y="-524" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-28" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;waitStatus&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="699" y="-448" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;thread&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="699" y="-376" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-30" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-16" target="v0gpbXGbmCtM7Lem7zQx-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="369" y="-468" as="sourcePoint" />
            <mxPoint x="419" y="-518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-31" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-8" target="v0gpbXGbmCtM7Lem7zQx-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="369" y="-468" as="sourcePoint" />
            <mxPoint x="419" y="-518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-32" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-17" target="v0gpbXGbmCtM7Lem7zQx-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="314" y="-318" as="sourcePoint" />
            <mxPoint x="364" y="-368" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-33" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-22" target="v0gpbXGbmCtM7Lem7zQx-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="259" y="-317" as="sourcePoint" />
            <mxPoint x="309" y="-367" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-34" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-21" target="v0gpbXGbmCtM7Lem7zQx-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="314" y="-318" as="sourcePoint" />
            <mxPoint x="364" y="-368" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-35" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-26" target="v0gpbXGbmCtM7Lem7zQx-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="259" y="-317" as="sourcePoint" />
            <mxPoint x="309" y="-367" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-36" value="&lt;b&gt;AbstractQueuedSynchronizer抽象同步队列简称A Q S，它是实现同步器的基础组件，如常用的ReentrantLock、Semaphore、CountDownLatch等。&lt;/b&gt;&lt;div&gt;&lt;b&gt;A Q S的组成结构由&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;三部分组成，state同步状态、Node组成的CLH队列、ConditionObject条件变量（包含Node组成的条件单向队列）&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-470" y="-1190" width="830" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="156" y="-659" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="329" y="-659" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="504" y="-650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="699" y="-650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-41" value="" style="whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-21" y="-598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;head&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="9" y="-583" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-43" value="" style="whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-21" y="-488" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-44" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;tail&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="14" y="-473" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.005;entryY=0.127;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-41" target="v0gpbXGbmCtM7Lem7zQx-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="439" y="-328" as="sourcePoint" />
            <mxPoint x="489" y="-378" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-46" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-27" target="v0gpbXGbmCtM7Lem7zQx-43">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="259" y="-334" as="sourcePoint" />
            <mxPoint x="309" y="-384" as="targetPoint" />
            <Array as="points">
              <mxPoint x="859" y="-494" />
              <mxPoint x="859" y="-457" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nextWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="149" y="-308" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-48" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nextWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="329" y="-308" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nextWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="514" y="-308" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-50" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nextWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="699" y="-307" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-51" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;nextWaiter特殊标记&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;Node在CLH队列时，nextWaiter表示共享式或独占式标记&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;Node在条件队列时，nextWaiter表示下个Node节点指针&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1119" y="-365" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-52" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;strokeWidth=2;" edge="1" parent="1" target="v0gpbXGbmCtM7Lem7zQx-50">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1119" y="-334" as="sourcePoint" />
            <mxPoint x="659" y="-377" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-58" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.007;exitY=0.539;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF3333;strokeWidth=2;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-7" target="v0gpbXGbmCtM7Lem7zQx-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1058.9000000000005" y="-319.00000000000045" as="sourcePoint" />
            <mxPoint x="569" y="-426" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-59" value="&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;AbstractQueuedSynchronizer提供的核心函数&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;getState()：返回同步状态&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;setState(int newState)：设置同步状态&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;compareAndSetState(int expect, int update)：使用C A S设置同步状态&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;isHeldExclusively()：当前线程是否持有资源&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;独占资源（不响应线程中断）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;tryAcquire(int arg)：独占式获取资源，子类实现&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquire(int arg)：独占式获取资源模板&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;tryRelease(int arg)：独占式释放资源，子类实现&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;release(int arg)：独占式释放资源模板&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;共享资源（不响应线程中断）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;tryAcquireShared(int arg)：共享式获取资源，返回值大于等于0则表示获取成功，否则获取失败，子类实现&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquireShared(int arg)：共享形获取资源模板&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;tryReleaseShared(int arg)：共享式释放资源，子类实现&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;releaseShared(int arg)：共享式释放资源模板&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-485" y="420" width="600" height="430" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-60" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="-481" y="-794" width="330" height="995" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-61" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;volatile int state&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="-411" y="-726" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;volatile Node head&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="-416" y="-575" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;volatile Node tail&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="-416" y="-465" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;同步状态&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-376" y="-666" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;AQS队列头结点&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-416" y="-515" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;AQS队列尾结点&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-396" y="-395" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-70" value="&lt;font style=&quot;color: rgb(153, 51, 255); font-size: 20px;&quot;&gt;&lt;b style=&quot;&quot;&gt;AbstractQueuedSynchronizer&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-486" y="-794" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CLH双向队列&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-41" y="-674" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-73" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="-216" y="-556" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-74" value="" style="shape=singleArrow;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-145" y="-533" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-75" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-416" y="1" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-76" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ConditionObject&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-401" y="16" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-78" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-66" y="11" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-79" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConditionNode firstWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="14" y="61" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-80" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConditionNode lastWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="14" y="134" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-81" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.974;exitY=0.474;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.011;entryY=0.11;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-76" target="v0gpbXGbmCtM7Lem7zQx-78">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="234" y="-179" as="sourcePoint" />
            <mxPoint x="284" y="-229" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConditionObject&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-56" y="16" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-84" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="324" y="109.87" as="sourcePoint" />
            <mxPoint x="414" y="109.87" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-85" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="414" y="16.120000000000005" width="620" height="190" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-86" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" vertex="1" parent="1">
          <mxGeometry x="504" y="66.12" width="80" height="120" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-87" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="634" y="66.12" width="70" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-88" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="764" y="66.12" width="80" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-89" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="894" y="66.12" width="90" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-90" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-86" target="v0gpbXGbmCtM7Lem7zQx-87">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="184" y="36.120000000000005" as="sourcePoint" />
            <mxPoint x="234" y="-13.879999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-91" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-87" target="v0gpbXGbmCtM7Lem7zQx-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="184" y="36.120000000000005" as="sourcePoint" />
            <mxPoint x="234" y="-13.879999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-92" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-88" target="v0gpbXGbmCtM7Lem7zQx-89">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="184" y="36.120000000000005" as="sourcePoint" />
            <mxPoint x="234" y="-13.879999999999995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-93" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="504" y="101" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-94" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="644" y="101" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-95" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="774" y="106.12" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-96" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="914" y="104.87" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-97" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;条件单向队列&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="414" y="26.120000000000005" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-98" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 16px;&quot;&gt;同步状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;在A Q S中维护了一个同步状态变量state，getState函数获取同步状态，setState、compareAndSetState函数修改同步状态，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;对于A Q S来说，线程同步的关键是对state的操作，可以说获取、释放资源是否成功都是由state决定的，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;比如state&amp;gt;0代表可获取资源，否则无法获取，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;所以state的具体语义由实现者去定义，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;现有的ReentrantLock、ReentrantReadWriteLock、Semaphore、CountDownLatch定义的state语义都不一样。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ReentrantLock的state用来表示是否有锁资源&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ReentrantReadWriteLock的state高16位代表读锁状态，低16位代表写锁状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Semaphore的state用来表示可用信号的个数&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;CountDownLatch的state用来表示计数器的值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-484" y="-1024" width="700" height="190" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-99" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 16px;&quot;&gt;CLH队列&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;CLH是A Q S内部维护的FIFO（先进先出）双端双向队列（方便尾部节点插入），基于链表数据结构，当一个线程竞争资源失败，就会将等待资源的线程封装成一个Node节点，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;通过C A S原子操作插入队列尾部，最终不同的Node节点连接组成了一个CLH队列，所以说A Q S通过CLH队列管理竞争资源的线程，个人总结CLH队列具有如下几个优点：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;先进先出保证了公平性&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;非阻塞的队列，通过自旋锁和C A S保证节点插入和移除的原子性，实现无锁快速插入&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;采用了自旋锁思想，所以CLH也是一种基于链表的可扩展、高性能、公平的自旋锁&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-76" y="-856" width="950" height="130" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-100" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 16px;&quot;&gt;Node内部类&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Node是A Q S的内部类，每个等待资源的线程都会封装成Node节点组成C L H队列、等待队列，&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;volatile Node prev;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;前驱节点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; volatile Node next;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;后驱节点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Thread waiter;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 等待资源线程&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; volatile int status;&amp;nbsp; &amp;nbsp; 节点状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="899" y="-824" width="530" height="120" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.001;exitY=0.879;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-98" target="v0gpbXGbmCtM7Lem7zQx-61">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="99" y="-634" as="sourcePoint" />
            <mxPoint x="149" y="-684" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-102" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.134;entryY=-0.01;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="v0gpbXGbmCtM7Lem7zQx-72">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-63" y="-719" as="sourcePoint" />
            <mxPoint x="279" y="-684" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.009;exitY=0.385;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-100" target="v0gpbXGbmCtM7Lem7zQx-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="466.1700000000001" y="120.99999999999966" as="sourcePoint" />
            <mxPoint x="329" y="126.12" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-105" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;AQS工作流程概述&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;线程获取资源失败，封装成Node节点从C L H队列尾部入队并阻塞线程，某线程释放资源时会把C L H队列首部Node节点关联的线程唤醒（此处的首部是指第二个节点，后面会细说），再次获取资源。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-490" y="840" width="1080" height="50" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-106" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-237.5" y="920" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-110" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取资源&lt;/b&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-242.5" y="1099" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-112" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;释放资源&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-240" y="1420" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-113" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;构建线程节点&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="9" y="1109" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-114" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;执行临界区代码&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-240" y="1290" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-115" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;当前节点设置为哨兵节点，即头节点&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-475" y="1109" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-116" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;队列尾部入队&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="450" y="1109" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-117" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;CLH队列&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="670" y="989" width="170" height="320" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-130" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-106" target="v0gpbXGbmCtM7Lem7zQx-110">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-320" y="1020" as="sourcePoint" />
            <mxPoint x="370" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-149" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;入队&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-540" y="1613" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-150" value="&lt;b&gt;获取资源失败的线程需要封装成Node节点，接着尾部入队，在A Q S中提供addWaiter函数完成Node节点的创建与入队。&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-520" y="1653" width="670" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-151" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description:&amp;nbsp; Node节点入队-CLH队列&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param mode 标记&amp;nbsp; Node.EXCLUSIVE独占式 or Node.SHARED共享式&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; private Node addWaiter(Node mode) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //根据当前线程创建节点，等待状态为0&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node node = new Node(Thread.currentThread(), mode);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 获取尾节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node pred = tail;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (pred != null) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //如果尾节点不等于null，把当前节点的前驱节点指向尾节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; node.prev = pred;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //通过cas把尾节点指向当前节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (compareAndSetTail(pred, node)) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //之前尾节点的下个节点指向当前节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pred.next = node;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return node;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //如果添加失败或队列不存在，执行end函数&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; enq(node);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return node;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;添加节点的时候，如果从C L H队列已经存在，通过C A S快速将当前节点添加到队列尾部，如果添加失败或队列不存在，则指向enq函数自旋入队。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description: 自旋cas入队&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param node 节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; private Node enq(final Node node) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (;;) { //循环&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取尾节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node t = tail;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (t == null) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //如果尾节点为空，创建哨兵节点，通过cas把头节点指向哨兵节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (compareAndSetHead(new Node()))&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //cas成功，尾节点指向哨兵节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; tail = head;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } else {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //当前节点的前驱节点设指向之前尾节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; node.prev = t;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //cas设置把尾节点指向当前节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (compareAndSetTail(t, node)) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //cas成功，之前尾节点的下个节点指向当前节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; t.next = node;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return t;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;通过自旋C A S尝试往队列尾部插入节点，直到成功，自旋过程如果发现C L H队列不存在时会初始化C L H队列&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-540" y="1680" width="800" height="860" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-152" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;addWaiter与enq函数的入队流程图&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-575" y="2560" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-153" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;addWaiter方法&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" vertex="1" parent="1">
          <mxGeometry x="-550" y="2640" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-154" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;enq方法&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" vertex="1" parent="1">
          <mxGeometry x="-340" y="2983" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-155" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-550" y="2750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-157" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-550" y="2840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-158" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;尾节点！=null&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-555" y="2930" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-159" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CAS设置当前节点为&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;尾部&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-555" y="3050" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-160" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CLH队列是否存在&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-345" y="3190" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-161" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CAS设置哨兵节点为头部&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-15" y="3190" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-162" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CAS设置入参节点为尾部&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-345" y="3300" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-163" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-550" y="3180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-165" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;for循环自旋&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-340" y="3100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-167" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;创建哨兵节点&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-175" y="3200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-168" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;设置哨兵节点为尾部&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="155" y="3200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-170" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-153" target="v0gpbXGbmCtM7Lem7zQx-155">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="3060" as="sourcePoint" />
            <mxPoint x="80" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-171" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-155" target="v0gpbXGbmCtM7Lem7zQx-157">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="40" y="3060" as="sourcePoint" />
            <mxPoint x="90" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-172" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-157" target="v0gpbXGbmCtM7Lem7zQx-158">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="45" y="3060" as="sourcePoint" />
            <mxPoint x="95" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-173" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-158" target="v0gpbXGbmCtM7Lem7zQx-159">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="45" y="3060" as="sourcePoint" />
            <mxPoint x="95" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-174" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-159" target="v0gpbXGbmCtM7Lem7zQx-163">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="45" y="3060" as="sourcePoint" />
            <mxPoint x="95" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-175" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-158" target="v0gpbXGbmCtM7Lem7zQx-154">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-437.5" y="2940" as="sourcePoint" />
            <mxPoint x="-325" y="2993" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-375" y="2970" />
              <mxPoint x="-375" y="3023" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-176" value="否" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;" connectable="0" vertex="1" parent="v0gpbXGbmCtM7Lem7zQx-175">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-179" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-159" target="v0gpbXGbmCtM7Lem7zQx-154">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-545" y="3040" as="sourcePoint" />
            <mxPoint x="-445" y="3040" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-375" y="3090" />
              <mxPoint x="-375" y="3023" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-180" value="设置失败" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;" connectable="0" vertex="1" parent="v0gpbXGbmCtM7Lem7zQx-179">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-181" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-162" target="v0gpbXGbmCtM7Lem7zQx-165">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-455" y="3410" as="sourcePoint" />
            <mxPoint x="-285" y="3150" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-365" y="3340" />
              <mxPoint x="-365" y="3130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-182" value="失败" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;" connectable="0" vertex="1" parent="v0gpbXGbmCtM7Lem7zQx-181">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-183" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-340" y="3410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-184" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-162" target="v0gpbXGbmCtM7Lem7zQx-183">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-185" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-160" target="v0gpbXGbmCtM7Lem7zQx-162">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-186" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-165" target="v0gpbXGbmCtM7Lem7zQx-160">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-188" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-154" target="v0gpbXGbmCtM7Lem7zQx-165">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-189" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-160" target="v0gpbXGbmCtM7Lem7zQx-167">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-190" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-167" target="v0gpbXGbmCtM7Lem7zQx-161">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-191" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-161" target="v0gpbXGbmCtM7Lem7zQx-168">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-192" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-168" target="v0gpbXGbmCtM7Lem7zQx-165">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="215" y="3115" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-193" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-161" target="v0gpbXGbmCtM7Lem7zQx-165">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-355" y="3300" as="sourcePoint" />
            <mxPoint x="-305" y="3250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="50" y="3130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-194" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-225" y="3198" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-195" value="失败" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="3148" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="v0gpbXGbmCtM7Lem7zQx-196" value="成功" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="100" y="3198" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;出队&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-540" y="3600" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-2" value="&lt;b&gt;C L H队列中的节点都是获取资源失败的线程节点，当持有资源的线程释放资源时，会将head.next指向的线程节点唤醒（C L H队列的第二个节点），如果唤醒的线程节点获取资源成功，线程节点清空信息设置为头部节点（新哨兵节点），原头部节点出队（原哨兵节点）&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="3668" width="1450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-3" value="&lt;div&gt;&lt;b&gt;acquireQueued函数中的部分代码&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;//1.获取前驱节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;final Node p = node.predecessor();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;//如果前驱节点是首节点，获取资源（子类实现）&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;if (p == head &amp;amp;&amp;amp; tryAcquire(arg)) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //2.获取资源成功，设置当前节点为头节点，清空当前节点的信息，把当前节点变成哨兵节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; setHead(node);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //3.原来首节点下个节点指向为null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; p.next = null; // help GC&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //4.非异常状态，防止指向finally逻辑&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; failed = false;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //5.返回线程中断状态&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; return interrupted;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;private void setHead(Node node) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //节点设置为头部&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; head = node;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //清空线程&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; node.thread = null;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; //清空前驱节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; node.prev = null;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;只需要关注1~3步骤即可，过程非常简单，假设获取资源成功，更换头部节点，并把头部节点的信息清除变成哨兵节点，注意这个过程是不需要使用C A S来保证，因为只有一个线程能够成功获取到资源。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-540" y="3690" width="1090" height="420" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;条件变量&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Object的wait、notify函数是配合Synchronized锁实现线程间同步协作的功能，&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;AQS的ConditionObject条件变量也提供这样的功能，通过ConditionObject的await和signal两类函数完成。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;不同于Synchronized锁，一个A Q S可以对应多个条件变量，而Synchronized只有一个。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-171" y="216" width="600" height="110" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-5" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.125;exitY=0.024;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.274;entryY=1.171;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-4" target="v0gpbXGbmCtM7Lem7zQx-82">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="14" y="261" as="sourcePoint" />
            <mxPoint x="64" y="211" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-6" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ConditionObject内部维护着一个单向条件队列，不同于C H L队列，条件队列只入队执行await的线程节点，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;并且加入条件队列的节点不能在C H L队列， 条件队列出队的节点会入队到C H L队列。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;条件队列Node类是使用nextWaiter变量指向下个节点，并且因为是单向队列，所以prev与next变量都是null&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;当某个线程执行了ConditionObject的await函数，阻塞当前线程，线程会被封装成Node节点添加到条件队列的末端，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;其他线程执行ConditionObject的signal函数，会将条件队列头部线程节点转移到CL&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;H&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;队列参与竞争资源，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="414" y="221" width="640" height="110" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-7" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;CANCELED&lt;/font&gt;(1) 表示当前节点已取消调度 （当超时或被中断）会触发变更此状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;SINAL(-1)&amp;nbsp;&lt;/span&gt;表示后驱节点在等待前驱节点唤醒 （后驱节点入队时，会将前驱节点状态变更为singal）&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;CONDITION(-2)&amp;nbsp;&lt;/span&gt;表示节点在等待队列上，当其他线程调用了Condition的singal方法，Condtion状态的节点将从等待队列转移到同步队列中，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;等待获取资源&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;PROPAGATE(-3)&amp;nbsp;&lt;/span&gt;共享模式下的节点状态，前驱结点不仅会唤醒其后驱节点，同时也可能唤醒其后驱节点的后驱节点&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;(0)&amp;nbsp;&lt;/span&gt;新节点入队时默认状态&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1119" y="-650" width="790" height="190" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行await方法&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" vertex="1" parent="1">
          <mxGeometry x="-45" y="-199" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行signal方法&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-45" y="-89" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-13" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;线程A&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1446" y="-675" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-14" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程B&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1446" y="-575" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-15" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程C&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1446" y="-475" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-16" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程D&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1446" y="-355" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-17" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1526" y="-645" as="sourcePoint" />
            <mxPoint x="-836" y="-525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-18" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1526" y="-545" as="sourcePoint" />
            <mxPoint x="-836" y="-525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-19" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1526" y="-445" as="sourcePoint" />
            <mxPoint x="-836" y="-525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-20" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1526" y="-325" as="sourcePoint" />
            <mxPoint x="-836" y="-525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.091;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-936.01" y="-475" as="sourcePoint" />
            <mxPoint x="-1245.9950000000001" y="-465" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-936.01" y="-475" as="sourcePoint" />
            <mxPoint x="-1256.01" y="-475" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-936.01" y="-475" as="sourcePoint" />
            <mxPoint x="-1261.01" y="-485" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.065;entryY=0.288;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-936.01" y="-475" as="sourcePoint" />
            <mxPoint x="-1250.285" y="-501.9599999999996" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-25" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取资源&lt;/b&gt;&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1269" y="-525" width="165" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-26" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#3333FF;strokeWidth=3;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-25" target="v0gpbXGbmCtM7Lem7zQx-61">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-106" y="-449" as="sourcePoint" />
            <mxPoint x="-56" y="-499" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1186" y="-681" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-27" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取资源失败&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1092" y="-434.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-28" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取资源成功&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1092" y="-616" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-29" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;执行临界区代码&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-887" y="-616" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-30" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;释放资源唤醒队列首部节点（首节点定义是队列第二个节点）&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-682" y="-616" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-31" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;队列尾部入队&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-892" y="-434.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-32" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1126" y="-514" as="sourcePoint" />
            <mxPoint x="-892" y="-526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1126" y="-456.5" as="sourcePoint" />
            <mxPoint x="-892" y="-524.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-34" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-28" target="vV4RBcQR2R1CZRx0GpWg-29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-972" y="-476" as="sourcePoint" />
            <mxPoint x="-922" y="-526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-35" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-27" target="vV4RBcQR2R1CZRx0GpWg-31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-972" y="-474.5" as="sourcePoint" />
            <mxPoint x="-922" y="-524.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-36" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-29" target="vV4RBcQR2R1CZRx0GpWg-30">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1012" y="-476" as="sourcePoint" />
            <mxPoint x="-962" y="-526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-37" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-31" target="v0gpbXGbmCtM7Lem7zQx-43">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-476" y="-259" as="sourcePoint" />
            <mxPoint x="-426" y="-309" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-812" y="-329" />
              <mxPoint x="-86" y="-329" />
              <mxPoint x="-86" y="-458" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-38" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-30" target="v0gpbXGbmCtM7Lem7zQx-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-476" y="-479" as="sourcePoint" />
            <mxPoint x="-426" y="-529" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-86" y="-589" />
              <mxPoint x="-86" y="-689" />
              <mxPoint x="389" y="-689" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-40" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;strokeColor=#9933FF;strokeWidth=3;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-48" target="vV4RBcQR2R1CZRx0GpWg-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-486" y="-179" as="sourcePoint" />
            <mxPoint x="-436" y="-229" as="targetPoint" />
            <Array as="points">
              <mxPoint x="359" y="-169" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-41" value="&lt;b&gt;哨兵节点&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="174" y="-247" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-42" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#9933FF;strokeWidth=3;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-15" target="vV4RBcQR2R1CZRx0GpWg-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-486" y="-179" as="sourcePoint" />
            <mxPoint x="-436" y="-229" as="targetPoint" />
            <Array as="points">
              <mxPoint x="389" y="-59" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-45" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;条件队列尾部入队&lt;/font&gt;&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1.152;entryY=0.628;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#9933FF;strokeWidth=3;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-8" target="v0gpbXGbmCtM7Lem7zQx-96">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-186" y="-269" as="sourcePoint" />
            <mxPoint x="-26" y="-269" as="targetPoint" />
            <Array as="points">
              <mxPoint x="64" y="-119" />
              <mxPoint x="1094" y="-119" />
              <mxPoint x="1094" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;通知出队&lt;/font&gt;&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#9933FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-9" target="v0gpbXGbmCtM7Lem7zQx-86">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="304" y="-209" as="sourcePoint" />
            <mxPoint x="464" y="-209" as="targetPoint" />
            <Array as="points">
              <mxPoint x="74" y="-9" />
              <mxPoint x="544" y="-9" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;CLH队列尾部入队&lt;/font&gt;&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#9933FF;strokeWidth=3;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-86" target="v0gpbXGbmCtM7Lem7zQx-43">
          <mxGeometry x="0.0698" width="160" relative="1" as="geometry">
            <mxPoint x="-326" y="-169" as="sourcePoint" />
            <mxPoint x="-166" y="-169" as="targetPoint" />
            <Array as="points">
              <mxPoint x="564" y="-199" />
              <mxPoint x="114" y="-199" />
              <mxPoint x="114" y="-309" />
              <mxPoint x="39" y="-309" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-48" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;CLH队列中的线程执行await，对应的线程节点会出队，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;并构建新的条件节点到条件队列&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="79" y="-169" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-50" value="&lt;b style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;非CLH队列中的线程执行await，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;直接构建成条件队列节点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-396" y="-219" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-52" value="某个线程" style="whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-646" y="-149" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#9933FF;strokeWidth=3;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-52" target="vV4RBcQR2R1CZRx0GpWg-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="244" y="-119" as="sourcePoint" />
            <mxPoint x="294" y="-169" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-586" y="-169" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-54" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#9933FF;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-52" target="vV4RBcQR2R1CZRx0GpWg-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="244" y="-119" as="sourcePoint" />
            <mxPoint x="294" y="-169" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-586" y="-59" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-55" value="&lt;div&gt;&lt;b&gt;A Q S采用了模板方法设计模式，提供了两类模板，一类是独占式模板，另一类是共享形模式，对应的模板函数如下&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;独占式&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquire获取资源&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;release释放资源&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;共享式&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;acquireShared获取资源&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;releaseShared释放资源&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-551" y="4110" width="630" height="130" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-57" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-520" y="5240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;tryAcquire&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-520" y="5350" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-59" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-520" y="5476" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;addWaiter&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-316" y="5360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-61" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;acquireQueued&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-145" y="5350" width="155" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-62" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;selfIntterupt&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="85" y="5360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CLH队列&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-177" y="5200" width="176" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-64" value="&lt;b&gt;执行线程中断&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="94" y="5420" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-65" value="&lt;b&gt;线程获取资源成功，&lt;/b&gt;&lt;div&gt;&lt;b&gt;线程中断过&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-26" y="5350" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-66" value="&lt;b&gt;线程获取资源成功，&lt;/b&gt;&lt;div&gt;&lt;b&gt;线程未中断过&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-215" y="5470" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-67" value="&lt;b&gt;&lt;font&gt;获取资源成功&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="5430" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-68" value="&lt;b&gt;&lt;font&gt;获取资源失败&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-416" y="5350" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-70" value="&lt;b&gt;构建节点入队&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-318" y="5281" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-71" value="&lt;b&gt;自旋阻塞等待获取资源&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-125" y="5300" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-72" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-57" target="vV4RBcQR2R1CZRx0GpWg-58">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="5310" as="sourcePoint" />
            <mxPoint x="-130" y="5260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-73" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-58" target="vV4RBcQR2R1CZRx0GpWg-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-460" y="5446" as="sourcePoint" />
            <mxPoint x="-130" y="5376" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-74" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-58" target="vV4RBcQR2R1CZRx0GpWg-60">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="5410" as="sourcePoint" />
            <mxPoint x="-130" y="5360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-75" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-60" target="vV4RBcQR2R1CZRx0GpWg-63">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="5410" as="sourcePoint" />
            <mxPoint x="-130" y="5360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-256" y="5230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-77" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-61" target="vV4RBcQR2R1CZRx0GpWg-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="5410" as="sourcePoint" />
            <mxPoint x="-130" y="5360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-70" y="5506" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-78" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-60" target="vV4RBcQR2R1CZRx0GpWg-61">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="5410" as="sourcePoint" />
            <mxPoint x="-130" y="5360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-80" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.63;entryY=1.033;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-61" target="vV4RBcQR2R1CZRx0GpWg-63">
          <mxGeometry x="-0.0922" y="3" width="160" relative="1" as="geometry">
            <mxPoint x="-240" y="5390" as="sourcePoint" />
            <mxPoint x="-80" y="5390" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-81" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-61">
          <mxGeometry x="-0.0003" width="160" relative="1" as="geometry">
            <mxPoint x="-67" y="5330" as="sourcePoint" />
            <mxPoint x="-80" y="5390" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-82" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-61" target="vV4RBcQR2R1CZRx0GpWg-62">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-200" y="5420" as="sourcePoint" />
            <mxPoint x="-150" y="5370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-83" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-62" target="vV4RBcQR2R1CZRx0GpWg-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-200" y="5420" as="sourcePoint" />
            <mxPoint x="-150" y="5370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="220" y="5390" />
              <mxPoint x="220" y="5521" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-85" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;acquireQueued&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-520" y="5590" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取当前线程的前驱节点&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-521" y="5750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;前驱节点== 哨兵节点&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;strokeColor=#d79b00;gradientColor=#ffa500;" vertex="1" parent="1">
          <mxGeometry x="-570" y="5850" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-88" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取资源&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-560" y="5960" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当前线程节点成为哨兵节点&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="-580" y="6090" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-90" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;移除原哨兵节点&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="-520" y="6210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-91" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-521" y="6320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-93" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;shouldParkAfaterFailureAcquired&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-265" y="5850" width="269" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-94" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;前驱节点状态== SINGAL&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-250" y="5985" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-95" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;前驱节点状态== CANCELED&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-250" y="6095" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-96" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CAS设置前驱节点状态为SINGAL&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-230" y="6215" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-97" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;false&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-190.5" y="6335" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-98" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;true&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="74" y="5860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;把CANCELED节点全部移除队列&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="84" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-100" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;parkAndCheckInterrupt&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="314" y="5850" width="236" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-101" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.park（）阻塞当前线程&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="340" y="5990" width="186" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-102" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;返回当前线程状态，并重置中断状态&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="340" y="6120" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-103" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;轮询&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-190" y="5750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-104" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-85" target="vV4RBcQR2R1CZRx0GpWg-86">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-105" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-86" target="vV4RBcQR2R1CZRx0GpWg-87">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-106" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-87" target="vV4RBcQR2R1CZRx0GpWg-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-107" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-88" target="vV4RBcQR2R1CZRx0GpWg-89">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-108" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-89" target="vV4RBcQR2R1CZRx0GpWg-90">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-109" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-90" target="vV4RBcQR2R1CZRx0GpWg-91">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-110" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-103" target="vV4RBcQR2R1CZRx0GpWg-86">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-111" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-87" target="vV4RBcQR2R1CZRx0GpWg-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-260" y="5910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-93" target="vV4RBcQR2R1CZRx0GpWg-94">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-113" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-88" target="vV4RBcQR2R1CZRx0GpWg-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-114" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-94" target="vV4RBcQR2R1CZRx0GpWg-95">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-116" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-95" target="vV4RBcQR2R1CZRx0GpWg-96">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-117" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-96" target="vV4RBcQR2R1CZRx0GpWg-97">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-95" target="vV4RBcQR2R1CZRx0GpWg-99">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-119" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-99" target="vV4RBcQR2R1CZRx0GpWg-97">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="6160" as="sourcePoint" />
            <mxPoint x="-80" y="6110" as="targetPoint" />
            <Array as="points">
              <mxPoint x="144" y="6365" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-120" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-93" target="vV4RBcQR2R1CZRx0GpWg-98">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-121" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-93" target="vV4RBcQR2R1CZRx0GpWg-103">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5990" as="sourcePoint" />
            <mxPoint x="-80" y="5940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-122" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-100" target="vV4RBcQR2R1CZRx0GpWg-103">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5930" as="sourcePoint" />
            <mxPoint x="-80" y="5880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="432" y="5780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-123" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-98" target="vV4RBcQR2R1CZRx0GpWg-100">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5930" as="sourcePoint" />
            <mxPoint x="-80" y="5880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-124" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-100" target="vV4RBcQR2R1CZRx0GpWg-101">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="5929.999999999999" as="sourcePoint" />
            <mxPoint x="-82" y="5880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-125" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-101" target="vV4RBcQR2R1CZRx0GpWg-102">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-130" y="5930" as="sourcePoint" />
            <mxPoint x="-80" y="5880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-126" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-510" y="5920" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-127" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-340" y="5860" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-128" value="&lt;b&gt;成功&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-510" y="6050" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-129" value="&lt;b&gt;失败&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-326" y="5970" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-130" value="&lt;b&gt;函数执行后返回false&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-186" y="5810" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-131" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="15" y="6150" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-132" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="24" y="5900" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-133" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-120" y="5940" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-134" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-115" y="6060" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-135" value="&lt;b&gt;函数执行完后&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="380" y="5800" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-136" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-620" y="5570" as="sourcePoint" />
            <mxPoint x="610" y="5570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-137" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-620" y="6440" as="sourcePoint" />
            <mxPoint x="-620" y="5570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-138" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="6440" as="sourcePoint" />
            <mxPoint x="600" y="5570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-141" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-610" y="6440" as="sourcePoint" />
            <mxPoint x="600" y="6440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-142" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=1;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" target="vV4RBcQR2R1CZRx0GpWg-61">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="10" y="5570" as="sourcePoint" />
            <mxPoint x="-20" y="5620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-143" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;独占式释放资源&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-700" y="6498" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-144" value="&lt;b&gt;有获取资源，自然就少不了释放资源，A Q S中提供了release模板函数来释放资源，模板流程就是线程释放资源成功，唤醒CLH队列的第二个线程节点（首节点的下个节点）&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description: 独占式-释放资源模板函数&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param arg&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @return: boolean&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; public final boolean release(int arg) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (tryRelease(arg)) {//释放资源成功，tryRelease子类实现&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取头部线程节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node h = head;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (h != null &amp;amp;&amp;amp; h.waitStatus != 0) //头部线程节点不为null，并且等待状态不为0&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒CHL队列第二个线程节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; unparkSuccessor(h);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return false;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; private void unparkSuccessor(Node node) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取节点等待状态&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; int ws = node.waitStatus;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (ws &amp;lt; 0)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //cas更新节点状态为0&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; compareAndSetWaitStatus(node, ws, 0);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取下个线程节点&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node s = node.next;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (s == null || s.waitStatus &amp;gt; 0) { //如果下个节点信息异常，从尾节点循环向前获取到正常的节点为止，正常情况不会执行&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; s = null;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (Node t = tail; t != null &amp;amp;&amp;amp; t != node; t = t.prev)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (t.waitStatus &amp;lt;= 0)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; s = t;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (s != null)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒线程节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; LockSupport.unpark(s.thread);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-706" y="6545" width="940" height="620" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-145" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;release&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-690" y="7180" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-146" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;释放资源成功&lt;/b&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-716" y="7310" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-147" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;头部线程节点是否异常&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-716" y="7440" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-148" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;unparkSuccessor&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" vertex="1" parent="1">
          <mxGeometry x="-719" y="7580" width="196" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-149" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新头部节点状态为0&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-719" y="7720" width="196" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-150" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取头部节点的下个节点&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-719" y="7840" width="196" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-151" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;下个节点信息是否异常&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-716" y="7960" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-152" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;下个节点！= null&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-716" y="8090" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-153" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;false&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-396" y="7320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-154" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;从尾部节点开始循环获取，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;直到获取到正常节点为止&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="-397" y="7970" width="211" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-155" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;true&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-681" y="8320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-156" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.unpark()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;唤醒下个线程节点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-705.5" y="8210" width="171" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-157" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-145" target="vV4RBcQR2R1CZRx0GpWg-146">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-170" y="7440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-158" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-146">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-621" y="7430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-159" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-147" target="vV4RBcQR2R1CZRx0GpWg-148">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-170" y="7440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-160" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-148" target="vV4RBcQR2R1CZRx0GpWg-149">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-170" y="7440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-161" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-149" target="vV4RBcQR2R1CZRx0GpWg-150">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7660" as="sourcePoint" />
            <mxPoint x="-170" y="7610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-162" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-150" target="vV4RBcQR2R1CZRx0GpWg-151">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7830" as="sourcePoint" />
            <mxPoint x="-170" y="7780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-163" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-151" target="vV4RBcQR2R1CZRx0GpWg-152">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7990" as="sourcePoint" />
            <mxPoint x="-170" y="7940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-164" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-152" target="vV4RBcQR2R1CZRx0GpWg-156">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="8160" as="sourcePoint" />
            <mxPoint x="-170" y="8110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-156" target="vV4RBcQR2R1CZRx0GpWg-155">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="8160" as="sourcePoint" />
            <mxPoint x="-170" y="8110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-167" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-146" target="vV4RBcQR2R1CZRx0GpWg-153">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-170" y="7440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-168" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-147" target="vV4RBcQR2R1CZRx0GpWg-153">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7490" as="sourcePoint" />
            <mxPoint x="-170" y="7440" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-336" y="7480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-169" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-151" target="vV4RBcQR2R1CZRx0GpWg-154">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7990" as="sourcePoint" />
            <mxPoint x="-170" y="7940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-170" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-154" target="vV4RBcQR2R1CZRx0GpWg-152">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="7830" as="sourcePoint" />
            <mxPoint x="-170" y="7780" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-291" y="8130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-171" value="&lt;b&gt;成功&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-475" y="7310" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-172" value="&lt;b&gt;失败&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-670" y="7400" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-173" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-665" y="7540" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-174" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-430" y="7490" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-175" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-500" y="7960" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-177" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-681" y="8050" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-178" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;共享式获取资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-750" y="8433" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-179" value="&lt;b&gt;acquireShared是个模板函数，模板流程就是线程获取共享资源，如果获取到资源，线程直接返回，否则进入CLH队列，直到获取到资源为止，且整个过程忽略中断的影响&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description: 共享式-获取资源模板函数&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param arg&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @return: void&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; public final void acquireShared(int arg) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 1.负数表示失败&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 2.0表示成功，但没有剩余可用资源&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* 3.正数表示成功且有剩余资源&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (tryAcquireShared(arg) &amp;lt; 0) //获取资源失败，tryAcquireShared子类实现&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //自旋阻塞等待获取资源&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; doAcquireShared(arg);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;doAcquireShared函数与独占式的acquireQueued函数逻辑基本一致&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;div&gt;节点的标记是共享式&lt;/div&gt;&lt;div&gt;获取资源成功，还会唤醒后续资源，因为资源数可能&amp;gt;0，代表还有资源可获取，所以需要做后续线程节点的唤醒&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-746" y="8468" width="920" height="330" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-180" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;共享式释放资源&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-760" y="8830" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-181" value="&lt;b&gt;&lt;font&gt;A Q S中提供了releaseShared模板函数来释放资源，模板流程就是线程释放资源成功，唤醒CHL队列的第二个线程节点（首节点的下个节点）&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /**&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @description: 共享式-释放资源模板函数&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @param arg&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @return: boolean&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; public final boolean releaseShared(int arg) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (tryReleaseShared(arg)) {//释放资源成功，tryReleaseShared子类实现&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒后继节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; doReleaseShared();&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return false;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; private void doReleaseShared() {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (;;) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //获取头节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node h = head;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (h != null &amp;amp;&amp;amp; h != tail) {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; int ws = h.waitStatus;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (ws == Node.SIGNAL) {//如果头节点等待状态为SIGNAL&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0))//更新头节点等待状态为0&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; continue;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // loop to recheck cases&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒头节点下个线程节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; unparkSuccessor(h);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //如果后继节点暂时不需要被唤醒，更新头节点等待状态为PROPAGATE&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else if (ws == 0 &amp;amp;&amp;amp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;!compareAndSetWaitStatus(h, 0, Node.PROPAGATE))&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; continue;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (h == head)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;与独占式释放资源区别不大，都是唤醒头节点的下个节点&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-750" y="8870" width="770" height="590" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-182" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当前线程阻塞&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="216" y="1109" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-183" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;CLH队列线程节点获取资源成功场景&lt;/font&gt;&lt;/b&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0.96;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-475" y="1019" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-184" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;非CLH队列线程节点场景&lt;/font&gt;&lt;/b&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;fillColor=#f9f7ed;strokeColor=#36393d;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="-143.5" y="1190" width="195" height="80" as="geometry" />
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-185" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-110" target="v0gpbXGbmCtM7Lem7zQx-114">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="1150" as="sourcePoint" />
            <mxPoint x="110" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-186" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-114" target="v0gpbXGbmCtM7Lem7zQx-112">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="1150" as="sourcePoint" />
            <mxPoint x="110" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-187" value="&lt;b&gt;CLH队列第二个线程节点唤醒&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.973;entryY=0.176;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#3333FF;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-112" target="v0gpbXGbmCtM7Lem7zQx-117">
          <mxGeometry x="-0.2379" width="160" relative="1" as="geometry">
            <mxPoint x="10" y="1120" as="sourcePoint" />
            <mxPoint x="170" y="1120" as="targetPoint" />
            <Array as="points">
              <mxPoint x="870" y="1450" />
              <mxPoint x="870" y="1045" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-188" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;现成节点重新获取资源&lt;/font&gt;&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#3333FF;strokeWidth=2;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-117" target="v0gpbXGbmCtM7Lem7zQx-106">
          <mxGeometry x="0.0006" width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
            <Array as="points">
              <mxPoint x="755" y="950" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-189" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-110" target="v0gpbXGbmCtM7Lem7zQx-113">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-190" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-113" target="vV4RBcQR2R1CZRx0GpWg-182">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-191" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="vV4RBcQR2R1CZRx0GpWg-182" target="v0gpbXGbmCtM7Lem7zQx-116">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-192" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-116" target="v0gpbXGbmCtM7Lem7zQx-117">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
            <Array as="points">
              <mxPoint x="530" y="1340" />
              <mxPoint x="755" y="1340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-194" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-115" target="v0gpbXGbmCtM7Lem7zQx-114">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-395" y="1320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vV4RBcQR2R1CZRx0GpWg-195" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="v0gpbXGbmCtM7Lem7zQx-110" target="v0gpbXGbmCtM7Lem7zQx-115">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="1260" as="sourcePoint" />
            <mxPoint x="370" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-1" value="&lt;div&gt;&lt;b&gt;state 初始化 0，在多线程条件下，线程要执行临界区的代码，必须首先获取 state，某个线程获取成功之后， state 加 1，其他线程再获取的话由于共享资源已被占用，所以会到 FIFO 等待队列去等待，等占有 state 的线程执行完临界区的代码释放资源( state 减 1)后，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;会唤醒 FIFO 中的下一个等待线程（head 中的下一个结点）去获取 state。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;state 由于是多线程共享变量，所以必须定义成 volatile，以保证 state 的可见性, 同时虽然 volatile 能保证可见性，但不能保证原子性，所以 AQS 提供了对 state 的原子操作方法，保证了线程安全。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-475" y="-1130" width="1440" height="70" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;LockSupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-316" y="-4343" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-3" value="&lt;b&gt;LockSupport是线程工具类，主要作用是阻塞和唤醒线程，底层实现依赖Unsafe，同时它还是锁和其他同步类实现的基础，LockSupport提供两类静态函数分别是park和unpark，即阻塞与唤醒线程&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-311" y="-4276" width="1070" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-4" value="&lt;div&gt;&lt;b&gt;&amp;nbsp;public static void main(String[] agrs) throws InterruptedException {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Thread th = new Thread(() -&amp;gt; {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //阻塞当前线程&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; LockSupport.park();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; System.out.println(&quot;子线程执行---------&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; });&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; th.start();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //睡眠2秒&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Thread.sleep(2000);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; System.out.println(&quot;主线程执行---------&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒线程&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; LockSupport.unpark(th);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;输出结果：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;主线程执行---------&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;子线程执行---------&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;上述示例中，子线程th调用LockSupport.park()阻塞，主线程睡眠2秒后，执行LockSupport.unpark(th)唤醒th线程，先阻塞后唤醒&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp;public static void main(String[] agrs) throws InterruptedException {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Thread th = new Thread(() -&amp;gt; {&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //唤醒当前线程&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; LockSupport.unpark(Thread.currentThread());&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //阻塞当前线程&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; LockSupport.park();&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; System.out.println(&quot;子线程执行---------&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; });&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; th.start();&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //睡眠2秒&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Thread.sleep(2000);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; System.out.println(&quot;主线程执行---------&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;输出结果：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;子线程执行---------&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;主线程执行---------&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;先唤醒th线程，再阻塞th线程，最终th线程没有被阻塞，这是为什么&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;LockSupport的设计思路是通过许可证来实现的，就像汽车上高速公路，入口处要获取通行卡，出口处要交出通行卡，如果没有通行卡你就无法出站，当然你可以选择补一张通行卡。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;LockSupport会为使用它的线程关联一个许可证（permit）状态，permit的语义「是否拥有许可」，0代表否，1代表是，默认是0。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;LockSupport.unpark：指定线程关联的permit直接更新为1，如果更新前的permit&amp;lt;1，唤醒指定线程&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;LockSupport.park：当前线程关联的permit如果&amp;gt;0，直接把permit更新为0，否则阻塞当前线程&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;div&gt;线程A执行LockSupport.park，发现permit为0，未持有许可证，阻塞线程A&lt;/div&gt;&lt;div&gt;线程B执行LockSupport.unpark（入参线程A），为A线程设置许可证，permit更新为1，唤醒线程A&lt;/div&gt;&lt;div&gt;线程B流程结束&lt;/div&gt;&lt;div&gt;线程A被唤醒，发现permit为1，消费许可证，permit更新为0&lt;/div&gt;&lt;div&gt;线程A执行临界区&lt;/div&gt;&lt;div&gt;线程A流程结束&lt;/div&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-311" y="-4246" width="990" height="860" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-5" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程A&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-238" y="-3373" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程B&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="238" y="-3233" width="164" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-7" value="&lt;b style=&quot;text-wrap: nowrap; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.park&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-263" y="-3243" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-8" value="&lt;b style=&quot;text-align: left; text-wrap: nowrap;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.unpark&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="236" y="-3120" width="166" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-9" value="&lt;b style=&quot;text-wrap: nowrap; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.park&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-258" y="-2863" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-10" value="&lt;b style=&quot;text-wrap: nowrap; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.unpark&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="239" y="-2613" width="161" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;permit &amp;gt; 0&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-262.5" y="-3113" width="168.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-12" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新前permit&amp;lt; 1&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="228.5" y="-2870" width="181" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-264" y="-2613" width="166" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="236" y="-2463" width="164" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新permit=0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-258.25" y="-2973" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;阻塞当前线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="-14" y="-3103" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行临界区代码&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-258.25" y="-2733" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新permit = 1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="238" y="-2990" width="164" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;唤醒线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="239" y="-2733" width="161" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-5" target="IRd6eSBVlSbK311jkY0Q-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2943" as="sourcePoint" />
            <mxPoint x="212" y="-2993" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-7" target="IRd6eSBVlSbK311jkY0Q-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2943" as="sourcePoint" />
            <mxPoint x="212" y="-2993" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-22" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-11" target="IRd6eSBVlSbK311jkY0Q-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-178" y="-3043" as="sourcePoint" />
            <mxPoint x="212" y="-2993" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-15" target="IRd6eSBVlSbK311jkY0Q-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2943" as="sourcePoint" />
            <mxPoint x="212" y="-2993" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-9" target="IRd6eSBVlSbK311jkY0Q-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2793" as="sourcePoint" />
            <mxPoint x="212" y="-2843" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.517;entryY=0.073;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-17" target="IRd6eSBVlSbK311jkY0Q-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2793" as="sourcePoint" />
            <mxPoint x="212" y="-2843" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-26" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-11" target="IRd6eSBVlSbK311jkY0Q-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="162" y="-2943" as="sourcePoint" />
            <mxPoint x="212" y="-2993" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-6" target="IRd6eSBVlSbK311jkY0Q-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="177" y="-2823" as="sourcePoint" />
            <mxPoint x="227" y="-2873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-8" target="IRd6eSBVlSbK311jkY0Q-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="367" y="-3003" as="sourcePoint" />
            <mxPoint x="227" y="-2873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-30" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-18" target="IRd6eSBVlSbK311jkY0Q-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="177" y="-2823" as="sourcePoint" />
            <mxPoint x="227" y="-2873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-31" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-12" target="IRd6eSBVlSbK311jkY0Q-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="177" y="-2823" as="sourcePoint" />
            <mxPoint x="227" y="-2873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-32" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-19" target="IRd6eSBVlSbK311jkY0Q-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="175" y="-2836" as="sourcePoint" />
            <mxPoint x="225" y="-2886" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-10" target="IRd6eSBVlSbK311jkY0Q-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="305" y="-2526" as="sourcePoint" />
            <mxPoint x="225" y="-2576" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-34" value="&lt;b&gt;唤醒&lt;/b&gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-19" target="IRd6eSBVlSbK311jkY0Q-16">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="127" y="-2843" as="sourcePoint" />
            <mxPoint x="287" y="-2843" as="targetPoint" />
            <Array as="points">
              <mxPoint x="177" y="-2703" />
              <mxPoint x="177" y="-3073" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-35" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-233" y="-3015" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-36" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-83" y="-3075" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-37" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-16" target="IRd6eSBVlSbK311jkY0Q-7">
          <mxGeometry x="0.001" width="160" relative="1" as="geometry">
            <mxPoint x="127" y="-3043" as="sourcePoint" />
            <mxPoint x="287" y="-3043" as="targetPoint" />
            <Array as="points">
              <mxPoint x="64" y="-3203" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-38" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-12" target="IRd6eSBVlSbK311jkY0Q-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="37" y="-2643" as="sourcePoint" />
            <mxPoint x="87" y="-2693" as="targetPoint" />
            <Array as="points">
              <mxPoint x="447" y="-2830" />
              <mxPoint x="447" y="-2573" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-39" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="317" y="-2785" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-40" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="446" y="-2785" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-41" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fillColor=#f9f7ed;strokeColor=#36393d;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-363" y="-3373" as="sourcePoint" />
            <mxPoint x="-373" y="-2413" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;时间线&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-443" y="-2685" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-43" value="&lt;b&gt;unpark的语义明确为「使线程持有许可证」，park的语义明确为「消费线程持有的许可」，所以unpark与park的执行顺序没有强制要求，只要控制好使用的线程即可&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-430.5" y="-2383" width="900" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程A&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-208" y="-2323" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-45" value="&lt;b style=&quot;text-wrap: nowrap; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.unpark&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-233" y="-2126.5" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-46" value="&lt;b style=&quot;text-wrap: nowrap; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LockSupport.park&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-228" y="-1813" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-48" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;流程结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-234" y="-1460" width="166" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行临界区代码&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-228.25" y="-1580" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-44" target="IRd6eSBVlSbK311jkY0Q-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="192" y="-1893" as="sourcePoint" />
            <mxPoint x="242" y="-1943" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-45" target="IRd6eSBVlSbK311jkY0Q-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="192" y="-1893" as="sourcePoint" />
            <mxPoint x="-148.25" y="-2063" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-46" target="IRd6eSBVlSbK311jkY0Q-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="192" y="-1743" as="sourcePoint" />
            <mxPoint x="242" y="-1793" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.517;entryY=0.073;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-51" target="IRd6eSBVlSbK311jkY0Q-48">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="192" y="-1640" as="sourcePoint" />
            <mxPoint x="242" y="-1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-63" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="-50" y="-2213" width="75" height="253" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-66" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="-56" y="-1890" width="75" height="253" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新permit = 1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="64" y="-2250" width="164" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新前permit&amp;lt; 1&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="57" y="-2126.5" width="181" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;唤醒线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="67.5" y="-2000" width="161" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-70" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-67" target="IRd6eSBVlSbK311jkY0Q-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="-2010" as="sourcePoint" />
            <mxPoint x="250" y="-2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-71" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-68" target="IRd6eSBVlSbK311jkY0Q-69">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="-2010" as="sourcePoint" />
            <mxPoint x="250" y="-2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;permit &amp;gt; 0&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="60" y="-1850" width="168.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;更新permit=0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="64.25" y="-1710" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;阻塞当前线程&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="308.5" y="-1840" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-75" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-72" target="IRd6eSBVlSbK311jkY0Q-73">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="144.5" y="-1780" as="sourcePoint" />
            <mxPoint x="534.5" y="-1730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="IRd6eSBVlSbK311jkY0Q-72" target="IRd6eSBVlSbK311jkY0Q-74">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="484.5" y="-1680" as="sourcePoint" />
            <mxPoint x="534.5" y="-1730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-77" value="&lt;b&gt;是&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="89.5" y="-1752" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IRd6eSBVlSbK311jkY0Q-78" value="&lt;b&gt;否&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="239.5" y="-1812" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;ReentrantReadWriteLock&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-690.5" y="9620" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-2" value="&lt;b&gt;ReentrantReadWriteLock有五个内部类，Sync继承自AQS、NonfairSync继承自Sync类、FairSync继承自Sync类；ReadLock实现了Lock接口、WriteLock也实现了Lock接口。五个内部类之间也是相互关联的&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-565" y="9660" width="1150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="136" y="9900" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ReentrantReadWriteLock&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="159" y="9915" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-62" y="9765" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-6" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ReadWriteLock&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-4" y="9780" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-422" y="9890" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-8" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Sync&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-324" y="9905" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-450.5" y="9765" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-10" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractQueuedSynchronizer&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-425.5" y="9780" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-282.5" y="10005" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-12" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;FairSync&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-199.5" y="10020" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-13" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-572" y="10005" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-14" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;NonfairSync&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-504" y="10020" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="898" y="10005" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-16" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;WriteLock&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="973" y="10020" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="556.5" y="10005" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-18" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ReadLock&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="623" y="10020" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-19" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="332" y="9750" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-20" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Serializable&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="405" y="9765" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="725" y="9750" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-22" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Lock&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="823" y="9765" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-3" target="dJybWBZDwxWhZcCxuPmx-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="698" y="9990" as="sourcePoint" />
            <mxPoint x="748" y="9940" as="targetPoint" />
            <Array as="points">
              <mxPoint x="311" y="9870" />
              <mxPoint x="448" y="9870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-24" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-3" target="dJybWBZDwxWhZcCxuPmx-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="698" y="9990" as="sourcePoint" />
            <mxPoint x="748" y="9940" as="targetPoint" />
            <Array as="points">
              <mxPoint x="194" y="9870" />
              <mxPoint x="55" y="9870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-13" target="dJybWBZDwxWhZcCxuPmx-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="268" y="9855" as="sourcePoint" />
            <mxPoint x="318" y="9805" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-455" y="9975" />
              <mxPoint x="-302" y="9975" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.608;entryY=1.044;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-11" target="dJybWBZDwxWhZcCxuPmx-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="268" y="9855" as="sourcePoint" />
            <mxPoint x="318" y="9805" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-166" y="9975" />
              <mxPoint x="-280" y="9975" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-27" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-7" target="dJybWBZDwxWhZcCxuPmx-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="268" y="10025" as="sourcePoint" />
            <mxPoint x="318" y="9975" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.342;entryY=0.994;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-17" target="dJybWBZDwxWhZcCxuPmx-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="773" y="9760" as="sourcePoint" />
            <mxPoint x="823" y="9710" as="targetPoint" />
            <Array as="points">
              <mxPoint x="680" y="9870" />
              <mxPoint x="805" y="9870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.668;entryY=1.039;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-15" target="dJybWBZDwxWhZcCxuPmx-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="773" y="9760" as="sourcePoint" />
            <mxPoint x="823" y="9710" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1012" y="9870" />
              <mxPoint x="881" y="9870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-30" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-11" target="dJybWBZDwxWhZcCxuPmx-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="518" y="9980" as="sourcePoint" />
            <mxPoint x="568" y="9930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-31" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="518" y="9980" as="sourcePoint" />
            <mxPoint x="238" y="9960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-32" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-7" target="dJybWBZDwxWhZcCxuPmx-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="518" y="9730" as="sourcePoint" />
            <mxPoint x="568" y="9680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-33" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="dJybWBZDwxWhZcCxuPmx-3" target="dJybWBZDwxWhZcCxuPmx-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="518" y="9980" as="sourcePoint" />
            <mxPoint x="568" y="9930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-34" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="dJybWBZDwxWhZcCxuPmx-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="368" y="9930" as="sourcePoint" />
            <mxPoint x="568" y="9930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-35" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&amp;nbsp;Sync抽象类继承自AQS抽象类，Sync类提供了对ReentrantReadWriteLock的支持。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Sync类的内部类，&lt;/b&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;Sync的构造函数中设置了本地线程计数器和AQS的状态state&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Sync类内部存在两个内部类，分别为HoldCounter和ThreadLocalHoldCounter，其中HoldCounter主要与读锁配套使用&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;: HoldCounter主要有两个属性，count和tid，其中count表示某个读线程重入的次数，tid表示该线程的tid字段的值，该字段可以用来唯一标识一个线程。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;ThreadLocalHoldCounter重写了ThreadLocal的initialValue方法，ThreadLocal类可以将线程与对象相关联。在没有进行set的情况下，get到的均是initialValue方法里面生成的那个HolderCounter对象。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-700" y="10110" width="1110" height="140" as="geometry" />
        </mxCell>
        <mxCell id="dJybWBZDwxWhZcCxuPmx-36" value="&lt;div&gt;&lt;b&gt;写锁的获取&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ReentrantReadWriteLock 的写锁是独占式锁，而实现写锁的同步语义是通过重写 AQS 中的 tryAcquire 方法实现的&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;获取写锁：首先会获取state，判断是否为0； 1. 若为0，表示此时没有读锁线程，再判断写线程是否应该被阻塞，而在非公平策略下总是不会被阻塞，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;在公平策略下会进行判断(判断同步队列中是否有等待时间更长的线程；若存在，则需要被阻塞，否则，无需阻塞)，之后在设置状态state，然后返回true。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;2. 若state不为0，则表示此时存在读锁或写锁线程，若写锁线程数量为0或者当前线程为独占锁线程，则返回false，表示不成功，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;否则，判断写锁线程的重入次数是否大于了最大值，若是，则抛出异常，否则，设置状态state，返回true，表示成功。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-682" y="10198" width="840" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-1" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ThreadLocal&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-478" y="10715" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-2" value="&lt;div&gt;&lt;b&gt;&amp;nbsp;ThreadLocal 为每个使用该变量的线程提供独立的变量副本，所以每一个线程都可以独立地改变自己的副本，而不会影响其它线程。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;每个线程都有一个 ThreadLocalMap （ ThreadLocal 内部类），Map中元素的键为 ThreadLocal ，而值对应线程的变量副本。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-565" y="11705" width="730" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-3" value="&lt;div&gt;&lt;b&gt;public T get() {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Thread t = Thread.currentThread();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ThreadLocalMap threadLocals = getMap(t);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; if (threadLocals != null) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ThreadLocalMap.Entry e = threadLocals.getEntry(this);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (e != null) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @SuppressWarnings(&quot;unchecked&quot;)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; T result = (T)e.value;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return result;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; return setInitialValue();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-553" y="11865" width="360" height="200" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-4" value="&lt;div&gt;&lt;b&gt;首先获取当前线程对象t, 然后从线程t中获取到ThreadLocalMap的成员属性threadLocals&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果当前线程的threadLocals已经初始化(即不为null) 并且存在以当前ThreadLocal对象为Key的值, 则直接返回当前线程要获取的对象(本例中为Connection);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果当前线程的threadLocals已经初始化(即不为null)但是不存在以当前ThreadLocal对象为Key的的对象, 那么重新创建一个Connection对象, 并且添加到当前线程的threadLocals Map中,并返回&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果当前线程的threadLocals属性还没有被初始化, 则重新创建一个ThreadLocalMap对象, 并且创建一个Connection对象并添加到ThreadLocalMap对象中并返回。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="12082" width="1050" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-5" value="&lt;div&gt;&lt;b&gt;public void set(T value) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Thread t = Thread.currentThread();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ThreadLocalMap map = getMap(t);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; if (map != null)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; map.set(this, value);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; else&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; createMap(t, value);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-563" y="12435" width="230" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;ThreadLocalMap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-587" y="12568" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-7" value="&lt;div&gt;&lt;b&gt;本质上来讲, 它就是一个Map, 但是这个ThreadLocalMap与平时见到的Map有点不一样&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;它没有实现Map接口;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;它没有public的方法, 最多有一个default的构造方法, 因为这个ThreadLocalMap的方法仅仅在ThreadLocal类中调用, 属于静态内部类&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ThreadLocalMap的Entry实现继承了WeakReference&amp;lt;ThreadLocal&amp;lt;?&amp;gt;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;该方法仅仅用了一个Entry数组来存储Key, Value; Entry并不是链表形式, 而是每个bucket里面仅仅放一个Entry;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-572" y="12613" width="730" height="140" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-8" value="如果存在则直接返回很好理解, 那么对于如何初始化的代码又是怎样的呢?" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-570" y="12192" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-9" value="&lt;div&gt;&lt;b&gt;private T setInitialValue() {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; T value = initialValue();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Thread t = Thread.currentThread();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ThreadLocalMap map = getMap(t);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; if (map != null)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; map.set(this, value);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; else&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; createMap(t, value);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; return value;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="12222" width="230" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-10" value="&lt;div&gt;&lt;b&gt;首先调用上面写的重载过后的initialValue方法&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;继续查看当前线程的threadLocals是不是空的, 如果ThreadLocalMap已被初始化, 那么直接将产生的对象添加到ThreadLocalMap中, 如果没有初始化, 则创建并添加对象到其中;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-565" y="12375" width="960" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-11" value="&lt;div&gt;&lt;b&gt;ThreadLocal能够实现变量的多线程隔离了; 其实就是用了Map的数据结构给当前线程缓存了, 要使用的时候就从本线程的threadLocals对象中获取就可以了, key就是当前线程;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当然了在当前线程下获取当前线程里面的Map里面的对象并操作肯定没有线程并发问题了, 当然能做到变量的线程间隔离了;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-563" y="11775" width="950" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-12" value="&lt;div&gt;&lt;b&gt;private void set(ThreadLocal&amp;lt;?&amp;gt; key, Object value) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; // We don&#39;t use a fast path as with get() because it is at&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; // least as common to use set() to create new entries as&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; // it is to replace existing ones, in which case, a fast&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; // path would fail more often than not.&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Entry[] tab = table;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int len = tab.length;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int i = key.threadLocalHashCode &amp;amp; (len-1);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;//这里用的是Hash冲突的开放定址法的线性探测&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; for (Entry e = tab[i];&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;e != null;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;e = tab[i = nextIndex(i, len)]) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ThreadLocal&amp;lt;?&amp;gt; k = e.get();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (k == key) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; e.value = value;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (k == null) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; replaceStaleEntry(key, value, i);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; tab[i] = new Entry(key, value);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int sz = ++size;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; if (!cleanSomeSlots(i, sz) &amp;amp;&amp;amp; sz &amp;gt;= threshold)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rehash();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-578" y="12815" width="350" height="490" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-13" value="&lt;div&gt;&lt;b&gt;看下当前threadLocal的在数组中的索引位置 比如: i = 2，看i = 2位置上面的元素(Entry)的Key是否等于threadLocal 这个 Key, 如果等于就很好说了, 直接将该位置上面的Entry的Value替换成最新的就可以了;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果当前位置上面的 Entry 的 Key为空, 说明ThreadLocal对象已经被回收了, 那么就调用replaceStaleEntry&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果清理完无用条目(ThreadLocal被回收的条目)、并且数组中的数据大小 &amp;gt; 阈值的时候对当前的Table进行重新哈希 所以, 该HashMap是处理冲突检测的机制是向后移位, 清除过期条目 最终找到合适的位置;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-585" y="13298" width="1120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Set方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-578" y="12775" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Get方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-575" y="13425" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-16" value="&lt;div&gt;&lt;b&gt;private Entry getEntry(ThreadLocal&amp;lt;?&amp;gt; key) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int i = key.threadLocalHashCode &amp;amp; (table.length - 1);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Entry e = table[i];&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; if (e != null &amp;amp;&amp;amp; e.get() == key)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return e;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; else&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return getEntryAfterMiss(key, i, e);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-590" y="13455" width="330" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-17" value="&lt;b&gt;先找到ThreadLocal的索引位置, 如果索引位置处的entry不为空并且键与threadLocal是同一个对象, 则直接返回; 否则去后面的索引位置继续查找&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-615" y="13585" width="790" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Entry对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-640" y="13638" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-19" value="&lt;div&gt;&lt;b&gt;static class Entry extends WeakReference&amp;lt;ThreadLocal&amp;lt;?&amp;gt;&amp;gt; {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; /** The value associated with this ThreadLocal. */&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Object value;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Entry(ThreadLocal&amp;lt;?&amp;gt; k, Object v) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; super(k);//父类是WeakReference，也就是相当于new了一个弱引用(k)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //也就相当于 map中的key是弱引用的&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; value = v;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-585" y="13685" width="430" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-20" value="&lt;b&gt;key指向的ThreadLocal是弱引用，是为了防止ThreadLocal对象永远不会被回收。因为，若key为强引用，当ThreadLocal不想用了，那么就令 tl = null，&lt;/b&gt;&lt;div&gt;&lt;b&gt;但是此时key中还有一个强引用指向ThreadLocal，因此也就永远无法进行回收(除非ThreadLocalMap不用了)，&lt;/b&gt;&lt;div&gt;&lt;b&gt;所以会有内存泄露；但如果key使用的是弱引用，只要GC，就会回收&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-625" y="13855" width="840" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-21" value="&lt;b&gt;但是还会有内存泄漏存在，ThreadLocal被回收，就导致key=null,此时map中也就无法访问到value，无法访问到的value也就无用了，&lt;/b&gt;&lt;div&gt;&lt;b&gt;也就是说，这个k-v对无用了，那么value也应该被回收，但实际上value可能没有被回收，因此依然存在内存泄露&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-628.5" y="13905" width="740" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-22" value="&lt;div&gt;&lt;b&gt;ThreadLocal内存泄漏的原因？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;每个线程都有⼀个 ThreadLocalMap 的内部属性，map的key是 ThreaLocal ，定义为弱引用，value是强引用类型。垃圾回收的时候会⾃动回收key，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;而value的回收取决于Thread对象的生命周期。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;一般会通过线程池的方式复用线程节省资源，而如果用线程池来操作ThreadLocal 对象确实会造成内存泄露, 因为对于线程池里面不会销毁的线程,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;里面总会存在着&amp;lt;ThreadLocal, LocalVariable&amp;gt;的强引用, 因为final static 修饰的 ThreadLocal 并不会释放, 而ThreadLocalMap 对于 Key 虽然是弱引用, 但是强引用不会释放, 弱引用当然也会一直有值,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;同时创建的LocalVariable对象也不会释放, 就造成了内存泄露; 如果LocalVariable对象不是一个大对象的话, 其实泄露的并不严重, 泄露的内存 = 核心线程数 * LocalVariable对象的大小;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以, 为了避免出现内存泄露的情况, ThreadLocal提供了一个清除线程中对象的方法, 即 remove, 其实内部实现就是调用 ThreadLocalMap 的remove方法:&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-625" y="13975" width="1090" height="140" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-23" value="&lt;div&gt;&lt;b&gt;private void remove(ThreadLocal&amp;lt;?&amp;gt; key) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; Entry[] tab = table;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int len = tab.length;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; int i = key.threadLocalHashCode &amp;amp; (len-1);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; for (Entry e = tab[i];&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;e != null;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;e = tab[i = nextIndex(i, len)]) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (e.get() == key) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; e.clear();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; expungeStaleEntry(i);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;}&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-638.5" y="14115" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-24" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-410" y="10833" width="360" height="371" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="110" y="11524" width="247" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-26" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-379.5" y="10924" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-27" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-379.5" y="10984" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-379.5" y="11044" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-29" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-379.5" y="11104" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-30" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;ThreadLocal&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="158.5" y="11534" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-31" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-389.5" y="11294" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-289.5" y="10945" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-289.5" y="11005" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-289.5" y="11065" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-35" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-289.5" y="11125" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-36" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-374.5" y="11263" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-37" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-379.5" y="11304" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;value1&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="-219.5" y="11304" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocal&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-364.5" y="11319" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocalMap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-314.5" y="10874" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-41" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Thread1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-414.5" y="10794" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-42" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="54.5" y="10833" width="360" height="371" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-43" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="85" y="10924" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-44" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="85" y="10984" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="85" y="11044" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-46" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="85" y="11104" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="75" y="11294" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-48" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="175" y="10945" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="175" y="11005" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-50" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="175" y="11065" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="175" y="11125" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="90" y="11263" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-53" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="85" y="11304" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;value2&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="245" y="11304" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-55" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocal&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="100" y="11319" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-56" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocalMap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="10874" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-57" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Thread2&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="50" y="10794" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="574.25" y="10833" width="360" height="371" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-59" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="604.75" y="10924" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-60" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="604.75" y="10984" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-61" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="604.75" y="11044" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-62" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="604.75" y="11104" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-63" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="594.75" y="11294" width="300" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-64" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="694.75" y="10945" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="694.75" y="11005" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="694.75" y="11065" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="694.75" y="11125" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="609.75" y="11263" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-69" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="604.75" y="11304" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-70" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;valueN&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="764.75" y="11304" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-71" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocal&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="619.75" y="11319" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadLocalMap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="669.75" y="10874" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadN&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="569.75" y="10794" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-74" value="&lt;div&gt;&lt;b&gt;每个Thread线程内部都有一个Map。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Map里面存储线程本地对象（key）和线程的变量副本（value）&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;但是，Thread内部的Map是由ThreadLocal维护的，由ThreadLocal负责向map获取和设置线程的变量值。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以对于不同的线程，每次获取副本值时，别的线程并不能获取到当前线程的副本值，形成了副本的隔离，互不干扰。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-314.5" y="10700" width="650" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-29" target="cxujA6Uq5ATp08n0HgUk-31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-37" target="cxujA6Uq5ATp08n0HgUk-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-77" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-46" target="cxujA6Uq5ATp08n0HgUk-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-78" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-53" target="cxujA6Uq5ATp08n0HgUk-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-79" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-62" target="cxujA6Uq5ATp08n0HgUk-63">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cxujA6Uq5ATp08n0HgUk-80" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="cxujA6Uq5ATp08n0HgUk-69" target="cxujA6Uq5ATp08n0HgUk-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="85" y="11225" as="sourcePoint" />
            <mxPoint x="135" y="11175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lhK1dnsXn7NnSd33NPW3" name="Map,List,Queue,Deque">
    <mxGraphModel dx="4874" dy="4141" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="j66q3saBaf2FA8fntBeu-743" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="400" y="1100" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-742" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="400" y="1310" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-741" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="400" y="1550" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-549" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="460" y="2245" width="160" height="125" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-548" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="465" y="2455" width="160" height="123" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-547" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeWidth=2;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="460" y="2055" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;HashMap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-85" y="-2040" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-2" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;LinkedHashMap&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-100" y="-1380" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-3" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;TreeMap&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-40" y="-440" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-4" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ThreadLocalMap&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-120" y="-10" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-5" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;HashTable&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-57.5" y="400" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-6" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ConcurrentHashMap1.7&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-165" y="1132.5" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-7" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ConcurrentHashMap1.8&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-180" y="1955" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-9" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ConcurrentSkipListMap&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-180" y="3110" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="419.38" y="1150.5" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;15&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2749" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-61" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;14&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2699" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-62" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;13&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2649" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;12&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2599" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-64" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;11&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2550" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;10&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2500" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2450" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2400" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2350" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2300" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-70" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2250" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-71" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2200" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2150" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-73" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2100" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2050" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-182" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="485" y="2499" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-183" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-182">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-184" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-182">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-185" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="685" y="2100" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-186" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-185">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-187" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-185">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-188" value="" style="group;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="485" y="2100" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-189" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-188">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-190" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-188">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-191" value="" style="group;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="895" y="2100" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-192" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-191">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-193" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-191">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-206" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="562" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-207" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-206">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-208" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-206">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-215" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-206">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-216" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-206">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-217" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="383" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-218" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-217">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-219" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-217">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-220" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-217">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-221" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-217">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-222" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="753" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-223" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-222">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-224" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-222">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-225" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-222">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-226" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-222">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-227" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="917" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-228" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-227">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-229" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-227">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-230" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-227">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-231" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-227">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-232" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="205" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-233" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-232">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-234" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-232">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-235" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-232">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-236" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-232">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-242" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1435" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-243" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-242">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-244" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-242">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-245" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-242">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-246" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-242">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-247" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1263" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-248" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-247">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-249" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-247">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-250" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-247">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-251" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-247">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-252" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1605" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-253" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-252">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-254" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-252">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-255" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-252">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-256" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-252">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-257" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1773" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-258" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-257">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-259" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-257">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-260" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-257">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-261" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-257">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-262" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1079" y="3485" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-263" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="j66q3saBaf2FA8fntBeu-262">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-264" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j66q3saBaf2FA8fntBeu-262">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-265" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-262">
          <mxGeometry x="10" y="10" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-266" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-262">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-267" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="205" y="3285" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-268" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="205" y="3335" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-269" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-268">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-270" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-268">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-271" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-268">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-272" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-268">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-402" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-273" target="j66q3saBaf2FA8fntBeu-276">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-273" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="745" y="3285" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-274" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="745" y="3335" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-275" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-274">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-276" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-274">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-277" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-274">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-278" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-274">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-279" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1770" y="3285" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-280" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1770" y="3335" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-281" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-280">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-282" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-280">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-283" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-280">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-284" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-280">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-285" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1263" y="3285" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-286" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1263" y="3335" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-287" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-286">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-288" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-286">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-289" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-286">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-290" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-286">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-291" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1263" y="3061" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-292" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1263" y="3111" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-293" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-292">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-294" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-292">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-295" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-292">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-296" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-292">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-297" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;node&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="215" y="3061" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-298" value="" style="group;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="215" y="3111" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-299" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="j66q3saBaf2FA8fntBeu-298">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-300" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-298">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-301" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;down&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-298">
          <mxGeometry y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-302" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;right&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="j66q3saBaf2FA8fntBeu-298">
          <mxGeometry x="60" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-303" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-650" y="2880" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-304" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SortedMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-850" y="2995" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-305" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConcurrentMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-640" y="2995" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-306" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-380" y="3000" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-307" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;NavigableMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-865" y="3115" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-308" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConcurrentNavigableMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-800" y="3235" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-309" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Cloneable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-1150" y="3240" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-310" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-967" y="3240" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-311" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ConcurrentSkipListMap&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-810" y="3400" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-312" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.415;exitY=0.042;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-311">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-755" y="3400" as="sourcePoint" />
            <mxPoint x="-1110" y="3285" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-685" y="3360" />
              <mxPoint x="-1110" y="3360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-314" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-307" target="j66q3saBaf2FA8fntBeu-304">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-240" y="3240" as="sourcePoint" />
            <mxPoint x="-360" y="3150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-315" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-304" target="j66q3saBaf2FA8fntBeu-303">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-270" y="3280" as="sourcePoint" />
            <mxPoint x="-390" y="3190" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-775" y="2960" />
              <mxPoint x="-590" y="2960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-316" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.423;exitY=-0.057;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-311" target="j66q3saBaf2FA8fntBeu-310">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-290" y="3340" as="sourcePoint" />
            <mxPoint x="-410" y="3250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-683" y="3360" />
              <mxPoint x="-907" y="3360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-317" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-328" target="j66q3saBaf2FA8fntBeu-327">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-630" y="2234.23" as="sourcePoint" />
            <mxPoint x="-550" y="2234.23" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-690" y="2070" />
              <mxPoint x="-440" y="2070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-318" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.415;exitY=-0.057;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-311" target="j66q3saBaf2FA8fntBeu-306">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-340" y="3360" as="sourcePoint" />
            <mxPoint x="-260" y="3360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-685" y="3360" />
              <mxPoint x="-290" y="3360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-319" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.389;entryY=1.102;entryDx=0;entryDy=0;exitX=0.423;exitY=-0.032;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-311" target="j66q3saBaf2FA8fntBeu-308">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-490" y="3120" as="sourcePoint" />
            <mxPoint x="-490" y="3045" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-320" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-308" target="j66q3saBaf2FA8fntBeu-307">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-490" y="3140" as="sourcePoint" />
            <mxPoint x="-490" y="3065" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-650" y="3200" />
              <mxPoint x="-775" y="3200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-321" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.453;entryY=1.028;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryPerimeter=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-308" target="j66q3saBaf2FA8fntBeu-305">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-530" y="3150" as="sourcePoint" />
            <mxPoint x="-530" y="3075" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-650" y="3200" />
              <mxPoint x="-550" y="3200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-322" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-305" target="j66q3saBaf2FA8fntBeu-303">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-470" y="3140" as="sourcePoint" />
            <mxPoint x="-470" y="3065" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-545" y="2960" />
              <mxPoint x="-590" y="2960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-323" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-306" target="j66q3saBaf2FA8fntBeu-303">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-430" y="3140" as="sourcePoint" />
            <mxPoint x="-430" y="3065" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-290" y="2960" />
              <mxPoint x="-590" y="2960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-324" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-755" y="1840" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-325" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-1030" y="1950" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-326" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConcurrentMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-790" y="1960" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-327" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-530" y="1965" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-328" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ConcurrentHashMap&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-840" y="2100" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-329" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-328" target="j66q3saBaf2FA8fntBeu-325">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1010" y="2180" as="sourcePoint" />
            <mxPoint x="-1010" y="2105" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-690" y="2070" />
              <mxPoint x="-970" y="2070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-330" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-328" target="j66q3saBaf2FA8fntBeu-326">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-940" y="2170" as="sourcePoint" />
            <mxPoint x="-1220" y="2065" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-695" y="2040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-331" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-326" target="j66q3saBaf2FA8fntBeu-324">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-910" y="1910" as="sourcePoint" />
            <mxPoint x="-910" y="1835" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-332" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-327" target="j66q3saBaf2FA8fntBeu-324">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-490" y="1890" as="sourcePoint" />
            <mxPoint x="-490" y="1815" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-440" y="1930" />
              <mxPoint x="-695" y="1930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-333" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-338" target="j66q3saBaf2FA8fntBeu-337">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-610" y="1414.23" as="sourcePoint" />
            <mxPoint x="-530" y="1414.23" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-670" y="1250" />
              <mxPoint x="-420" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-334" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-735" y="1020" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-335" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-1010" y="1130" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-336" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConcurrentMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-770" y="1140" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-337" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-510" y="1145" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-338" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ConcurrentHashMap&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-820" y="1280" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-339" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-338" target="j66q3saBaf2FA8fntBeu-335">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-990" y="1360" as="sourcePoint" />
            <mxPoint x="-990" y="1285" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-670" y="1250" />
              <mxPoint x="-950" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-340" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-338" target="j66q3saBaf2FA8fntBeu-336">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-920" y="1350" as="sourcePoint" />
            <mxPoint x="-1200" y="1245" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-675" y="1220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-341" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-336" target="j66q3saBaf2FA8fntBeu-334">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-890" y="1090" as="sourcePoint" />
            <mxPoint x="-890" y="1015" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-342" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-337" target="j66q3saBaf2FA8fntBeu-334">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-470" y="1070" as="sourcePoint" />
            <mxPoint x="-470" y="995" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-420" y="1110" />
              <mxPoint x="-675" y="1110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-343" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-582.5" y="390" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-344" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-972.5" y="390" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-345" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Cloneable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-782.5" y="395" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-346" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;HashTable&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-762.5" y="507.5" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-347" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Dictionary&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-382.5" y="392.5" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-348" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-346" target="j66q3saBaf2FA8fntBeu-344">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-832.5" y="297.5" as="sourcePoint" />
            <mxPoint x="-832.5" y="222.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-612.5" y="477.5" />
              <mxPoint x="-912.5" y="477.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-349" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-346" target="j66q3saBaf2FA8fntBeu-345">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-712.5" y="287.5" as="sourcePoint" />
            <mxPoint x="-712.5" y="212.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-612.5" y="477.5" />
              <mxPoint x="-722.5" y="477.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-350" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-346" target="j66q3saBaf2FA8fntBeu-343">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-582.5" y="277.5" as="sourcePoint" />
            <mxPoint x="-582.5" y="202.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-612.5" y="477.5" />
              <mxPoint x="-522.5" y="477.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-351" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-346" target="j66q3saBaf2FA8fntBeu-347">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-382.5" y="567.5" as="sourcePoint" />
            <mxPoint x="-302.5" y="567.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-612.5" y="477.5" />
              <mxPoint x="-292.5" y="477.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-352" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ThreadLocalMap&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-745" y="-20" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-353" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;TreeMap&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-770" y="-330" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-354" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-410" y="-452.5" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-355" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Cloneable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-240" y="-450" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-356" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SortedMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-635" y="-570" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-357" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;NavigableMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-650" y="-450" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-358" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-357" target="j66q3saBaf2FA8fntBeu-356">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-25" y="-325" as="sourcePoint" />
            <mxPoint x="-145" y="-415" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-359" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-733" y="-680" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-360" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-940" y="-570" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-361" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-353" target="j66q3saBaf2FA8fntBeu-360">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-700" y="-390" as="sourcePoint" />
            <mxPoint x="-620" y="-390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-620" y="-360" />
              <mxPoint x="-850" y="-360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-362" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-356" target="j66q3saBaf2FA8fntBeu-359">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-360" y="-570" as="sourcePoint" />
            <mxPoint x="-360" y="-645" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-560" y="-590" />
              <mxPoint x="-673" y="-590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-363" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-360" target="j66q3saBaf2FA8fntBeu-359">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1100" y="-570" as="sourcePoint" />
            <mxPoint x="-1100" y="-645" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-850" y="-590" />
              <mxPoint x="-673" y="-590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-364" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-353" target="j66q3saBaf2FA8fntBeu-357">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1050" y="-340" as="sourcePoint" />
            <mxPoint x="-1050" y="-415" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-620" y="-360" />
              <mxPoint x="-560" y="-360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-365" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-353" target="j66q3saBaf2FA8fntBeu-354">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-410" y="-320" as="sourcePoint" />
            <mxPoint x="-410" y="-395" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-620" y="-360" />
              <mxPoint x="-350" y="-360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-366" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-353" target="j66q3saBaf2FA8fntBeu-355">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-360" y="-280" as="sourcePoint" />
            <mxPoint x="-360" y="-355" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-620" y="-360" />
              <mxPoint x="-180" y="-360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-367" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;LinkedHashMap&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-886.5" y="-1206" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-368" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-753.5" y="-1540" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-369" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-493.5" y="-1410" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-370" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Cloneable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-323.5" y="-1407.5" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-371" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-783.5" y="-1412.5" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-372" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HashMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-523.5" y="-1310" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-373" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-371" target="j66q3saBaf2FA8fntBeu-368">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-1270" as="sourcePoint" />
            <mxPoint x="-973.5" y="-1345" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-374" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-367">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1003.5" y="-1160" as="sourcePoint" />
            <mxPoint x="-693.5" y="-1490" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-813.5" y="-1450" />
              <mxPoint x="-693.5" y="-1450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-375" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-372" target="j66q3saBaf2FA8fntBeu-370">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-283.5" y="-1180" as="sourcePoint" />
            <mxPoint x="-283.5" y="-1255" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-433.5" y="-1330" />
              <mxPoint x="-263.5" y="-1330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-376" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-372" target="j66q3saBaf2FA8fntBeu-368">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-123.5" y="-1270" as="sourcePoint" />
            <mxPoint x="-123.5" y="-1345" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-433.5" y="-1330" />
              <mxPoint x="-533.5" y="-1330" />
              <mxPoint x="-533.5" y="-1450" />
              <mxPoint x="-693.5" y="-1450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-377" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-372" target="j66q3saBaf2FA8fntBeu-369">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-383.5" y="-1510" as="sourcePoint" />
            <mxPoint x="-383.5" y="-1585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-380" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-367" target="j66q3saBaf2FA8fntBeu-372">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-503.5" y="-1240" as="sourcePoint" />
            <mxPoint x="-423.5" y="-1240" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-736.5" y="-1230" />
              <mxPoint x="-433.5" y="-1230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-381" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-372" target="j66q3saBaf2FA8fntBeu-371">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-503.5" y="-1070" as="sourcePoint" />
            <mxPoint x="-423.5" y="-1070" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-433.5" y="-1330" />
              <mxPoint x="-693.5" y="-1330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-383" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Map&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-765" y="-2210" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-384" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;HashMap&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-695" y="-1980" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-385" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Serializable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-505" y="-2107.5" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-386" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Cloneable&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-335" y="-2105" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-387" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMap&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;lt;K,V&amp;gt;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-795" y="-2110" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-388" value="继承" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-384" target="j66q3saBaf2FA8fntBeu-387">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-575" y="-1770" as="sourcePoint" />
            <mxPoint x="-495" y="-1770" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-545" y="-2020" />
              <mxPoint x="-705" y="-2020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-389" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-387" target="j66q3saBaf2FA8fntBeu-383">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-1095" y="-2080" as="sourcePoint" />
            <mxPoint x="-1095" y="-2158" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-390" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-384" target="j66q3saBaf2FA8fntBeu-385">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-545" y="-2180" as="sourcePoint" />
            <mxPoint x="-545" y="-2258" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-545" y="-2020" />
              <mxPoint x="-445" y="-2020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-391" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" target="j66q3saBaf2FA8fntBeu-386">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-545" y="-1980" as="sourcePoint" />
            <mxPoint x="-335" y="-2048" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-545" y="-2020" />
              <mxPoint x="-275" y="-2020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-392" value="实现" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-384" target="j66q3saBaf2FA8fntBeu-383">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-905" y="-1980" as="sourcePoint" />
            <mxPoint x="-905" y="-2058" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-545" y="-2130" />
              <mxPoint x="-705" y="-2130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-393" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-233" target="j66q3saBaf2FA8fntBeu-219">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="283" y="3775" as="sourcePoint" />
            <mxPoint x="363" y="3665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-394" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-218" target="j66q3saBaf2FA8fntBeu-208">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="452" y="3705" as="sourcePoint" />
            <mxPoint x="532" y="3595" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-395" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-223" target="j66q3saBaf2FA8fntBeu-229">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="3705" as="sourcePoint" />
            <mxPoint x="870" y="3595" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-396" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-207" target="j66q3saBaf2FA8fntBeu-224">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="653" y="3715" as="sourcePoint" />
            <mxPoint x="733" y="3605" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-397" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-263" target="j66q3saBaf2FA8fntBeu-249">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1073" y="3735" as="sourcePoint" />
            <mxPoint x="1153" y="3625" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-398" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-228" target="j66q3saBaf2FA8fntBeu-264">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="869" y="3705" as="sourcePoint" />
            <mxPoint x="949" y="3595" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-399" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-248" target="j66q3saBaf2FA8fntBeu-244">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="615" y="3495" as="sourcePoint" />
            <mxPoint x="665" y="3445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-400" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-243" target="j66q3saBaf2FA8fntBeu-254">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1145" y="3505" as="sourcePoint" />
            <mxPoint x="1195" y="3455" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-401" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-253" target="j66q3saBaf2FA8fntBeu-259">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1126" y="3505" as="sourcePoint" />
            <mxPoint x="1176" y="3455" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-403" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;level=1&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="215" y="3011" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-404" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;level=2&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="205" y="3235" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-405" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6666;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-299" target="j66q3saBaf2FA8fntBeu-294">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="306" y="3145" as="sourcePoint" />
            <mxPoint x="966" y="3215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-406" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6666;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-269" target="j66q3saBaf2FA8fntBeu-276">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610" y="3375" as="sourcePoint" />
            <mxPoint x="660" y="3325" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-407" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#FF6666;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-275" target="j66q3saBaf2FA8fntBeu-288">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="556" y="3375" as="sourcePoint" />
            <mxPoint x="606" y="3325" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-408" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#FF6666;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-287" target="j66q3saBaf2FA8fntBeu-282">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1090" y="3415" as="sourcePoint" />
            <mxPoint x="1710" y="3385" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-409" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-273" target="j66q3saBaf2FA8fntBeu-224">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1010" y="3245" as="sourcePoint" />
            <mxPoint x="900" y="3405" as="targetPoint" />
            <Array as="points">
              <mxPoint x="720" y="3310" />
              <mxPoint x="720" y="3455" />
              <mxPoint x="783" y="3455" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-410" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-291">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1006" y="3185" as="sourcePoint" />
            <mxPoint x="1296" y="3485" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1226" y="3085" />
              <mxPoint x="1226" y="3465" />
              <mxPoint x="1296" y="3465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-411" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-267" target="j66q3saBaf2FA8fntBeu-234">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-25" y="3429.29" as="sourcePoint" />
            <mxPoint x="135" y="3429" as="targetPoint" />
            <Array as="points">
              <mxPoint x="175" y="3310" />
              <mxPoint x="175" y="3465" />
              <mxPoint x="235" y="3465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-412" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-285" target="j66q3saBaf2FA8fntBeu-249">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1026" y="3275" as="sourcePoint" />
            <mxPoint x="1186" y="3275" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1236" y="3310" />
              <mxPoint x="1236" y="3465" />
              <mxPoint x="1293" y="3465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-413" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-279" target="j66q3saBaf2FA8fntBeu-259">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1520" y="3245" as="sourcePoint" />
            <mxPoint x="1680" y="3245" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1740" y="3310" />
              <mxPoint x="1740" y="3465" />
              <mxPoint x="1800" y="3465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-414" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-297" target="j66q3saBaf2FA8fntBeu-234">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="195" y="3086" as="sourcePoint" />
            <mxPoint x="215" y="3485" as="targetPoint" />
            <Array as="points">
              <mxPoint x="155" y="3086" />
              <mxPoint x="155" y="3275" />
              <mxPoint x="155" y="3465" />
              <mxPoint x="215" y="3465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-415" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="567" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-416" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1605" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-417" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1432" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-418" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1079" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-419" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="380" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-420" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="917" y="3445" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-422" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HeadIndex&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="195" y="2970" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-423" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HeadIndex&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="195" y="3205" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-424" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1271" y="3020" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-425" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="745" y="3240" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-426" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1263" y="3240" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-427" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Index&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1770" y="3235" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-431" value="&lt;b&gt;1.8中对ConcurrentHashMap的结构进行了修改，不再使用分段锁，而是使用cas+synchronized的方式。&lt;/b&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;与HashMap一样，当链表长度大于等于8的时候且size大于64则转化为红黑树。当红黑树长度小于等于6则退化为链表。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp;同时，使用了一些特殊的结构如ForwardingNode在扩容中使用：&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="155" y="1935" width="650" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-432" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="695" y="2499" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-433" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-432">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-434" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-432">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-435" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="485" y="2651" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-436" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-435">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-437" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-435">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-438" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="485" y="2748" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-439" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-438">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-440" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-438">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-441" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="485" y="2300" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-442" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-441">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-443" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-441">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-444" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="695" y="2285" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-445" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="795" y="2335" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-446" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="795" y="2225" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-447" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="895" y="2415" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-448" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="895" y="2305" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-449" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="895" y="2195" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-451" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="1005" y="2465" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-452" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="1010" y="2373" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-453" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-73" target="j66q3saBaf2FA8fntBeu-190">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="2275" as="sourcePoint" />
            <mxPoint x="205" y="2225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-454" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-69" target="j66q3saBaf2FA8fntBeu-443">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="2275" as="sourcePoint" />
            <mxPoint x="205" y="2225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-455" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-65" target="j66q3saBaf2FA8fntBeu-184">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="2475" as="sourcePoint" />
            <mxPoint x="205" y="2425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-456" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-62" target="j66q3saBaf2FA8fntBeu-437">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="2475" as="sourcePoint" />
            <mxPoint x="205" y="2425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-457" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-60" target="j66q3saBaf2FA8fntBeu-440">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="2475" as="sourcePoint" />
            <mxPoint x="205" y="2425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-458" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-189" target="j66q3saBaf2FA8fntBeu-187">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="575" y="2675" as="sourcePoint" />
            <mxPoint x="685" y="2138" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-459" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-186" target="j66q3saBaf2FA8fntBeu-193">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2205" as="sourcePoint" />
            <mxPoint x="645" y="2155" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-460" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-183" target="j66q3saBaf2FA8fntBeu-434">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2485" as="sourcePoint" />
            <mxPoint x="645" y="2435" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-461" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-442" target="j66q3saBaf2FA8fntBeu-444">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-462" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-444" target="j66q3saBaf2FA8fntBeu-446">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-463" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-446" target="j66q3saBaf2FA8fntBeu-449">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-464" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-444" target="j66q3saBaf2FA8fntBeu-445">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-465" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-445" target="j66q3saBaf2FA8fntBeu-447">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-466" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-445" target="j66q3saBaf2FA8fntBeu-448">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2345" as="sourcePoint" />
            <mxPoint x="645" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-467" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-447" target="j66q3saBaf2FA8fntBeu-451">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2485" as="sourcePoint" />
            <mxPoint x="645" y="2435" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-468" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-447" target="j66q3saBaf2FA8fntBeu-452">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="595" y="2485" as="sourcePoint" />
            <mxPoint x="645" y="2435" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-471" value="&lt;font style=&quot;font-size: 16px; color: rgb(255, 181, 112);&quot;&gt;&lt;b style=&quot;&quot;&gt;TreeBin&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="475" y="2260" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-472" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="485" y="2469" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-473" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="490" y="2065" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-475" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;ForwardingNode&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="447" y="2621" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-476" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;Reservation&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="470" y="2719" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-477" value="&lt;font style=&quot;font-size: 16px; color: rgb(103, 171, 159);&quot;&gt;&lt;b style=&quot;&quot;&gt;TreeNode&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="745" y="2200" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-478" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1754" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-479" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;4&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1704" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-480" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;3&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1654" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-481" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;2&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1604" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-482" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1555" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-483" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;10&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1550" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-484" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1500" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-485" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1450" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-486" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1400" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-487" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1350" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-488" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1300" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-489" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1250" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-490" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1200" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-491" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1150" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-492" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1100" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-508" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="925.63" y="1555" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-509" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-508">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-510" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-508">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-511" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="925.63" y="1704" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-512" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-511">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-513" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-511">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-525" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-491" target="j66q3saBaf2FA8fntBeu-24">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="89.38" y="1325" as="sourcePoint" />
            <mxPoint x="419.38" y="1175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-526" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-487" target="j66q3saBaf2FA8fntBeu-733">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="89.38" y="1325" as="sourcePoint" />
            <mxPoint x="419.38" y="1375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-527" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-727" target="j66q3saBaf2FA8fntBeu-735">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="89.38" y="1525" as="sourcePoint" />
            <mxPoint x="419.38" y="1574" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-528" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-482" target="j66q3saBaf2FA8fntBeu-510">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610.63" y="1480" as="sourcePoint" />
            <mxPoint x="660.63" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-529" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-479" target="j66q3saBaf2FA8fntBeu-513">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="610.63" y="1480" as="sourcePoint" />
            <mxPoint x="660.63" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-545" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="915.63" y="1675" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-552" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;LockSupport&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;Synchronized&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="485" y="2146" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-553" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;LockSupport&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;Synchronized&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="485" y="2350" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-554" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;LockSupport&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;Synchronized&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="490" y="2559" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-555" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;15&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="879" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-556" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;14&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="829" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-557" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;13&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="779" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-558" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;12&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="729" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-559" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;11&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="680" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-560" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;10&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="630" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-561" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="580" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-562" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="530" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-563" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="480" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-564" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="430" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-565" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="380" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-566" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="330" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-567" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="280" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-568" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="230" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-569" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="180" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-570" value="" style="group;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="432.5" y="629" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-571" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-570">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-572" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-570">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-573" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="632.5" y="230" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-574" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-573">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-575" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-573">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-576" value="" style="group;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="432.5" y="230" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-577" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-576">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-578" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-576">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-579" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="842.5" y="230" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-580" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-579">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-581" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-579">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-582" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="642.5" y="629" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-583" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-582">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-584" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-582">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-585" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="432.5" y="781" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-586" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-585">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-587" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-585">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-588" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="432.5" y="878" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-589" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-588">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-590" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-588">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-591" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="432.5" y="430" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-592" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="j66q3saBaf2FA8fntBeu-591">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-593" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-591">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-602" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-568" target="j66q3saBaf2FA8fntBeu-578">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="102.5" y="405" as="sourcePoint" />
            <mxPoint x="152.5" y="355" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-603" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-564" target="j66q3saBaf2FA8fntBeu-593">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="102.5" y="405" as="sourcePoint" />
            <mxPoint x="152.5" y="355" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-604" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-560" target="j66q3saBaf2FA8fntBeu-572">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="102.5" y="605" as="sourcePoint" />
            <mxPoint x="152.5" y="555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-605" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-557" target="j66q3saBaf2FA8fntBeu-587">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="102.5" y="605" as="sourcePoint" />
            <mxPoint x="152.5" y="555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-606" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-555" target="j66q3saBaf2FA8fntBeu-590">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="102.5" y="605" as="sourcePoint" />
            <mxPoint x="152.5" y="555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-607" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-577" target="j66q3saBaf2FA8fntBeu-575">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="522.5" y="805" as="sourcePoint" />
            <mxPoint x="632.5" y="268" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-608" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-574" target="j66q3saBaf2FA8fntBeu-581">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="542.5" y="335" as="sourcePoint" />
            <mxPoint x="592.5" y="285" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-609" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-571" target="j66q3saBaf2FA8fntBeu-584">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="542.5" y="615" as="sourcePoint" />
            <mxPoint x="592.5" y="565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-621" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Entry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="439.5" y="751" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-624" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Entry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="432.5" y="848" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-625" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Entry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="427.5" y="600" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-626" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Entry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="425.5" y="397.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-627" value="&lt;font style=&quot;font-size: 17px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Entry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="425.5" y="190" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-628" value="&lt;font style=&quot;font-size: 17px; color: rgb(255, 0, 128);&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="680" y="1470" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-629" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="915.63" y="1513" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-630" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1310.63" y="1703" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-631" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-630">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-632" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-630">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-633" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1300.63" y="1661" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-634" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="905.63" y="1854" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-635" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-634">
          <mxGeometry x="78" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-636" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-634">
          <mxGeometry x="20" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-637" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="915.63" y="1825" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-638" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1804" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-639" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1855" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-640" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-639" target="j66q3saBaf2FA8fntBeu-636">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1085.63" y="1775" as="sourcePoint" />
            <mxPoint x="1135.63" y="1725" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-641" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="j66q3saBaf2FA8fntBeu-632">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1235.63" y="1729" as="sourcePoint" />
            <mxPoint x="1325.63" y="1878" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-642" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1120.63" y="1855" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-643" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-642">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-644" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-642">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-646" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" target="j66q3saBaf2FA8fntBeu-644" source="j66q3saBaf2FA8fntBeu-635">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1045.63" y="1881" as="sourcePoint" />
            <mxPoint x="1135.63" y="2026" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-647" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1115.63" y="1704" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-648" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-647">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-649" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-647">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-650" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1105.63" y="1662" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-651" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-512" target="j66q3saBaf2FA8fntBeu-649">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1085.63" y="1635" as="sourcePoint" />
            <mxPoint x="1135.63" y="1585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-656" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="749.38" y="1402" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-657" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="894.38" y="1402" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-658" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-657">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-659" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-657">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-663" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-656" target="j66q3saBaf2FA8fntBeu-659">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="579.38" y="1327" as="sourcePoint" />
            <mxPoint x="629.38" y="1277" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-666" value="&lt;font style=&quot;font-size: 17px; color: rgb(255, 0, 128);&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="689.38" y="1320" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-667" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="884.38" y="1360" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-689" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="325" y="2000" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-690" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="780.63" y="1503" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-691" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="749.38" y="1350" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-693" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;3&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="748.13" y="1241" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-694" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;2&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="748.13" y="1189" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-695" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="748.13" y="1140" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-696" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="893.13" y="1140" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-697" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-696">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-698" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-696">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-699" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="893.13" y="1242" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-700" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-699">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-701" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-699">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-702" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-695" target="j66q3saBaf2FA8fntBeu-698">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="578.13" y="1065" as="sourcePoint" />
            <mxPoint x="628.13" y="1015" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-703" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-693" target="j66q3saBaf2FA8fntBeu-701">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="808.13" y="1267" as="sourcePoint" />
            <mxPoint x="628.13" y="968" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-704" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="883.13" y="1213" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-705" value="&lt;font style=&quot;font-size: 17px; color: rgb(255, 0, 128);&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="674.38" y="1050" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-706" value="&lt;font style=&quot;color: rgb(255, 51, 255); font-size: 17px;&quot;&gt;&lt;b style=&quot;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="883.13" y="1098" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-707" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1278.13" y="1241" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-708" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-707">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-709" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-707">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-711" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="j66q3saBaf2FA8fntBeu-709">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1203.13" y="1267" as="sourcePoint" />
            <mxPoint x="1293.13" y="1416" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-712" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1083.13" y="1242" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-713" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-712">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-714" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-712">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-716" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-700" target="j66q3saBaf2FA8fntBeu-714">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1053.13" y="1173" as="sourcePoint" />
            <mxPoint x="1103.13" y="1123" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-717" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="748.13" y="1088" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-718" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1083.13" y="1140" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-719" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-718">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-720" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K/V&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="j66q3saBaf2FA8fntBeu-718">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-721" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" target="j66q3saBaf2FA8fntBeu-720" source="j66q3saBaf2FA8fntBeu-697">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1058.13" y="1166" as="sourcePoint" />
            <mxPoint x="1148.13" y="1315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-723" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;15&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1800" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-724" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;14&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1750" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-725" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;13&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1700" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-726" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;12&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1650" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-727" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;11&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1600" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-728" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Segment&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="412.38" y="1115" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-729" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Segment&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="409.38" y="1320" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-730" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Segment&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="414.38" y="1560" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-732" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;count&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="419.38" y="1200.5" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-733" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="419.38" y="1350" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-734" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;count&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="419.38" y="1400" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-735" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HashEntry&amp;lt;K,V&amp;gt;[ ]&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="424.38" y="1600" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-736" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;count&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="424.38" y="1650" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-738" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-24" target="j66q3saBaf2FA8fntBeu-695">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="599.38" y="1090" as="sourcePoint" />
            <mxPoint x="649.38" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-739" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-733" target="j66q3saBaf2FA8fntBeu-691">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="799.38" y="1450" as="sourcePoint" />
            <mxPoint x="849.38" y="1400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-740" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-735" target="j66q3saBaf2FA8fntBeu-481">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="799.38" y="1650" as="sourcePoint" />
            <mxPoint x="849.38" y="1600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-744" value="&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;ReentrantLock&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="452" y="1692" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-745" value="&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;ReentrantLock&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="452" y="1450" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-746" value="&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;ReentrantLock&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="442" y="1243" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-747" value="&lt;b&gt;ConcurrentHashMap(1.7)采用分段锁+数组/链表构成。&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="232.38" y="990" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-749" value="&lt;font style=&quot;font-size: 16px; color: rgb(153, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Segment&amp;lt;K,V&amp;gt;[ ]&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="240" y="1020" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-750" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="259.38" y="1050" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-751" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="130" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-752" value="&lt;b&gt;TreeMap本身就是一颗红黑树结构。&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="90" y="-490" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-753" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="240" y="-390" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-754" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="340" y="-340" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-755" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="340" y="-450" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-756" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="440" y="-260" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-757" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="440" y="-370" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-758" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="440" y="-480" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-759" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="550" y="-210" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-760" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="555" y="-302" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-761" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-753" target="j66q3saBaf2FA8fntBeu-755">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-330" as="sourcePoint" />
            <mxPoint x="190" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-762" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-755" target="j66q3saBaf2FA8fntBeu-758">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-330" as="sourcePoint" />
            <mxPoint x="190" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-763" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-753" target="j66q3saBaf2FA8fntBeu-754">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-330" as="sourcePoint" />
            <mxPoint x="190" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-764" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-754" target="j66q3saBaf2FA8fntBeu-756">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-330" as="sourcePoint" />
            <mxPoint x="190" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-765" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-754" target="j66q3saBaf2FA8fntBeu-757">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-330" as="sourcePoint" />
            <mxPoint x="190" y="-380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-766" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-756" target="j66q3saBaf2FA8fntBeu-759">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-190" as="sourcePoint" />
            <mxPoint x="190" y="-240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-767" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-756" target="j66q3saBaf2FA8fntBeu-760">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="-190" as="sourcePoint" />
            <mxPoint x="190" y="-240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-768" value="&lt;font style=&quot;font-size: 16px; color: rgb(103, 171, 159);&quot;&gt;&lt;b style=&quot;&quot;&gt;TreeNode&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="290" y="-475" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-772" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;15&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1521" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-773" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;14&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1571" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-774" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;13&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1621" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-775" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;12&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1671" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-776" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;11&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1720" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-777" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;10&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1770" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-778" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1820" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-779" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1870" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-780" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1920" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-781" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-1970" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-782" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2020" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-783" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2070" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-784" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2120" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-785" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2170" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-786" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2220" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-787" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="400" y="-1621" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-788" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-787">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-789" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-787">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-790" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="600" y="-2170" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-791" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-790">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-792" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-790">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-793" value="" style="group;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="400" y="-2170" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-794" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-793">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-795" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-793">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-796" value="" style="group;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="810" y="-2170" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-797" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-796">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-798" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-796">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-800" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="610" y="-1621" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-801" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="j66q3saBaf2FA8fntBeu-800">
          <mxGeometry x="60" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-802" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="j66q3saBaf2FA8fntBeu-800">
          <mxGeometry width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-812" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="397.5" y="-1974" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-813" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="497.5" y="-1924" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-814" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="497.5" y="-2034" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-815" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="597.5" y="-1844" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-816" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="597.5" y="-1954" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-817" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="597.5" y="-2064" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-818" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="707.5" y="-1794" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-819" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="712.5" y="-1886" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-820" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-785" target="j66q3saBaf2FA8fntBeu-795">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="-1995" as="sourcePoint" />
            <mxPoint x="120" y="-2045" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-821" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-781" target="j66q3saBaf2FA8fntBeu-812">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="-1995" as="sourcePoint" />
            <mxPoint x="400" y="-1945" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-822" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-774" target="j66q3saBaf2FA8fntBeu-789">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="-1795" as="sourcePoint" />
            <mxPoint x="120" y="-1845" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-825" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-794" target="j66q3saBaf2FA8fntBeu-792">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="-1595" as="sourcePoint" />
            <mxPoint x="600" y="-2132" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-826" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-791" target="j66q3saBaf2FA8fntBeu-798">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="-2065" as="sourcePoint" />
            <mxPoint x="560" y="-2115" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-827" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-788" target="j66q3saBaf2FA8fntBeu-802">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="-1635" as="sourcePoint" />
            <mxPoint x="560" y="-1685" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-829" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-812" target="j66q3saBaf2FA8fntBeu-814">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1914" as="sourcePoint" />
            <mxPoint x="347.5" y="-1964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-830" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-814" target="j66q3saBaf2FA8fntBeu-817">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1914" as="sourcePoint" />
            <mxPoint x="347.5" y="-1964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-831" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-812" target="j66q3saBaf2FA8fntBeu-813">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1914" as="sourcePoint" />
            <mxPoint x="347.5" y="-1964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-832" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-813" target="j66q3saBaf2FA8fntBeu-815">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1914" as="sourcePoint" />
            <mxPoint x="347.5" y="-1964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-833" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-813" target="j66q3saBaf2FA8fntBeu-816">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1914" as="sourcePoint" />
            <mxPoint x="347.5" y="-1964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-834" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-815" target="j66q3saBaf2FA8fntBeu-818">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1774" as="sourcePoint" />
            <mxPoint x="347.5" y="-1824" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-835" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-815" target="j66q3saBaf2FA8fntBeu-819">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="297.5" y="-1774" as="sourcePoint" />
            <mxPoint x="347.5" y="-1824" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-837" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="400" y="-1651" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-838" value="&lt;font style=&quot;font-size: 16px; color: rgb(51, 51, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;Node&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="405" y="-2205" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-841" value="&lt;font style=&quot;font-size: 16px; color: rgb(103, 171, 159);&quot;&gt;&lt;b style=&quot;&quot;&gt;TreeNode&amp;lt;K,V&amp;gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="447.5" y="-2059" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-845" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="-2270" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-846" value="&lt;div&gt;&lt;b&gt;HashMap主要有由数组table和链表/红黑树组成，当链表的长度为8的时候开始转为红黑树，当红黑树的长度小于等于6则转化为链表。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;主要节点Node、TreeNode。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="-2320" width="730" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-847" value="&lt;b&gt;LinkedHashMap是在HashMap的数组+链表的基础上，再将全部节点按插入顺序/或者访问顺序构成双向链表。&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="22.5" y="-1430" width="610" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-848" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;10&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-840" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-849" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-890" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-850" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-940" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-851" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-990" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-852" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1040" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-853" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1090" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-854" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1140" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-855" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1190" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-856" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1240" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-857" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1290" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-858" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;15&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-590" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-859" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;14&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-640" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-860" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;13&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-690" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-861" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;12&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-740" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-862" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;11&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-790" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-863" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;0&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="235" y="-1340" width="60" height="50" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-864" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="442" y="-1345" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-866" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="542" y="-1205" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-867" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="542" y="-1235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-868" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="442" y="-1235" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-870" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="622" y="-1235" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-871" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="541.38" y="-1305" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-872" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="542" y="-1165" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-873" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Table[1]-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="509" y="-1335" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-874" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="812.5" y="-1346" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-875" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-1206" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-876" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-1236" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-877" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="812.5" y="-1236" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-878" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="992.5" y="-1236" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-879" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="911.8800000000001" y="-1306" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-880" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-1166" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-881" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="894.5" y="-1336" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-882" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1187.5" y="-1345" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-883" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1287.5" y="-1205" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-884" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1287.5" y="-1235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-885" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1187.5" y="-1235" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-886" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="1367.5" y="-1235" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-887" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1286.88" y="-1305" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-888" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1287.5" y="-1165" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-889" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1269.5" y="-1335" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-890" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="439.5" y="-1057" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-891" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="539.5" y="-917" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-892" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="539.5" y="-947" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-893" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="439.5" y="-947" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-894" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="619.5" y="-947" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-895" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="538.8800000000001" y="-1017" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-896" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="539.5" y="-877" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-897" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="521.5" y="-1047" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-898" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="814.5" y="-1056" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-899" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="914.5" y="-916" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-900" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="914.5" y="-946" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-901" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="814.5" y="-946" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-902" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="994.5" y="-946" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-903" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="913.8800000000001" y="-1016" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-904" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="914.5" y="-876" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-905" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="896.5" y="-1046" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-906" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="437.5" y="-760" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-907" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="-620" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-908" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="-650" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-909" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="437.5" y="-650" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-910" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="617.5" y="-650" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-911" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="536.8800000000001" y="-720" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-912" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="-580" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-913" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="519.5" y="-750" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-914" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="812.5" y="-759" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-915" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-619" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-916" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-649" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-917" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="812.5" y="-649" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-918" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="992.5" y="-649" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-919" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="911.8800000000001" y="-719" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-920" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="-579" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-921" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="894.5" y="-749" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-922" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1201" y="-760" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-923" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;v&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1301" y="-620" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-924" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;K&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1301" y="-650" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-925" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hash&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1201" y="-650" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-926" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="1381" y="-650" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-927" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;before&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1300.38" y="-720" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-928" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;after&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1301" y="-580" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-929" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;next-Entry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1283" y="-750" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-930" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-856" target="j66q3saBaf2FA8fntBeu-868">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-931" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-850" target="j66q3saBaf2FA8fntBeu-893">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-932" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-859" target="j66q3saBaf2FA8fntBeu-909">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-933" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1600" y="-1106" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-934" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1600" y="-926" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-935" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;head&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1630" y="-1090" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-936" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;tail&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1635" y="-911" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-937" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=4;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-933" target="j66q3saBaf2FA8fntBeu-864">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="1280" y="-1000" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1660" y="-1400" />
              <mxPoint x="572" y="-1390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-938" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.005;entryY=0.856;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=3;entryPerimeter=0;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-872" target="j66q3saBaf2FA8fntBeu-874">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-939" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.011;entryY=0.852;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-880" target="j66q3saBaf2FA8fntBeu-882">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="1200" y="-1131" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-940" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-888" target="j66q3saBaf2FA8fntBeu-890">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1328" y="-1080" />
              <mxPoint x="600" y="-1070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-941" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.861;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-896" target="j66q3saBaf2FA8fntBeu-898">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-942" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-904" target="j66q3saBaf2FA8fntBeu-906">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
            <Array as="points">
              <mxPoint x="955" y="-780" />
              <mxPoint x="590" y="-780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-943" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.01;entryY=0.856;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-912" target="j66q3saBaf2FA8fntBeu-914">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-945" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.009;entryY=0.854;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#97D077;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-920" target="j66q3saBaf2FA8fntBeu-922">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-946" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FF3333;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-934" target="j66q3saBaf2FA8fntBeu-926">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1660" y="-615" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-947" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.98;entryY=0.319;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#FF3333;strokeWidth=3;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-927" target="j66q3saBaf2FA8fntBeu-914">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-900" as="sourcePoint" />
            <mxPoint x="880" y="-950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-948" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-894" target="j66q3saBaf2FA8fntBeu-901">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-949" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-910" target="j66q3saBaf2FA8fntBeu-917">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-950" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-918" target="j66q3saBaf2FA8fntBeu-925">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-700" as="sourcePoint" />
            <mxPoint x="880" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-951" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-870" target="j66q3saBaf2FA8fntBeu-877">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-1100" as="sourcePoint" />
            <mxPoint x="880" y="-1150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-952" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-878" target="j66q3saBaf2FA8fntBeu-885">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="830" y="-1100" as="sourcePoint" />
            <mxPoint x="880" y="-1150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-956" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.007;entryY=0.304;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-919" target="j66q3saBaf2FA8fntBeu-906">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="-750" as="sourcePoint" />
            <mxPoint x="870" y="-800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-957" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-911" target="j66q3saBaf2FA8fntBeu-904">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="-750" as="sourcePoint" />
            <mxPoint x="870" y="-800" as="targetPoint" />
            <Array as="points">
              <mxPoint x="640" y="-770" />
              <mxPoint x="975" y="-770" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-958" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.999;entryY=0.327;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-903" target="j66q3saBaf2FA8fntBeu-890">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="-950" as="sourcePoint" />
            <mxPoint x="870" y="-1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-959" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-895" target="j66q3saBaf2FA8fntBeu-888">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="740" y="-1020" as="sourcePoint" />
            <mxPoint x="870" y="-1000" as="targetPoint" />
            <Array as="points">
              <mxPoint x="610" y="-1060" />
              <mxPoint x="1348" y="-1070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-960" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.007;entryY=0.307;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-879" target="j66q3saBaf2FA8fntBeu-864">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="-1110" as="sourcePoint" />
            <mxPoint x="690" y="-1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="j66q3saBaf2FA8fntBeu-962" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.009;entryY=0.3;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#FF3333;" edge="1" parent="1" source="j66q3saBaf2FA8fntBeu-887" target="j66q3saBaf2FA8fntBeu-874">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="-1110" as="sourcePoint" />
            <mxPoint x="690" y="-1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="INzBVYQijLQ276a5OX29" name="RocketMQ">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="3rbBIa1nEl881q_SxKzO" name="Kafka">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="to45CFHyg8FEpK3f40nb" name="Redis">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="dEdjUaIMsK8bMdPi-M4J" name="Zookeeper">
    <mxGraphModel dx="2927" dy="2251" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="P53RioXSgNW4LmcNvGxe-1" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 20px; background-color: transparent;&quot;&gt;&lt;b&gt;Zookeeper数据同步的流程&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;客户端发送读写请求时是不知道自己连的是Leader 还是 Follower，如果客户端连的是主节点，发送了写请求，那么 Leader 执行 2PC（两阶段提交协议）同步给其他 Follower 和 Observer 就可以了。&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;但是如果客户端连的是 Follower，发送了写请求，那么 Follower 会将写请求转发给 Leader，然后 Leader 再进行 2PC 同步数据给 Follower。&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;两阶段提交协议：&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;第一阶段：Leader 先发送 proposal 给 Follower，Follower 发送 ack 响应给 Leader。如果收到的 ack 过半，则进入下一阶段。&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;第二阶段： Leader 从磁盘日志文件中加载数据到内存中，Leader 发送 commit 消息给 Follower，Follower 加载数据到内存中。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-320" y="-70" width="1090" height="160" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-2" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&amp;nbsp;Leader 同步数据的流程&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b style=&quot;&quot;&gt;① 客户端发送写事务请求。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b&gt;② Leader 收到写请求后，转化为一个 &quot;proposal01：zxid1&quot; 事务请求，存到磁盘日志文件。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b&gt;③ 发送 proposal 给其他 Follower。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;④ Follower 收到 proposal 后，Follower 写磁盘日志文件。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-320" y="110" width="520" height="110" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-3" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;Follower&amp;nbsp;同步数据的流程&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;⑤ Follower 返回 ack 给 Leader。&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;⑥ Leader 收到超过一半的 ack，进行下一阶段&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;⑦ Leader 将磁盘中的日志文件的 proposal 加载到 znode 内存数据结构中。&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;⑧ Leader 发送 commit 消息给所有 Follower 和 Observer。&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;⑨ Follower 收到 commit 消息后，将 磁盘中数据加载到 znode 内存数据结构中。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;现在 Leader 和 Follower 的数据都是在内存数据中的，且是一致的，客户端从 Leader 和 Follower 读到的数据都是一致的。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-320" y="240" width="680" height="170" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;客户端&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-320" y="473" width="120" height="140" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="160" y="470" width="280" height="150" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="160" y="763" width="280" height="327" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="160" y="1220" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-8" value="客户端发送写事务请求" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-230" y="600" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-9" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF33FF;strokeWidth=2;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-4" target="P53RioXSgNW4LmcNvGxe-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="725" as="sourcePoint" />
            <mxPoint x="220" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.046;entryY=0.044;entryDx=0;entryDy=0;strokeColor=#FF33FF;strokeWidth=2;entryPerimeter=0;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-5" target="P53RioXSgNW4LmcNvGxe-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="763" as="sourcePoint" />
            <mxPoint x="220" y="713" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-12" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;客户端连的是主节点，发送了写请求，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;那么 Leader 执行两阶段提交协议&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;同步给其他 Follower 和 Observer&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-160" y="890" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Leader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="170" y="723" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-14" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Follower&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="160" y="430" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-15" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Observer&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="160" y="1180" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-16" value="&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;&lt;b&gt;客户端连的是 Follower，发送了写请求，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;&lt;b&gt;那么 Follower 会将写请求转发给 Leader，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 51, 255);&quot;&gt;&lt;b&gt;然后 Leader 再进行 2PC 同步数据给 Follower。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-140" y="485" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ZNode 内存存储&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="220" y="515" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ZNode 内存存储&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="220" y="803" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ZNode 内存存储&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="224" y="1260" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-20" value="&lt;b&gt;磁盘日志文件&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="730" y="520" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-21" value="&lt;b&gt;磁盘日志文件&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="730" y="828" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-22" value="&lt;b&gt;磁盘日志文件&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="730" y="1310" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0;exitDx=0;exitDy=82.5;exitPerimeter=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-21" target="P53RioXSgNW4LmcNvGxe-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="923" as="sourcePoint" />
            <mxPoint x="30" y="873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-20" target="P53RioXSgNW4LmcNvGxe-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="860" as="sourcePoint" />
            <mxPoint x="30" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-27" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;⑥ Leader 收到超过一半的 ack，&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;将磁盘中的日志文件的 proposal&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载到 znode 内存数据结构中&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="440" y="883" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-28" value="&lt;font style=&quot;color: rgb(204, 102, 0);&quot;&gt;&lt;b&gt;⑨ Follower 收到 commit 消息后，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(204, 102, 0);&quot;&gt;&lt;b&gt;将 磁盘中数据加载到 znode 内存数据结构中。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="440" y="575" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-29" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;客户端&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-340" y="870" width="120" height="150" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-31" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;① 客户端发送写事务请求&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-230" y="970" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-32" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;② Leader 收到写请求后，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;转化为一个 &quot;proposal01：zxid1&quot; 事务请求，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;存到磁盘日志文件。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="430" y="803" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.085;exitY=-0.1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.004;entryY=0.627;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-31" target="P53RioXSgNW4LmcNvGxe-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="923" as="sourcePoint" />
            <mxPoint x="30" y="873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-34" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" target="P53RioXSgNW4LmcNvGxe-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="853" as="sourcePoint" />
            <mxPoint x="30" y="873" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-35" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;③ 发送 proposal 给其他 Follower。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="90" y="713" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-36" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-6" target="P53RioXSgNW4LmcNvGxe-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="753" as="sourcePoint" />
            <mxPoint x="30" y="703" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-37" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=37.5;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-5" target="P53RioXSgNW4LmcNvGxe-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="690" as="sourcePoint" />
            <mxPoint x="30" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-38" value="&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;④ Follower 收到 proposal 后，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;Follower 写磁盘日志文件&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="470" y="500" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-39" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.613;entryY=0.002;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.604;exitY=1.02;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-5" target="P53RioXSgNW4LmcNvGxe-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="753" as="sourcePoint" />
            <mxPoint x="30" y="703" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-40" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;⑤ Follower 返回 ack 给 Leader。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="325" y="693" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-41" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-6" target="P53RioXSgNW4LmcNvGxe-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="753" as="sourcePoint" />
            <mxPoint x="30" y="703" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-42" value="&lt;font style=&quot;color: rgb(204, 102, 0);&quot;&gt;&lt;b&gt;⑧ Leader 发送 commit 消息给所有 Follower 和 Observer。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="370" y="643" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-6" target="P53RioXSgNW4LmcNvGxe-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-120" y="1033" as="sourcePoint" />
            <mxPoint x="-120" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-45" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.608;exitY=0.021;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-260" y="1143" as="sourcePoint" />
            <mxPoint x="330" y="1090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-6" target="P53RioXSgNW4LmcNvGxe-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="973" as="sourcePoint" />
            <mxPoint x="-80" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-22" target="P53RioXSgNW4LmcNvGxe-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="1230" as="sourcePoint" />
            <mxPoint x="210" y="1208" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=35;entryPerimeter=0;strokeWidth=3;strokeColor=#3333FF;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-7" target="P53RioXSgNW4LmcNvGxe-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="1190" as="sourcePoint" />
            <mxPoint x="810" y="1203" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="204" y="930" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-50" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="264" y="930" width="80" height="140" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-51" value="&lt;b&gt;proposal01:zxid1&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="144" y="990" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-52" value="&lt;b&gt;proposal02:zxid2&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="230" y="1010" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-53" value="&lt;b&gt;proposal03:zxid3&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="294" y="1040" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-54" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ZAB 的顺序一致性&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;客户端发送了三条写事务请求&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;Leader 发送 proposal 时，其实会为每个 Follower 创建一个队列，&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;都往各自的队列中发送 proposal。&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;Leader 收到请求后，依次放到队列中，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;然后 Follower 依次从队列中获取请求，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;这样就保证了数据的顺序性。&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="447" y="1010" width="380" height="150" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-55" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.014;exitY=0.393;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="P53RioXSgNW4LmcNvGxe-54" target="P53RioXSgNW4LmcNvGxe-49">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="960" as="sourcePoint" />
            <mxPoint x="230" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-56" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Zookeeper强一致性&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;官方定义：顺序一致性。不保证强一致性，为什么呢？因为 Leader 再发送 commit 消息给所有 Follower 和 Observer 后，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;它们并不是同时完成 commit 的。比如因为网络原因，不同节点收到的 commit 较晚，那么提交的时间也较晚，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;就会出现多个节点的数据不一致，但是经过短暂的时间后，所有节点都 commit 后，数据就保持同步了。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;另外 Zookeeper 支持强一致性，就是手动调用 sync 方法来保证所有节点都 commit 才算成功。&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="460" y="1150" width="900" height="110" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-57" value="&lt;b&gt;&lt;font style=&quot;color: rgb(102, 0, 204); font-size: 14px;&quot;&gt;Leader负责处理客户端发送的读、写事务请求。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(102, 0, 204); font-size: 14px;&quot;&gt;这里的事务请求可以理解这个请求具有事务的 ACID 特性。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(102, 0, 204); font-size: 14px;&quot;&gt;同步写事务请求给其他节点，且需要保证事务的顺序性。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(102, 0, 204); font-size: 14px;&quot;&gt;状态为 LEADING。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-195" y="730" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-58" value="&lt;font color=&quot;#6600cc&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Follower负责处理客户端发送的读请求转发写事务请求给 Leader。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#6600cc&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;参与 Leader 的选举。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#6600cc&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;状态为 FOLLOWING。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-245" y="430" width="440" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P53RioXSgNW4LmcNvGxe-59" value="&lt;div&gt;&lt;font color=&quot;#6600cc&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;和 Follower 一样，唯一不同的是，不参与 Leader 的选举，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#6600cc&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;且状态为 OBSERING。可以用来线性扩展读的 QPS。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-205" y="1200" width="390" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="bea4IE06hsSKhP4AZN4y" name="K8s">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Xru0-54Ad8YGyxOXP3Rs" name="MySQL">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="7AmPBM2Kbmro1uvyklTl" name="Seata">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="XmrDIJORuayguxtf7ANS" name="Http/Tcp">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="DeLPxRICUAbuLK_Ab4P_" name="Netty">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="KSdd4XFeKHf7QTBwpThp" name="Docker">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YjA67cmnY33n5J0nyUQS" name="Netty">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="kmInuTYheEhczgABeFXV" name="ES">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="5ga9y6k-JnaVqjqAY7p4" name="Linux">
    <mxGraphModel dx="1050" dy="574" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="VdeBCv5IgB3pJIlM0GZR" name="Dubbo">
    <mxGraphModel dx="5981" dy="4141" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="220" y="-840" width="520" height="310" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-19" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-695" y="-840" width="600" height="320" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-90" y="-1310" width="340" height="330" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-30" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="955" width="476" height="535" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-29" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="720" width="466" height="160" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-27" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-240" y="570" width="400" height="920" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-28" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="334" y="560" width="466" height="120" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-1" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;一次RPC请求在Dubbo中经历整个核心流程&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-295" y="320" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-3" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="1148" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="530" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-5" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="460" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-6" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="380" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-7" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-135" y="1220" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-8" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-130" y="905" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-9" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-150" y="775" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-10" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-135" y="660" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="430" y="-735" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-13" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="-40.710000000000036" y="-1180" width="240" height="160" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-345" y="1150" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-16" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="1090" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-17" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-140" y="1130" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-18" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-135" y="1030" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-24" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-15" y="-1102" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="195" y="-760" width="175" height="102" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-26" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="455" y="1400" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;动态代理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-70" y="670" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;InvokerInvacationHandler&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;参数封装&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;触发RPC链路调用&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-150" y="760" width="220" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClusterFilter责任链&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-125" y="915" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-35" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Filter责任链&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-95" y="1040" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-36" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;通信协议&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-285" y="1108" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;序列化协议&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-320" y="1168" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;请求数据封装&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-95" y="1140" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;请求字节数据序列化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-135" y="1220" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;集群策略&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="260" y="380" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-41" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;负载均衡策略&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="205" y="470" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;路由策略&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="180" y="540" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-43" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;请求字节数据反序列化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="430" y="1158" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-45" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="1270" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Filter责任链&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="490" y="1280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口实现类&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="508" y="1410" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-48" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="428" y="1210" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;请求数据封装&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="473" y="1220" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-50" value="&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;反序列化就是根据序列化协议将字节序列转换成数据，也被称为解码&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;当通信协议使用Dubbo协议时，Dubbo支持以下几种序列化协议：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Java原生&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Hessian2&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Fastjson2&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="640" y="1220" width="380" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-51" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;通信协议，讲的简单点就是发送方把需要发送的数据按照一定的格式组装好之后再发送给接收方&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo需要发送数据包括调用但不限于接口全限定名、调用的方法名、调用参数等等&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;而接收方在获取到数据时再使用对应的格式去解析，从而获取到请求数据&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo默认使用的通信协议是Dubbo自己的写的，叫做Dubbo协议&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;除了Dubbo协议之外，Dubbo还支持以下几种通信协议：&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Rest&amp;nbsp; 也就是&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Http协议&lt;/span&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当使用这种协议的时候，Dubbo在启动的时候会去创建一个Http的服务&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;默认使用的是Jetty，当然也支持切换成Tomcat&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;gRPC&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Dubbo其实不仅仅是一个RPC框架，它其实是一套微服务解决方案，会承担更多的服务治理相关的逻辑&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;而gRPC的定位是通信协议与实现，是一款纯粹的RPC框架&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Triple&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Triple完全兼容gRPC协议，可同时运行在HTTP/1和HTTP/2传输协议之上&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="690" y="1340" width="590" height="200" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-52" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Filter和ClusterFilter有什么区别&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;都继承同一个接口BaseFilter，ClusterFilter作用在路由和负载均衡前，而Filter在路由和负载均衡后，&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Filter是跟服务实例走的&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;在调用每个服务实例之前，Filter一定会都会重新调用一遍，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;对于ClusterFilter，在整个调用过程中它仅仅只会执行一次&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="600" y="1070" width="590" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-53" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;负载均衡就是说，面对多个服务实例，我们应该按照何种算法选择一个供我们调用&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo提供了以下几种负载均衡策略：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;随机（random），随机选择一个&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;轮询（roundrobin），每次调用按照顺序选择一个&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;最少活跃优先（leastactive），优先选择被最少调用的服务&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;最短响应优先（shortestresponse），优先选择响应时间断的服务调用&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;一致性Hash（consistenthash）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;在没有指定的情况下，默认使用的就是随机（random）算法&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="440" y="380" width="460" height="140" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-54" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;路由策略其实是选择允许调用哪些服务实例&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;因为并不是所有的服务实例都符合调用要求，&lt;span style=&quot;background-color: initial;&quot;&gt;Dubbo提供了一种叫tag的路由策略&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;灰度的服务提供者可以指定自己的tag属性为gray（灰色的意思），而对于处于灰度的消费者，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;只需要指定消费tag为gray的服务提供者，在真正调用前就会通过tag路由的方式过滤出处于灰度的服务提供者，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;除了tag路由策略之外，Dubbo还提供了以下几种路由策略&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;条件路由，可以指定某些条件下可以调用哪些服务实例&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;脚本路由，可以写一段JavaScript脚本，更加灵活地选择哪些服务实例&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="820" y="520" width="610" height="110" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-55" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;集群调用逻辑就是解决多服务实例下，应该怎样合理地调用服务实例&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo提供了以下几种集群调用逻辑：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;广播，也就是每个服务都调用（broadcast）&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用前会去判断服务是不是可用，如果可用，那么就直接进行调用（available）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用失败，会开启定时任务进行重试调用，最大重试3次（failback）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用失败就直接抛出异常（failfast）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用失败直接调用其它服务进行重试，故障转移（failover）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用失败不会抛异常，而是直接返回（failsafe）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;同时调用指定个数的服务，直接最快返回结果当做这个调用的结果（forking）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调用每个服务，合并服务返回的数据作为调用的结果，结果怎么合并需要我们自定义相关逻辑（mergeable）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;在默认情况下使用的就是failover，也就是出现异常时会调用其它的服务再返回结果&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="260" y="140" width="630" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-56" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ClusterFilter本质是一种责任链模式，是Dubbo提供的一个重要扩展点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;通过实现invoke方法对请求进行自定义预处理操作&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo默认提供了几种实现&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ConsumerContextFilter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;MonitorClusterFilter&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;RouterSnapshotFilter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ZoneAwareFilter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;拿MonitorClusterFilter来说&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;这个实现主要是去统计每个接口的每个方法调用成功多少次，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;调用失败多少次等等调用的信息&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-620" y="828" width="400" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-57" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;在Dubbo中，调用消费者动态代理的时候，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;不论是JDK动态代理还是使用Javassist方式生成动态代理&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;最终都会走到InvokerInvocationHandler这个InvocationHandler的实现,&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;整个RPC调用的起点就是invoke方法的实现&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;将RPC调用的接口、方法名、参数封装到RpcInvocation中&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;接着会走到下面这行代码&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;invoker.invoke(rpcInvocation)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;触发RPC调用的整个核心流程&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-745" y="688" width="410" height="130" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-58" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;消费者想引用远程服务，可以通过@DubboReference注解触发引用的逻辑&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;消费者引用也会去做两件事&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;第一件事我们都知道，那就是创建接口的动态代理&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;由于消费者使用的DemoService是一个接口，所以会给DemoService创建一个动态代理&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;这个动态代理最终会发送RPC请求&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo支持两种动态搭理生成方式：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;JDK动态搭理&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Javassist动态生成字节码&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;默认使用的Javassist动态生成字节码的方式&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;除了创建动态搭理之外，还会去获取服务提供者的接口详细信息&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;上面一节说了，可以从元数据中心或者是服务提供者本地缓存中获取到&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;当获取到接口详情数据之后，会为之后的RPC调用做一些准备工作&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;比如如果接口使用的是Dubbo通信协议的话，准备工作就是消费者会跟服务提供者机器建立长连接&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-920" y="260" width="540" height="340" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-59" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;服务提供者暴露&lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;@DubboService&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;，主要就是指在项目启动时服务提供者去做的两件事&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;第一件事就是，由于需要对外提供调用服务，接受消费者的请求&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;所以在启动时需要根据使用协议，以及协议对应的端口启动一个对应的服务,&lt;span style=&quot;background-color: initial;&quot;&gt;第二件事是将每个接口的详细信息，&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;包括接口的全限定名、方法名称、方法参数、服务器的ip、端口、通信协议等等按照一定的格式组装好&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;存放到元数据中心和服务提供者本地缓存中&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;总的来说，服务提供者暴露主要就是这两件事：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;根据接口使用协议和端口开启服务，对外提供接口访问&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;将当前服务支持的接口，以及每个接口使用的协议、端口、服务器ip等信息存到元数据中心或者本地缓存，供消费者获取&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="360" y="765" width="660" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务提供者2&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="345" y="738" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-61" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供一个接口给消费者远程调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="445" y="738" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务消费者&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-225" y="580" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-64" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;调用生产者提供的接口&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-130" y="580" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Dubbo3.x应用级服务注册实现原理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1830" y="-1810" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-66" value="&lt;div&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;应用级服务注册&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在SpringCloud环境下，服务实例在启动的时候会将自身的服务名、IP、端口外加一些其它的数据注册到注册中心&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;但是在这一过程中并不会将服务的接口信息注册到注册中心&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所以对于服务调用者（消费者）来说，它也只能从注册中心获取到服务名、IP和端口这些信息，无法获取到服务提供者提供了哪些接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这就是应用级服务注册&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-990" y="-1830" width="730" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_oIDEhX_wi8-7EQFgxBp-67" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口级服务注册&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;接口级服务注册就是把每个单独的接口看成一个服务进行注册&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所以服务在启动的时候，每个接口都将作为单独的服务注册到注册中心&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;也就是说，有几个接口，就有几个服务，就注册几次&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Dubbo在2.x版本的时候就是使用的接口级服务注册&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;Dubbo在3.x版本之后放弃使用接口级服务注册，转而使用应用级服务注册，主要包括以下两点原因：&lt;/div&gt;&lt;div style=&quot;&quot;&gt;第一点就是接口级服务注册会增加注册中心的压力&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;压力主要来自三个部分：&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务注册的压力&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务变更通知的压力&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务数据存储的压力&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-970" y="-1718" width="560" height="210" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务提供者&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="240" y="-830" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务消费者&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-690" y="-830" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-3" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;注册中心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1950" y="-955" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;元数据中心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-25.000000000000036" y="-1169" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-5" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-40.710000000000036" y="-1180" as="sourcePoint" />
            <mxPoint x="199.28999999999996" y="-1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-6" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-40.710000000000036" y="-1020" as="sourcePoint" />
            <mxPoint x="199.28999999999996" y="-1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-7" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;rounded=0;strokeColor=#007FFF;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-40.710000000000036" y="-1180" as="sourcePoint" />
            <mxPoint x="-40.710000000000036" y="-1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-8" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="199.28999999999996" y="-1180" as="sourcePoint" />
            <mxPoint x="199.28999999999996" y="-1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例信息&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="5" y="-1240" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口服务限定名：服务名&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-20" y="-1132" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口详情数据&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="15" y="-1092" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-12" value="&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;服务提供者：通过@DubboService表明&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;提供一个接口给消费者远程调用&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="285" y="-800" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-13" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;服务消费者：调用生产者提供的接口&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;通过@DubboReference注解表明消费&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-695" y="-792" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-14" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;对于消费者来说，还是必须得知道接口的详情数据，包括接口所在服务器的IP、端口、通信协议等等&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;但是现在注册中心只有应用级服务信息，并没有接口级服务信息，怎么获取呢&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Dubbo将整个实现总共拆为两步：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;消费者需要先获取消费的接口所在的服务名&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;消费者通过获取到服务名再去获取接口详情数据&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Dubbo也给我们提供了3种配置方式，让我们可以手动指定接口所在的服务&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第一种，使用@DubboReference#providedBy属性配置&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第二种，通过消费者配置文件配置接口所在的服务名&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第三种，在消费者配置文件注册中心的配置中加上接口所在的服务名&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;加了这些配置的时候，Dubbo就认为消费的接口就在这些服务中&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;除了这种配置的方式之外，Dubbo还提供了第二种方式，叫做服务名自动探测&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;服务提供者在启动的时候，将接口全限定名以及当前服务名的映射关系存到一个中间的地方&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;而消费者只需要根据消费的接口到这个中间的地方就可以查到接口所在的服务名&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;这个中间的地方在Dubbo中被称为元数据中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;元数据中心仅仅是一个概念上的东西，只要可以存数据，都可以被称为元数据中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Dubbo默认支持三种组件作为元数据中心：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Redis&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Nacos&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Zookeeper&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当你使用Nacos或者Zookeeper作为注册中心时，Dubbo会默认使用它们作为元数据中心（当然也可以禁用）&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;如果项目中没有使用元数据中心，那么只能使用第一种手动配置的方式&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;知道消费者所消费的接口在哪个服务上&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;但是仅仅知道接口在哪个服务上还是无法调用&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;因为必须得知道接口使用IP、端口、通信协议等&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;所以消费者此时就会进行第二步，获取接口详情数据&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Dubbo也提供了两种获取方式&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;第一种，从服务提供者本地缓存中获取，这种方式也是默认的&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;对于接口服务提供者来说，它会将接口详情数据存到本地缓存&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;所以消费者可以从服务本地缓存中获取&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;服务提供者在启动的时候，会去启动并暴露一个接口是MetadataServiceRPC接口服务&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;之后在注册服务实例的时候，会将暴露出去的MetadataService这个RPC接口的协议和端口一起存到注册中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;由于经过第一步之后，消费者已经知道接口在哪个服务上了&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;所以就可以从注册中心中获取这个服务对应的服务实例信息&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;也就能知道MetadataService这个RPC接口所在的服务器IP、端口、通信协议&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;之后消费者就可以通过这些信息，构建RPC请求，从服务提供者获取到接口的详细数据&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;默认是从本地缓存中获取&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;消费者在获取接口详情数据时，会先判断dubbo.metadata.storage-type这个属性值是多少&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;如果是local，那么就按照前面说的从服务提供者本地缓存中获取&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;如果改成remote，第二种情况也会用到元数据中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;服务提供者在启动的时候，会将接口的详情数据全部存到元数据中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;只需要从元数据中心就可以获取到接口的详情数据了&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1780" y="-1692" width="600" height="990" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-16" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;服务提供者在启动的时候，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;会将接口的详情数据全部存到元数据中心&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="280" y="-960" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;本地缓存&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="430" y="-730" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-18" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="437" y="-680" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口详情数据&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="475" y="-670" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-20" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;消费者知道所消费的接口在哪个服务上的两种方式：&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;手动配置，有三种不同的方式&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;@DubboReference#providedBy属性配置&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;通过消费者配置文件配置接口所在的服务名&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在消费者配置文件注册中心的配置中加上接口所在的服务名&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;自动探测&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务提供者启动时将自身所提供的接口和服务名的映射关系存到元数据中心&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;服务消费者在启动的时候，会去从元数据中心查到自己所消费的接口属于哪个服务&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;自动探测方式需要引入元数据中心，使用Nacos或者Zookeeper作为注册中心时，&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;Dubbo默认会使用它们作为元数据中心&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-920" y="-750" width="460" height="170" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-21" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;启动时将自身所提供的接口和服务名的映射关系存到元数据中心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="280" y="-1032" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-22" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;默认Nacos或者Zookeeper&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="10" y="-1150" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-23" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MetadataService&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RPC接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="199.29" y="-730" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-24" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-210" y="-760" width="160" height="102" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-25" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MetadataService&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RPC接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-195" y="-730" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-26" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;从注册中心中获取这个服务对应的服务实例信息&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MetadataService这个RPC接口所在的服务器IP、端口、通信协议&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-510" y="-990" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-27" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MetadataService这个RPC接口所在的服务器IP、端口、通信协议&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="280" y="-1002" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-28" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="-552" y="-720" width="292" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;dubbo.metadata.storage-type&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-538" y="-695" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-30" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;local&amp;nbsp; /&amp;nbsp; remote&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-465" y="-680" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-31" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;消费者在获取接口详情数据时，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;会先判断dubbo.metadata.storage-type这个属性值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-430" y="-635" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-32" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;从服务提供者本地缓存中获取&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-25" y="-688" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-33" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;从元数据中心就可以获取到接口的详情数据&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-320" y="-890" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-34" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;先根据第一步获取到的服务名从服务注册中心获取服务实例信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-505" y="-1020" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-35" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=3;" parent="1" source="_oIDEhX_wi8-7EQFgxBp-19" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-300" y="-840" as="sourcePoint" />
            <mxPoint x="-90" y="-1140" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-395" y="-1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-37" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;元数据中心仅仅是一个概念上的东西，只要可以存数据，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;都可以被称为元数据中心&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Dubbo默认支持三种组件作为元数据中心：&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Redis&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Nacos&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Zookeeper&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-40" y="-1025" width="320" height="100" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-38" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.455;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#0066CC;strokeWidth=3;" parent="1" source="_oIDEhX_wi8-7EQFgxBp-12" target="_oIDEhX_wi8-7EQFgxBp-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-840" as="sourcePoint" />
            <mxPoint x="270" y="-890" as="targetPoint" />
            <Array as="points">
              <mxPoint x="480" y="-1160" />
              <mxPoint x="380" y="-1160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-39" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="265" y="-1032" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-40" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-523" y="-1020" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-41" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="_oIDEhX_wi8-7EQFgxBp-25" target="kh3kQsugT_p81Ak_PhRp-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="-40" y="-530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-42" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000CC;strokeWidth=2;" parent="1" source="kh3kQsugT_p81Ak_PhRp-28" target="_oIDEhX_wi8-7EQFgxBp-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="170" y="-730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-43" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;3&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-400" y="-640" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.935;exitY=0.371;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="kh3kQsugT_p81Ak_PhRp-28" target="kh3kQsugT_p81Ak_PhRp-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="170" y="-730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-45" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="kh3kQsugT_p81Ak_PhRp-18" target="_oIDEhX_wi8-7EQFgxBp-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="170" y="-730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-46" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.028;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="_oIDEhX_wi8-7EQFgxBp-25" target="_oIDEhX_wi8-7EQFgxBp-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="170" y="-730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="kh3kQsugT_p81Ak_PhRp-24" target="_oIDEhX_wi8-7EQFgxBp-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="170" y="-730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#0000CC;strokeWidth=2;" parent="1" source="_oIDEhX_wi8-7EQFgxBp-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="-680" as="sourcePoint" />
            <mxPoint x="-380" y="-717" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="kh3kQsugT_p81Ak_PhRp-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="-840" as="sourcePoint" />
            <mxPoint x="-260" y="-680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-50" value="&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;消费者会根据所配置的属性值通过对应的方式获取到接口的详情数据&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;之后就可以基于这些接口的详情信息发送接口级别的RPC调用了&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-425" y="-585" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-51" value="&lt;div&gt;1、Spring 扫描到 @DubboReference 标注的属性，在 BeanPostProcessor 中解析该注解，并且为该属性生成一个动态代理对象，&lt;/div&gt;&lt;div&gt;并且将这个动态代理对象赋值给这个属性&lt;/div&gt;&lt;div&gt;2、当【调用者】调用动态代理对象的方法时，会进入到动态代理的拦截器中，在拦截器中会发起 RPC 调用&lt;/div&gt;&lt;div&gt;3、拦截器中执行 RPC 调用就是先根据接口名、方法名去注册中心拿到【提供者】的 ip+port，这样就可以通过 Netty 和【提供者】建立网络通信&lt;/div&gt;&lt;div&gt;4、建立网络通信之后，【调用者】将需要调用的接口、方法信息通过 Netty 发送给【提供者】，【提供者】就知道去执行哪个方法了，&lt;/div&gt;&lt;div&gt;当【提供者】执行完对应的方法之后，将执行结果再通过 Netty 返回给【调用者】，至此，【调用者】就完成了一次服务调用的过程&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-950" y="140" width="790" height="100" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-53" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务提供者1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="350" y="570" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务提供者3&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="325" y="970" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-55" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;服务提供者启动，开启Netty服务，创建Zookeeper客户端，向注册中心注册服务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="350" y="600" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-56" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;服务消费者启动，通过Zookeeper向注册中心获取服务提供者列表，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;与服务提供者通过Netty建立长连接；&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-250" y="605" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-57" value="&lt;font color=&quot;#007fff&quot; style=&quot;&quot;&gt;&lt;b&gt;服务消费者通过接口开始远程调用服务，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;&quot;&gt;&lt;b&gt;ProxyFactory通过初始化Proxy对象，Proxy通过创建动态代理对象；&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-220" y="700" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-58" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Invoker通过路由，负载均衡选择了一个最合适的服务提供者，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;在通过加入各种过滤器，协议层包装生成一个新的DubboInvoker对象；&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="260" y="520" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-59" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;再通过交换成将DubboInvoker对象包装成一个Reuqest对象，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;该对象通过序列化通过NettyClient传输到服务提供者的NettyServer端&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="115" y="1225" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-60" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;通过反序列化、协议解密等操作生成一个DubboExporter对象,&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;再层层传递处理,会生成一个服务提供端的Invoker对象；&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这个Invoker对象会调用本地服务，获得结果再通过层层回调返回到服务消费者，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;服务消费者拿到结果后，再解析获得最终结果&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="320" y="1430" width="450" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-61" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;服务提供者暴露，主要就是指在项目启动时服务提供者去做的两件事&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第一件事就是，由于需要对外提供调用服务，接受消费者的请求&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;所以在启动时需要根据使用协议，以及协议对应的端口启动一个对应的服务，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;之后如果要调用就可以按照Dubbo协议要求组装数据格式&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;向20880端口发送请求，从而就实现远程服务调用&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第一件事成功让接口可以对外提供访问，但是对于消费者来说，它其实还是无法访问接口&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;因为消费者并不知道接口使用的是哪个通信协议、端口，也不知道接口所在的服务器的ip&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;于是，在启动时就会去做第二件事&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;第二件事是将每个接口的详细信息，包括接口的全限定名、方法名称、方法参数、服务器的ip、端口、通信协议等等按照一定的格式组装好&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;存放到元数据中心和服务提供者本地缓存中&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;之后消费者需要调用接口时，就可以从元数据中心或者服务提供者本地缓存中获取到接口的详细信息（具体从哪取决于配置，默认是从本地缓存中获取）&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;当需要发起调用时，就可以按照接口使用的协议组装数据，向接口所在的服务器ip和端口发送请求&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1755" y="-185" width="830" height="290" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-62" value="&lt;div&gt;&lt;b&gt;如果消费者想引用远程服务，可以通过@DubboReference注解触发引用的逻辑&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;消费者引用也会去做两件事&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;第一件事我们都知道，那就是创建接口的动态代理&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;由于消费者使用的是一个接口，所以会给接口创建一个动态代理&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;这个动态代理最终会发送RPC请求&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当调用动态代理方法时，最终会走到InvocationHandler的实现&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;在Dubbo中，调用消费者动态代理的时候，不论是JDK动态代理还是使用Javassist方式生成动态代理&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;最终都会走到InvokerInvocationHandler这个InvocationHandler的实现&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;整个RPC调用的起点就是invoke方法的实现&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;将RPC调用的接口、方法名、参数封装到RpcInvocation中&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;接着会走到下面这行代码&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;invoker.invoke(rpcInvocation)&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;就会触发RPC调用的整个核心流程&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1750" y="115" width="560" height="320" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-63" value="&lt;b&gt;当参数封装完成之后，接下来就会走到ClusterFilter过滤环节&lt;/b&gt;&lt;div&gt;&lt;b&gt;ClusterFilter本质是一种责任链模式，是Dubbo提供的一个重要扩展点&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过实现invoke方法对请求进行自定义预处理操作&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当走完ClusterFilter之后，接下来就会来到集群调用逻辑决策的环节&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;集群调用逻辑就是去决定&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;应该每个服务都去调用一次，还是只去调用其中一个&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;如果只调用其中一个，比如调用服务1，如果失败了，那么此时是直接抛异常还是选择继续去调用服务2，还是做其它的事？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以集群调用逻辑就是解决多服务实例下，应该怎样合理地调用服务实例&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;默认情况下使用的就是failover，也就是出现异常时会调用其它的服务再返回结果&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;解决集群中众多实例时应该如何调用的问题&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;而路由策略其实是选择允许调用哪些服务实例&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;因为并不是所有的服务实例都符合调用要求&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Dubbo提供了一种叫tag的路由策略&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;除了tag路由策略之外，Dubbo还提供了以下几种路由策略&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;条件路由，可以指定某些条件下可以调用哪些服务实例&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;脚本路由，可以写一段JavaScript脚本，更加灵活地选择哪些服务实例&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1750" y="430" width="670" height="330" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-64" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;@DubboReference(cluster=&quot;failover&quot;)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="150" y="400" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-65" value="&lt;div&gt;&lt;b&gt;所谓的负载均衡就是说，面对多个服务实例，我们应该按照何种算法选择一个供我们调用&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Dubbo提供了以下几种负载均衡策略：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;随机（random），随机选择一个&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;轮询（roundrobin），每次调用按照顺序选择一个&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;最少活跃优先（leastactive），优先选择被最少调用的服务&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;最短响应优先（shortestresponse），优先选择响应时间断的服务调用&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;一致性Hash（consistenthash）&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;在没有指定的情况下，默认使用的就是随机（random）算法&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1755" y="780" width="490" height="160" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-66" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;@DubboReference(tag=&quot;gray&quot;)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="150" y="595" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-67" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;@DubboService(tag=&quot;gray&quot;)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="140" y="575" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-68" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;@DubboReference(loadbalance=&quot;random&quot;)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="55" y="480" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-70" value="&lt;div&gt;&lt;b&gt;经过上面的几步，终于知道本地RPC请求需要请求哪个或者哪些具体的服务实例&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;接下来只需要向对应的服务实例发送请求就可以了&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;不过在发送请求前，Dubbo还预留了一个扩展点，叫做Filter&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;本质也是一种责任链模式&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过Filter，我们可以在RPC调用前对整个请求再进行自定义扩展&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1750" y="950" width="440" height="130" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-71" value="&lt;div&gt;&lt;b&gt;当Filter责任链走完之后，接下来就到了向服务实例发送请求的时候了&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;一旦涉及到服务与服务之间的调用，那么就离不开通信协议&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所谓的通信协议，讲的简单点就是发送方把需要发送的数据按照一定的格式组装好之后再发送给接收方&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Dubbo需要发送数据包括调用但不限于接口全限定名、调用的方法名、调用参数等等&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;而接收方在获取到数据时再使用对应的格式去解析，从而获取到请求数据&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Dubbo默认使用的通信协议是Dubbo自己的写的，叫做Dubbo协议&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;除了Dubbo协议之外，Dubbo还支持以下几种通信协议：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Rest&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;gRPC&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Triple&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1755" y="1100" width="560" height="240" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-72" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;要想发送数据，一般都是先将需要传输的数据转换成字节序列（数组），之后再交由操作系统转换成二进制进行传输&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;按照什么样的格式就被称为序列化协议&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;整个转换过程就被称为序列化，也可以被称为编码&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;当通信协议使用Dubbo协议时，Dubbo支持以下几种序列化协议：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Java原生&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Hessian2&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Fastjson2&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;当序列化完成之后，接下来就只需要将字节序列通过网络发送出去即可&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1755" y="1340" width="640" height="160" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;消费者整个调用的过程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1820" y="-262" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务提供者处理请求&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1790" y="1550" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kh3kQsugT_p81Ak_PhRp-75" value="&lt;div&gt;&lt;b&gt;当服务提供者监听到有请求时，会获取到请求的字节序列&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;然后根据通信协议，序列化协议反序列化出传输的数据&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;从而获取到消费者需要调用的、接口、方法以及入参等数据&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;之后就可以找到调用接口对应的实现，通过反射进行调用，获取结果&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;然后再将结果序列化成字节数组，返回给消费者&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;这样服务提供者就处理完成了一次请求&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;不过这里面有一个小细节，那就是在调用接口的实现之前，也会经过Filter过滤&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以Filter过滤其实在提供者和消费者两者都有&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1755" y="1620" width="440" height="230" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="2mkHYNsd13yYfi2aoQFV" name="Mybatis">
    <mxGraphModel dx="6305" dy="3895" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Vq6O65trJawBY8Uh8ofG-79" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="800" width="920" height="430" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-45" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1690" y="-1469" width="1750" height="1309" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="210" y="50" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="210" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="240" y="350" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="-20" y="510" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="585" y="495" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-6" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SqlSession&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="295" y="65" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Executor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="324" y="230" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;StatementHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="289" y="365" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ParameterHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="525" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-12" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResultSetHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="655" y="510" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-14" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="315" y="660" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="80" y="980" width="840" height="170" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-16" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-400" y="132" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-400" y="275" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-18" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;TypeHandler&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="357" y="675" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MappedStatement&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="135" y="1000" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-20" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SqlSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-350" y="147" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-21" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BoundSql&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-330" y="285" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-22" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="240" y="-350" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-23" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Configuration&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="295" y="-335" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-24" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;为MyBatis工作的主要顶层API，表示和数据库交互的会话，完成必要数据库增删改查功能&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="315" y="110" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-25" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;MyBatis执行器，是MyBatis 调度的核心，负责SQL语句的生成和查询缓存的维护&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="345" y="280" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-26" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;封装了JDBC Statement操作，负责对JDBC statement 的操作，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如设置参数、将Statement结果集转换成List集合。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="345" y="413" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-27" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;对用户传递的参数转换成JDBC Statement 所需要的参数&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="65" y="575" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-28" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;将JDBC返回的ResultSet结果集对象转换成List类型的集合；&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="655" y="555" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-29" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责java数据类型和jdbc数据类型之间的映射和转换&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="365" y="730" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-30" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;MappedStatement维护了一条节点的封装&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="305" y="1000" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-31" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责根据用户传递的parameterObject，动态地生成SQL语句，将信息封装到BoundSql对象中，并返回&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-375" y="200" width="570" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-32" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;表示动态生成的SQL语句以及相应的参数信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-335" y="335" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-33" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;MyBatis所有的配置信息都维持在Configuration对象之中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="312.5" y="-280" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-34" value="&lt;div&gt;&lt;b&gt;MyBatis的初始化可以有两种方式：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;基于XML配置文件：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;基于XML配置文件的方式是将MyBatis的所有配置信息放在XML文件中，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;MyBatis通过加载XML配置文件，将配置文信息组装成内部的Configuration对象。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;基于Java API：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;这种方式不使用XML配置文件，需要MyBatis使用者在Java代码中，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;手动创建Configuration对象，然后将配置参数set 进入Configuration对象中。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="185" y="-799" width="490" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-36" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="250" y="-500" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XMLConfigBuilder&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="280" y="-485" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-38" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;XMLConfigBuilder对象用来解析XML配置文件，生成Configuration对象&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="230" y="-440" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-40" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="225" y="-215" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-41" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SqlSessionFactoryBuilder&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="240" y="-200" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-42" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="232.5" y="-87" width="235" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-43" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SqlSessionFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="265" y="-72" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-44" value="&lt;div&gt;&lt;b&gt;mybatis初始化要经过简单的以下几步：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;调用SqlSessionFactoryBuilder对象的build(inputStream)方法；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactoryBuilder会根据输入流inputStream等信息创建XMLConfigBuilder对象;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactoryBuilder调用XMLConfigBuilder对象的parse()方法；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;XMLConfigBuilder对象返回Configuration对象；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactoryBuilder根据Configuration对象创建一个DefaultSessionFactory对象；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactoryBuilder返回 DefaultSessionFactory对象给Client，供Client使用。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1561" y="-1305" width="510" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-46" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-1561" y="-795" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;mybatis-config.xml&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;mapper.xml&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#666666;fillColor=#f5f5f5;gradientColor=#b3b3b3;" vertex="1" parent="1">
          <mxGeometry x="-1556" y="-795" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-49" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-385.5" y="-1302" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-50" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-346.75" y="-720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-51" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-380.5" y="-455" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-52" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-350" y="-295" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-53" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-385.5" y="-1135" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-54" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-1326" y="-795" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-55" value="Resources.getResourceAsStream()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1333.5" y="-975" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-56" value="&amp;nbsp;new SqlSessionFactoryBuilder().build()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-393" y="-1335" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-57" value="SqlSessionFactoryBuilder" style="text;whiteSpace=wrap;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-375.5" y="-1282" width="205" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;SqlSession&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-343" y="-280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-59" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;SqlSessionFactory&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-360.5" y="-440" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-60" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;XMLConfigBuilder&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-361" y="-1120" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-61" value="sqlSessionFactory.openSession()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-368" y="-230" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-62" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;InputStream&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1303.5" y="-780" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Configuration&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-346.75" y="-705" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-64" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;产生SqlSession，执行SQL语句&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="290" y="-19" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-65" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;创建XMLConfigBuilder对象用来解析XML配置文件，生成Configuration对象&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-400" y="-1065" width="440" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-66" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;将XML配置文件内的信息解析成Java对象Configuration对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-355" y="-1035" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-67" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;MyBatis内部通过Configuration对象来创建SqlSessionFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-355.75" y="-660" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-68" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;SqlSessionFactory的构造器，用于创建SqlSessionFactory，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;采用了Builder设计模式&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-380" y="-1235" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-69" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;该对象是mybatis-config.xml文件中所有mybatis配置信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-359.75" y="-640" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-70" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;SqlSession工厂类，以工厂形式创建SqlSession对象，采用了Factory工厂设计模式&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-460" y="-365" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-74" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;SqlSessionFactoryBuilder执行build()方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;调用了XMLConfigBuilder的parse()方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;然后返回了Configuration对象。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-370.25" y="-590" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FFB570;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-36" target="Vq6O65trJawBY8Uh8ofG-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="-300" as="sourcePoint" />
            <mxPoint x="580" y="-350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-76" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#FFB570;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-22" target="Vq6O65trJawBY8Uh8ofG-40">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="-300" as="sourcePoint" />
            <mxPoint x="580" y="-350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-77" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FFB570;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-40" target="Vq6O65trJawBY8Uh8ofG-42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="-180" as="sourcePoint" />
            <mxPoint x="580" y="-230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-78" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FFB570;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-42" target="Vq6O65trJawBY8Uh8ofG-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="170" as="sourcePoint" />
            <mxPoint x="580" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-80" value="&lt;div&gt;&lt;b&gt;JDBC 步骤如下：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;数据库驱动：Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;获取链接：Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;创建Statement或者PreparedStatement对象： Statement stmt = conn.createStatement();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;执行sql数据库查询：ResultSet rs = stmt.executeQuery(&quot;SELECT id, name, age FROM m_user where id =1&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;解析结果集：System.out.println(&quot;name: &quot;+rs.getString(&quot;name&quot;)+&quot; ：年龄&quot;+rs.getInt(&quot;age&quot;));&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;最后就是各种资源的关闭。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-600" y="800" width="630" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-81" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;JDBC&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="70" y="830" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-83" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="110" y="1070" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-84" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="405" y="1070" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-85" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="665" y="1070" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-86" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="652.5" y="840" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PreparedStatement&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="1085" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-88" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleStatement&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="422.5" y="1085" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CallableStatement&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="705" y="1085" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-90" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResultSet&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="705" y="850" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-91" value="&lt;div&gt;&lt;b&gt;&amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Class.forName(&quot;com.mysql.jdbc.Driver&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Statement stmt = conn.createStatement();&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ResultSet rs = stmt.executeQuery(&quot;SELECT id, name, age FROM m_user where id =1&quot;);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; while (rs.next()) {&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; System.out.println(&quot;name: &quot; + rs.getString(&quot;name&quot;) + &quot; ：年龄&quot; + rs.getInt(&quot;age&quot;));&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-610" y="930" width="550" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-92" value="&lt;div&gt;&lt;b&gt;// mybatis初始化&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;String resource = &quot;mybatis-config.xml&quot;;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;InputStream inputStream = Resources.getResourceAsStream(resource);&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;// 创建SqlSession&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSession sqlSession = sqlSessionFactory.openSession();&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;// 执行SQL语句&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;List list = sqlSession.selectList(&quot;com.foo.bean.BlogMapper.queryAllBlogInfo&quot;);&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="675" y="-810" width="550" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-93" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-460" y="1085" width="140" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-94" value="数据库" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-425" y="1180" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-95" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;数据库驱动依赖SPI类加载机制&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;获取连接是通过socket与数据库取得连接的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-250" y="1169" width="250" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-96" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-79" target="Vq6O65trJawBY8Uh8ofG-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="1220" as="sourcePoint" />
            <mxPoint x="-30" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=127.5;exitPerimeter=0;entryX=0.003;entryY=0.607;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-93" target="Vq6O65trJawBY8Uh8ofG-79">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="1220" as="sourcePoint" />
            <mxPoint x="-30" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-98" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#3333FF;strokeWidth=2;" edge="1" parent="1" target="Vq6O65trJawBY8Uh8ofG-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="114" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-99" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=2;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-2" target="Vq6O65trJawBY8Uh8ofG-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="420" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-100" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#3333FF;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-3" target="Vq6O65trJawBY8Uh8ofG-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="420" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-101" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=2;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-4" target="Vq6O65trJawBY8Uh8ofG-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-102" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;strokeColor=#3333FF;strokeWidth=2;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-4" target="Vq6O65trJawBY8Uh8ofG-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-103" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#3333FF;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-14" target="Vq6O65trJawBY8Uh8ofG-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="820" as="sourcePoint" />
            <mxPoint x="-30" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-104" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.649;exitY=0.077;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-2" target="Vq6O65trJawBY8Uh8ofG-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="420" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-105" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.666;entryY=0.983;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.672;exitY=0.037;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-3" target="Vq6O65trJawBY8Uh8ofG-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="420" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-106" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-5" target="Vq6O65trJawBY8Uh8ofG-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="420" as="sourcePoint" />
            <mxPoint x="-30" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-107" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#97D077;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-15" target="Vq6O65trJawBY8Uh8ofG-86">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-108" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-86" target="Vq6O65trJawBY8Uh8ofG-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-109" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-86" target="Vq6O65trJawBY8Uh8ofG-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Vq6O65trJawBY8Uh8ofG-110" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;strokeColor=#97D077;strokeWidth=3;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-14" target="Vq6O65trJawBY8Uh8ofG-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="620" as="sourcePoint" />
            <mxPoint x="-30" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-1326" y="-925" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Reader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1283.5" y="-910" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-1043.5" y="-975" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;InputSource&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1015.5" y="-960" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-823.5" y="-975" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Document&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-789.5" y="-960" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-825.5" y="-795" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;XMLMapperEntityResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-805.5" y="-780" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-1328.5" y="-1035" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-12" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;InputStream&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1306" y="-1020" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-13" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-1065.5" y="-795" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;InputSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1043" y="-780" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-15" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1573.5" y="-985" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;mybatis-3-config.dtd&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;mybatis-3-mapper.dtd&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#d6b656;fillColor=#fff2cc;gradientColor=#ffd966;" vertex="1" parent="1">
          <mxGeometry x="-1578.5" y="-985" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-17" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 14px;&quot;&gt;XMLConfigBuilder会将mybatis-config.xml以及mapper配置文件转换成对应document对象&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 14px;&quot;&gt;会将mybatis的XML配置定义文件dtd加载成EntityResolver对象，组成XPathParser对象，然后根据XPath表达式访问Node节点&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1628.5" y="-700" width="820" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-18" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-16" target="1bELZ38nUYD51GLO0hUq-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-19" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.971;exitY=0.75;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-16" target="1bELZ38nUYD51GLO0hUq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-11" target="1bELZ38nUYD51GLO0hUq-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-1" target="1bELZ38nUYD51GLO0hUq-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-22" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-3" target="1bELZ38nUYD51GLO0hUq-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-23" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-5" target="1bELZ38nUYD51GLO0hUq-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-495.5" y="-865" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-46" target="Vq6O65trJawBY8Uh8ofG-54">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-973.5" y="-880" as="sourcePoint" />
            <mxPoint x="-923.5" y="-930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-54" target="1bELZ38nUYD51GLO0hUq-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1153.5" y="-830" as="sourcePoint" />
            <mxPoint x="-1103.5" y="-880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-13" target="1bELZ38nUYD51GLO0hUq-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1143.5" y="-830" as="sourcePoint" />
            <mxPoint x="-1093.5" y="-880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-27" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-9" target="1bELZ38nUYD51GLO0hUq-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1143.5" y="-830" as="sourcePoint" />
            <mxPoint x="-495.5" y="-850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-28" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" vertex="1" parent="1">
          <mxGeometry x="-359.75" y="-910" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-29" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;XPathParser&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-334.75" y="-895" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-30" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责将mybatis-config.xml配置文件解析成Configuration对象，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;共SqlSessonFactoryBuilder使用，创建SqlSessionFactory&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-359.75" y="-830" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-32" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-40" target="Vq6O65trJawBY8Uh8ofG-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="-140" as="sourcePoint" />
            <mxPoint x="1270" y="-210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.444;exitY=0.955;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitPerimeter=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-57" target="Vq6O65trJawBY8Uh8ofG-53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-43" y="-915" as="sourcePoint" />
            <mxPoint x="7" y="-965" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-39" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;XMLConfigBuilder调用parse()方法&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;会从XPathParser中取出&amp;lt;configuration&amp;gt;节点对应的Node对象，然后解析此Node节点的子Node：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;properties, settings, typeAliases,typeHandlers, objectFactory, objectWrapperFactory, plugins, environments,databaseIdProvider, mappers&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1615.5" y="-640" width="810" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-40" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-51" target="Vq6O65trJawBY8Uh8ofG-52">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-43" y="-465" as="sourcePoint" />
            <mxPoint x="-503" y="-295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-41" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-53" target="1bELZ38nUYD51GLO0hUq-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-333" y="-1065" as="sourcePoint" />
            <mxPoint x="-283" y="-1115" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-42" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-28" target="Vq6O65trJawBY8Uh8ofG-50">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-180" y="-760" as="sourcePoint" />
            <mxPoint x="-292.75" y="-910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-43" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Vq6O65trJawBY8Uh8ofG-50" target="Vq6O65trJawBY8Uh8ofG-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-573" y="-765" as="sourcePoint" />
            <mxPoint x="-283" y="-785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-38" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;提供根据Xpath表达式获取基本的DOM节点Node信息的操作&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-350" y="-790" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-46" value="&lt;div&gt;&lt;b&gt;String resource = &quot;mybatis-config.xml&quot;;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;InputStream inputStream = Resources.getResourceAsStream(resource);&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;// 手动创建XMLConfigBuilder，并解析创建Configuration对象&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;XMLConfigBuilder parser = new XMLConfigBuilder(inputStream, null,null); // 看这里&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Configuration configuration = parser.parse();&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;// 使用Configuration对象创建SqlSessionFactory&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(configuration);&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;// 使用MyBatis&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SqlSession sqlSession = sqlSessionFactory.openSession();&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;List list = sqlSession.selectList(&quot;com.foo.bean.BlogMapper.queryAllBlogInfo&quot;);&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1241" y="-800" width="570" height="160" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-1000" width="630" height="250" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-48" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-660" width="630" height="350" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-230" width="650" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-52" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;!-- 方法一： 从外部指定properties配置文件, 除了使用resource属性指定外，还可通过url属性指定url&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;properties resource=&quot;dbConfig.properties&quot;&amp;gt;&amp;lt;/properties&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;!-- 方法二： 直接配置为xml --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;properties&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test1&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;username&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/properties&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#36393d;fillColor=#f9f7ed;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-2130" width="590" height="170" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-53" value="&lt;div&gt;&lt;b&gt;要是两种方法都同时配置了，那么最终会采用什么样的配置呢？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;首先会先检查文件中的xml配置 和 外部指定的properties(也就是resource)，如果两个同时配置了，那么就会报异常&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;接着会加载Java Configuration的配置&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果有Configuration的配置，那么最终会使用Configuration的配置&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果没有Configuration的配置，那么最终会使用上一步的xml的配置或resource配置&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;这是因为配置是存放在Properties，它继承自HashTable类，当依次将上述几种配置源put进去时，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;后加载的配置会覆盖先加载的配置。所以，最终应用配置时Configuration配置优先级最高&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2420" y="-1962" width="640" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-54" value="&lt;div&gt;&lt;b&gt;&amp;lt;environments default=&quot;development&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;environment id=&quot;development&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!--&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; JDBC–这个配置直接简单使用了JDBC的提交和回滚设置。它依赖于从数据源得到的连接来管理事务范围。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; MANAGED–这个配置几乎没做什么。它从来不提交或回滚一个连接。而它会让容器来管理事务的整个生命周期&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;（比如Spring或JEE应用服务器的上下文）。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;transactionManager type=&quot;JDBC&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!--&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UNPOOLED–这个数据源的实现是每次被请求时简单打开和关闭连接&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; POOLED–mybatis实现的简单的数据库连接池类型，它使得数据库连接可被复用，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;不必在每次请求时都去创建一个物理的连接。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; JNDI – 通过jndi从tomcat之类的容器里获取数据源。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;dataSource type=&quot;POOLED&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!--&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 如果上面没有指定数据库配置的properties文件，那么此处可以这样直接配置&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test1&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;username&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 上面指定了数据库配置文件， 配置文件里面也是对应的这四个属性 --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&amp;gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;/dataSource&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/environment&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;!-- 我再指定一个environment --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;environment id=&quot;test&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;transactionManager type=&quot;JDBC&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;dataSource type=&quot;POOLED&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 与上面的url不一样 --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/demo&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;username&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;password&quot; value=&quot;root&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;/dataSource&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/environment&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/environments&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#36393d;fillColor=#f9f7ed;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="-1790" width="630" height="630" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-55" value="&lt;div&gt;&lt;b&gt;environments元素节点可以配置多个environment子节点， 怎么理解呢？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;假如我们系统的开发环境和正式环境所用的数据库不一样（这是肯定的），&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;那么可以设置两个environment, 两个id分别对应开发环境（dev）和正式环境（final），&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;那么通过配置environments的default属性就能选择对应的environment了，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;例如，我将environments的deault属性的值配置为dev, 那么就会选择dev的environment。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2420" y="-1140" width="510" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-56" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;typeAliases&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!--&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 通过package, 可以直接指定package的名字， mybatis会自动扫描你指定包下面的javabean,&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 并且默认设置一个别名，默认的名字为： javabean 的首字母小写的非限定类名来作为它的别名。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 也可在javabean 加上注解@Alias 来自定义别名， 例如： @Alias(user)&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;package name=&quot;com.dy.entity&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;typeAlias alias=&quot;UserEntity&quot; type=&quot;com.dy.entity.User&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/typeAliases&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2395" y="-990" width="560" height="220" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-57" value="&lt;div&gt;&lt;b&gt;typeAliases节点主要用来设置别名，其实这是挺好用的一个功能， 通过配置别名，我们不用再指定完整的包名，并且还能取别名。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;例如： 我们在使用 com.demo.entity. UserEntity 的时候，我们可以直接配置一个别名user,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;这样以后在配置文件中要使用到com.demo.entity.UserEntity的时候，直接使用User即可&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="-750" width="720" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-58" value="&lt;b&gt;&amp;nbsp;MyBatis 在预处理语句（PreparedStatement）中设置一个参数时，还是从结果集中取出一个值时，&lt;/b&gt;&lt;div&gt;&lt;b&gt;都会用类型处理器将获取的值以合适的方式转换成 Java 类型。&lt;/b&gt;&lt;div&gt;&lt;b&gt;Mybatis默认为我们实现了许多TypeHandler, 当我们没有配置指定TypeHandler时，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Mybatis会根据参数或者返回结果的不同，默认为我们选择合适的TypeHandler处理。&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2430" y="-300" width="560" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-59" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;typeHandlers&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!--&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 当配置package的时候，mybatis会去配置的package扫描TypeHandler&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;package name=&quot;com.dy.demo&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;--&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- handler属性直接配置我们要指定的TypeHandler --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;typeHandler handler=&quot;&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- javaType 配置java类型，例如String, 如果配上javaType, 那么指定的typeHandler就只作用于指定的类型 --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;typeHandler javaType=&quot;&quot; handler=&quot;&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- jdbcType 配置数据库基本数据类型，例如varchar, 如果配上jdbcType,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;那么指定的typeHandler就只作用于指定的类型&amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;typeHandler jdbcType=&quot;&quot; handler=&quot;&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 也可两者都配置 --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;typeHandler javaType=&quot;&quot; jdbcType=&quot;&quot; handler=&quot;&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;lt;/typeHandlers&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#36393d;fillColor=#f9f7ed;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-670" width="640" height="370" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-60" value="&lt;div&gt;&lt;b&gt;MyBatis 每次创建结果对象的新实例时，它都会使用一个对象工厂（ObjectFactory）实例来完成。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;默认的对象工厂需要做的仅仅是实例化目标类，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;要么通过默认构造方法，要么在参数映射存在的时候通过参数构造方法来实例化。默认情况下，我们不需要配置，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;mybatis会调用默认实现的objectFactory。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;除非我们要自定义ObjectFactory的实现， 那么我们才需要去手动配置。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;那么怎么自定义实现ObjectFactory？ 怎么配置呢？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;自定义ObjectFactory只需要去继承DefaultObjectFactory（是ObjectFactory接口的实现类），并重写其方法即可。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="-65" width="640" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-61" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;objectFactory type=&quot;org.mybatis.example.ExampleObjectFactory&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/objectFactory&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2395" y="-215" width="430" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-62" value="&lt;div&gt;&lt;b&gt;plugins 是一个可选配置。mybatis中的plugin其实就是个interceptor，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;它可以拦截Executor 、ParameterHandler 、ResultSetHandler 、StatementHandler 的部分方法，处理我们自己的逻辑。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Executor就是真正执行sql语句的东西， ParameterHandler 是处理我们传入参数的，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;还记得前面讲TypeHandler的时候提到过，mybatis默认帮我们实现了不少的typeHandler,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当我们不显示配置typeHandler的时候，mybatis会根据参数类型自动选择合适的typeHandler执行，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;其实就是ParameterHandler 在选择。ResultSetHandler 就是处理返回结果的。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;怎么自定义plugin ? 怎么配置？要自定义一个plugin, 需要去实现Interceptor接口&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="250" width="690" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-63" value="" style="whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="72" width="640" height="180" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-64" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;plugins&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;plugin interceptor=&quot;org.mybatis.example.ExamplePlugin&quot;&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;/plugin&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/plugins&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2395" y="90" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-65" value="&lt;b&gt;mappers 节点下，配置我们的mapper映射文件， 所谓的mapper映射文件，&lt;/b&gt;&lt;div&gt;&lt;b&gt;就是让mybatis 用来建立数据表和javabean映射的一个桥梁。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;在我们实际开发中，通常一个mapper文件对应一个dao接口，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;这个mapper可以看做是dao的实现。所以,mappers必须配置。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="690" width="430" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-66" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="395" width="675" height="295" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-67" value="&lt;div&gt;&lt;b&gt;&amp;lt;configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;mappers&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 第一种方式：通过resource指定 --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;mapper resource=&quot;com/dy/dao/userDao.xml&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 第二种方式， 通过class指定接口，进而将接口与对应的xml文件形成映射关系&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;不过，使用这种方式必须保证 接口与mapper文件同名(不区分大小写)，&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;我这儿接口是UserDao,那么意味着mapper文件为UserDao.xml&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;mapper class=&quot;com.dy.dao.UserDao&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 第三种方式，直接指定包，自动扫描，与方法二同理&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;package name=&quot;com.dy.dao&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;!-- 第四种方式：通过url指定mapper文件位置&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;mapper url=&quot;file://........&quot;/&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;/mappers&amp;gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; ......&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/configuration&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2400" y="385" width="490" height="320" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-68" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="785" width="675" height="185" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-69" value="&lt;div&gt;&lt;b&gt;&amp;lt;settings&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;enhancementEnabled&quot; value=&quot;false&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; &amp;lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25000&quot;/&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;lt;/settings&amp;gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2410" y="800" width="380" height="160" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-70" value="&lt;b&gt;setting节点里配置的值会直接改写Configuration对应的变量值，这些变量描述的是Mybatis的全局运行方式，&lt;/b&gt;&lt;div&gt;&lt;b&gt;如果对这些属性的含义不熟悉的话建议不要配置，使用默认值即可。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2415" y="990" width="610" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-71" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2600" y="-2130" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-73" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;properties&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2575" y="-2110" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-74" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2630" y="-1770" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-75" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;environment&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2615" y="-1750" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-76" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2630" y="-1000" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-77" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;typeAliases&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2610" y="-980" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-78" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2600" y="-620" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-79" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;typeHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2585" y="-600" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-80" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2610" y="-200" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-81" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;objectFactory&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2600" y="-180" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-82" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2600" y="132" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-83" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;plugins&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2565" y="152" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-84" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2590" y="480" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-85" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;mappers&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2560" y="500" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-86" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="-2590" y="870" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;settings&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2555" y="890" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-88" value="" style="endArrow=none;dashed=1;html=1;rounded=0;exitX=1.004;exitY=0.413;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1590" y="-700" as="sourcePoint" />
            <mxPoint x="-1560" y="-760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-89" value="" style="endArrow=none;dashed=1;html=1;rounded=0;exitX=0.996;exitY=0.498;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-59" target="Vq6O65trJawBY8Uh8ofG-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1590" y="-700" as="sourcePoint" />
            <mxPoint x="-1540" y="-750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-91" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-49">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1790" y="-360" as="sourcePoint" />
            <mxPoint x="-1560" y="-740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-92" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-63" target="Vq6O65trJawBY8Uh8ofG-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1790" y="-360" as="sourcePoint" />
            <mxPoint x="-1740" y="-410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-93" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.009;entryY=0.767;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-66" target="Vq6O65trJawBY8Uh8ofG-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1790" y="-360" as="sourcePoint" />
            <mxPoint x="-1740" y="-410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-94" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.009;entryY=0.722;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-68" target="Vq6O65trJawBY8Uh8ofG-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1790" y="-20" as="sourcePoint" />
            <mxPoint x="-1740" y="-70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-95" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1.007;exitY=0.506;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-54" target="Vq6O65trJawBY8Uh8ofG-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1620" y="-1320" as="sourcePoint" />
            <mxPoint x="-1570" y="-1370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1bELZ38nUYD51GLO0hUq-96" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.999;exitY=0.421;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="1bELZ38nUYD51GLO0hUq-52">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1620" y="-1520" as="sourcePoint" />
            <mxPoint x="-1560" y="-760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="nK1uRe_DyTAV3b0eco1S" name="Nacos">
    <mxGraphModel dx="7827" dy="4776" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="P-abKHr8KpcUQJsMXwjR-27" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="680" y="210" width="550" height="530" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-40" y="240" width="410" height="470" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos服务注册流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-40" y="-290" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-2" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1.x版本的实现&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;Nacos在1.x版本的时候，服务注册是通过Http接口实现的&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-30" y="-180" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-4" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;临时实例&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;临时实例在注册到注册中心之后仅仅只保存在服务端内部一个缓存中，不会持久化到磁盘&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这个服务端内部的缓存在注册中心届一般被称为服务注册表&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;当服务实例出现异常或者下线之后，就会把这个服务实例从服务注册表中剔除&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;永久实例&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;永久服务实例不仅仅会存在服务注册表中，同时也会被持久化到磁盘文件中&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;当服务实例出现异常或者下线，Nacos只会将服务实例的健康状态设置为不健康，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;并不会对将其从服务注册表中剔除&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;所以这个服务实例的信息你还是可以从注册中心看到，只不过处于不健康状态&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-380" y="429" width="490" height="190" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="339" width="190" height="111" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="840" y="324.5" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="680" y="429" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Controller接口&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="675" y="444" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos服务端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="700" y="240" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-17" value="&lt;b&gt;发送Http请求，注册服务信息&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="430" y="360" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-18" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;在服务注册时，发现是临时实例，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;客户端会开启一个5s执行一次的定时任务&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这个定时任务会构建一个Http请求，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;携带这个服务实例的信息，然后发送到服务端&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="240" y="605" width="260" height="90" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-19" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="145" y="533.5" width="145" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;定时任务上报心跳&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="145" y="548" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-28" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="827" y="522" width="190" height="63" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos客户端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-30" y="260" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-30" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;（临时实例）&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="75" y="399" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="369" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-32" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="P-abKHr8KpcUQJsMXwjR-26" target="P-abKHr8KpcUQJsMXwjR-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="470" as="sourcePoint" />
            <mxPoint x="360" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-33" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="P-abKHr8KpcUQJsMXwjR-5" target="P-abKHr8KpcUQJsMXwjR-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="470" as="sourcePoint" />
            <mxPoint x="360" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-34" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.334;entryY=0.08;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#007FFF;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-5" target="P-abKHr8KpcUQJsMXwjR-19" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="470" as="sourcePoint" />
            <mxPoint x="360" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-35" value="&lt;b&gt;开启&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="170" y="474" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-38" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;发送http请求，上报心跳信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="400" y="533.5" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-39" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="P-abKHr8KpcUQJsMXwjR-19" target="P-abKHr8KpcUQJsMXwjR-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="570" as="sourcePoint" />
            <mxPoint x="530" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="569" y="695" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-41" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1050" y="261" width="145" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;检查心跳定时任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1050" y="275.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-43" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;更新心跳时间&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="737" y="384.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-45" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="890" y="640" width="190" height="63" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="P-abKHr8KpcUQJsMXwjR-12" target="P-abKHr8KpcUQJsMXwjR-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="573" as="sourcePoint" />
            <mxPoint x="690" y="485" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;不健康&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="885" y="533.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-50" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;删除&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="950" y="646.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-51" value="&lt;b&gt;&lt;font color=&quot;#cc6600&quot;&gt;判断最后一次心跳时间&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="900" y="290" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-41" target="P-abKHr8KpcUQJsMXwjR-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="550" as="sourcePoint" />
            <mxPoint x="530" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-53" value="&lt;b&gt;&lt;font color=&quot;#cc6600&quot;&gt;超过15秒&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="955" y="484.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-54" value="&lt;b&gt;&lt;font color=&quot;#cc6600&quot;&gt;超过30秒&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="880" y="600" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-6" target="P-abKHr8KpcUQJsMXwjR-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1081" y="321" as="sourcePoint" />
            <mxPoint x="970" y="335" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-28" target="P-abKHr8KpcUQJsMXwjR-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="930" y="495" as="sourcePoint" />
            <mxPoint x="932" y="532" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-58" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;心跳机制，也可以被称为保活机制，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;作用就是服务实例告诉注册中心我这个服务实例还活着&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="259" y="565" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-59" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;心跳机制，也可以被称为保活机制，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;作用就是服务实例告诉注册中心我这个服务实例还活着&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1085" y="329" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-60" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;正常情况下，服务关闭了，那么服务会主动向Nacos服务端发送一个服务下线的请求&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;Nacos服务端在接收到请求之后，会将这个服务实例从服务注册表中剔除&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;异常情况下，比如出现网络问题，可能导致这个注册的服务实例无法提供服务，处于不可用状态，也就是不健康&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;而此时在没有任何机制的情况下，服务端是无法知道这个服务处于不可用状态&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;Nacos、Eureka，就会用心跳机制来判断这个服务实例是否能正常&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;在Nacos中，心跳机制仅仅是针对临时实例来说的，临时实例需要靠心跳机制来保活&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;心跳机制实现是通过客户端和服务端各存在的一个定时任务来完成的&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在服务注册时，发现是临时实例，客户端会开启一个5s执行一次的定时任务&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;这个定时任务会构建一个Http请求，携带这个服务实例的信息，然后发送到服务端&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在Nacos服务端也会开启一个定时任务，默认也是5s执行一次，去检查这些服务实例最后一次心跳的时间，&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;也就是客户端最后一次发送Http请求的时间&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;当最后一次心跳时间超过15s，但没有超过30s，会把这服务实例标记成不健康&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当最后一次心跳超过30s，直接把服务从服务注册表中剔除&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-40" y="-90" width="640" height="260" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-61" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在Nacos服务端也会开启一个定时任务，默认也是5s执行一次，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;去检查这些服务实例最后一次心跳的时间，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;也就是客户端最后一次发送Http请求的时间&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1110" y="369.5" width="390" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-62" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-70" y="1442" width="410" height="470" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-63" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="670" y="1421" width="550" height="530" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-64" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos客户端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-50" y="1452" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos服务端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="690" y="1442" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-66" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;2.x版本的实现&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;Nacos在1.x版本的时候，服务注册是通过Http接口实现的&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-35" y="960" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-67" value="&lt;div&gt;&lt;b&gt;心跳机制：&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.x版本之后，由于通信协议改成了gRPC，客户端与服务端保持长连接，所以2.x版本之后它是利用这个gRPC长连接本身的心跳来保活&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;连接本身的心跳机制&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;一旦这个连接断开，服务端就会认为这个连接注册的服务实例不可用，之后就会将这个服务实例从服务注册表中提出剔除&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;除了连接本身的心跳之外，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;Nacos还有服务端的一个主动检测机制&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Nacos服务端也会启动一个定时任务，默认每隔3s执行一次&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这个任务会去检查超过20s没有发送请求数据的连接&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;一旦发现有连接已经超过20s没发送请求，那么就会向这个连接对应的客户端发送一个请求&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;如果请求不通或者响应失败，此时服务端也会认为与客户端的这个连接异常，从而将这个客户端注册的服务实例从服务注册表中剔除&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;所以对于2.x版本，主要是两种机制来进行保活：&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;连接本身的心跳机制，断开就直接剔除服务实例&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Nacos主动检查机制，服务端会对20s没有发送数据的连接进行检查，出现异常时也会主动断开连接，剔除服务实例&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-45" y="1025" width="760" height="200" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-69" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="35" y="1511" width="190" height="111" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-70" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="865" y="1500" width="160" height="207" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-71" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="85" y="1526.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;（临时实例）&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="75" y="1572" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-74" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-69" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1512" as="sourcePoint" />
            <mxPoint x="665" y="1539" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-75" value="&lt;b&gt;gRPC长连接本身的心跳来保活&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="410" y="1510" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-76" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1055" y="1441" width="145" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;检查心跳定时任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1452" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-78" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;启动一个定时任务，默认每隔3s执行一次&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1500" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-83" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="842" y="409.5" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-84" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="885" y="414.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-85" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务注册表&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860" y="334" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务注册表&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="895" y="1511" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-88" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="890" y="1582" width="120" height="38" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="905" y="1582" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-90" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="P-abKHr8KpcUQJsMXwjR-76" target="P-abKHr8KpcUQJsMXwjR-70" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1512" as="sourcePoint" />
            <mxPoint x="580" y="1462" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-91" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;向这个连接对应的客户端发送一个请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="485" y="1540" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-92" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.013;exitY=0.324;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="P-abKHr8KpcUQJsMXwjR-70" target="P-abKHr8KpcUQJsMXwjR-69" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1652" as="sourcePoint" />
            <mxPoint x="580" y="1602" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-93" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;请求不通或者响应失败&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="485" y="1602" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-94" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-69" target="P-abKHr8KpcUQJsMXwjR-70" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1652" as="sourcePoint" />
            <mxPoint x="580" y="1602" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-95" value="" style="whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1648" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-96" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;删除&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1125" y="1648" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-97" value="&lt;b&gt;&lt;font&gt;判断是否连接断开&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="697" y="1602" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-98" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="P-abKHr8KpcUQJsMXwjR-88" target="P-abKHr8KpcUQJsMXwjR-95" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1792" as="sourcePoint" />
            <mxPoint x="580" y="1742" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-99" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.006;entryY=0.227;entryDx=0;entryDy=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;strokeWidth=2;entryPerimeter=0;" parent="1" source="P-abKHr8KpcUQJsMXwjR-70" target="P-abKHr8KpcUQJsMXwjR-63" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1792" as="sourcePoint" />
            <mxPoint x="580" y="1742" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-100" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;检查超过20s没有发送请求数据的连接&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="850" y="1552" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-101" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.374;entryY=0.024;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;entryPerimeter=0;" parent="1" source="P-abKHr8KpcUQJsMXwjR-88" target="P-abKHr8KpcUQJsMXwjR-96" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="1782" as="sourcePoint" />
            <mxPoint x="570" y="1732" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-102" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;服务实例从服务注册表中提出剔除&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1020" y="1612" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-103" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;健康检查的机制&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;心跳机制仅仅是临时实例用来保护的机制，&lt;span style=&quot;background-color: initial;&quot;&gt;而对于永久实例来说，一般来说无法主动上报心跳&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;就比如说MySQL实例，肯定是不会主动上报心跳到Nacos的，所以这就导致无法通过心跳机制来保活&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;Nacos通过一种叫健康检查的机制去判断服务实例是否活着，&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;所谓的健康检查就是服务端主动向服务实例发送请求，去探测服务实例是否活着&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-70" y="1280" width="770" height="70" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-104" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;心跳机制，也可以被称为保活机制，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;作用就是服务实例告诉注册中心我这个服务实例还活着&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="5" y="1617" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-105" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="55" y="1751" width="190" height="111" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-106" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="100" y="1751" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;（永久实例）&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="90" y="1791.5" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-108" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="729.5" y="1817" width="145" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-109" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="895" y="1648" width="120" height="38" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-110" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="900" y="1652" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-111" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;健康检查跟心跳机制刚好相反，心跳机制是服务实例向服务端发送请求&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;而所谓的健康检查就是服务端主动向服务实例发送请求，去探测服务实例是否活着&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-45" y="1826.5" width="460" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-112" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;健康检查任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="745" y="1826.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-113" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;任务每次执行时间间隔会在2000~7000毫秒&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;任务触发的时候，会根据设置的健康检查的方式执行不同的逻辑&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;TCP的方式就是根据服务实例的ip和端口去判断是否能连接成功，如果连接成功，就认为健康，反之就任务不健康&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;text-align: left;&quot;&gt;HTTP的方式就是向服务实例的ip和端口发送一个Http请求，请求路径是需要设置的，如果能正常请求，说明实例健康，反之就不健康&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;MySQL的方式是一种特殊的检查方式，他可以执行下面这条Sql来判断数据库是不是主库&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="655" y="1900" width="730" height="100" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-114" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitX=0.573;exitY=0.073;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#666666;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-108" target="P-abKHr8KpcUQJsMXwjR-70" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="1830" as="sourcePoint" />
            <mxPoint x="655" y="1780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-115" value="&lt;font color=&quot;#666666&quot;&gt;&lt;b&gt;根据服务实例的ip和端口去判断是否能连接成功&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="700" y="1740" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-116" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=-0.019;exitY=0.538;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#666666;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-110" target="P-abKHr8KpcUQJsMXwjR-105" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="1830" as="sourcePoint" />
            <mxPoint x="655" y="1780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-117" value="&lt;b&gt;&lt;font color=&quot;#666666&quot;&gt;根据服务实例的ip和端口去判断是否能连接成功&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="404" y="1686" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.006;entryY=1.11;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#666666;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-105" target="P-abKHr8KpcUQJsMXwjR-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="1830" as="sourcePoint" />
            <mxPoint x="655" y="1780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-119" value="&lt;b&gt;&lt;font color=&quot;#666666&quot;&gt;能正常请求，说明实例健康，反之就不健康&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="415" y="1770" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-120" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#666666;strokeWidth=2;" parent="1" source="P-abKHr8KpcUQJsMXwjR-109" target="P-abKHr8KpcUQJsMXwjR-122" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="1830" as="sourcePoint" />
            <mxPoint x="655" y="1780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-121" value="&lt;b&gt;&lt;font color=&quot;#666666&quot;&gt;设置为不健康，并不会对将其从服务注册表中剔除&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="980" y="1721" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-122" value="" style="whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="1040" y="1757" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-123" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;不健康&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1065" y="1772" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-124" value="&lt;div&gt;&lt;b&gt;服务发现就是指当有服务实例注册成功之后，其它服务可以发现这些服务实例&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Nacos提供了两种发现方式：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;主动查询&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;服务订阅&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;主动查询就是指客户端主动向服务端查询需要关注的服务实例，也就是拉（pull）的模式&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务订阅就是指客户端向服务端发送一个订阅服务的请求，当被订阅的服务有信息变动就会主动将服务实例的信息推送给订阅的客户端，本质就是推（push）模式&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;一般来说都是选择使用订阅的方式，这样一旦有服务实例数据的变动，客户端能够第一时间感知，&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;默认就是使用订阅的方式&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;服务查询其实两者实现都很简单&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1.x整体就是发送Http请求去查询服务实例，2.x只不过是将Http请求换成了gRPC的请求&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;服务端对于查询的处理过程都是一样的，从服务注册表中查出符合查询条件的服务实例进行返回&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;服务订阅，两者的机制就稍微复杂一点&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-60" y="3534" width="910" height="220" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-125" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Nacos服务发现流程&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-160" y="3507" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-126" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1.x服务订阅实现&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;服务订阅的处理逻辑大致会有以下三步：&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;第一步，客户端在启动的时候，会去构建一个叫PushReceiver的类&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-weight: bold; background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;这个类会去创建一个UDP Socket，端口是随机的，&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;通过UDP的方式接收服务端推送的数据的&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;第二步，调用NamingService#subscribe来发起订阅时，会先去服务端查询需要订阅服务的所有实例信息&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;之后会将所有服务实例数据存到客户端的一个内部缓存中&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在查询的时候，会将这个UDP Socket的端口作为一个参数传到服务端&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;服务端接收到这个UDP端口后，后续就通过这个端口给客户端推送服务实例数据&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;第三步，会为这次订阅开启一个不定时执行的任务&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;这个任务会去从服务端查询订阅的服务实例信息，然后更新内部缓存&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-105" y="3769" width="580" height="160" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-127" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-60" y="4044" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-128" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-45" y="4147" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-129" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="4324" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-130" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="355" y="4204" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-131" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="315" y="3994" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-132" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="279" y="4104" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-133" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="95" y="4364" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-134" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-10" y="3944" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-135" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PushReceiver&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接收服务实例变动数据&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-40" y="4049" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-136" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;UDP&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-20" y="4164" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-137" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Nacos服务端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="320" y="4009" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-138" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;校对服务&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;实例缓存&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;定时服务&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="290" y="4099" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-139" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;客户端&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例缓存&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="355" y="4207" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-140" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;订阅服务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="325" y="4339" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-141" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EventListener&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;服务实例变动监听器&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="90" y="4369" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="P-abKHr8KpcUQJsMXwjR-142" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;客户端启动&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="5" y="3959" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iV4UqZKM_R4so0krWqlj-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Nacos注册请求的核心流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-200" y="2160" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iV4UqZKM_R4so0krWqlj-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-160" y="2240" width="560" height="640" as="geometry" />
        </mxCell>
        <mxCell id="iV4UqZKM_R4so0krWqlj-3" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="600" y="2240" width="560" height="640" as="geometry" />
        </mxCell>
        <mxCell id="iV4UqZKM_R4so0krWqlj-4" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-161" y="2960" width="560" height="640" as="geometry" />
        </mxCell>
        <mxCell id="iV4UqZKM_R4so0krWqlj-5" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="600" y="2960" width="560" height="640" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Ki8XQq0x2mf3S2qTC5oE" name="Tomcat">
    <mxGraphModel dx="6308" dy="3884" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-260" y="-240" width="2190" height="1180" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-220" y="-150" width="700" height="970" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-200" y="-130" width="700" height="980" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-180" y="-110" width="1500" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-130" y="-40" width="280" height="780" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-110" y="-30" width="320" height="810" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-8" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-90" y="-10" width="350" height="840" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="410" y="-38.75" width="810" height="868.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Tomcat Instance&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-260" y="-230" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-11" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Tomcat将自己的业务抽象成了Server, Service, Connector, Container等组件&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-230" y="-200" width="440" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-12" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Server组件是Tomcat的最外层组件，是Tomcat实例本身的抽象，代表Tomcat本身。一个服务器组件可以有一个或多个服务组件。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-230" y="-180" width="710" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Service&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-165" y="-110" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-14" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Service组件是Tomcat中提供服务和处理请求的一组组件。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一个服务组件可以有多个连接器和一个容器。Multiple Connector表示它可以使用多种协议同时接收用户请求。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-130" y="-78.75" width="610" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Connector&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-60" y="30" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-16" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Connector负责处理客户端连接，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;它提供各种服务协议的支持，包括BIO、NIO、AIO等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-65" y="70" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Container&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="440" y="-10" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-18" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Container组件是负责具体业务逻辑处理的容器。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;当Connector组件与客户端建立连接后，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;将请求转发给Container组件的Engine组件进行处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="430" y="30" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-19" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.003;entryY=0.084;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-560" y="-141" as="sourcePoint" />
            <mxPoint x="80" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.001;exitY=0.089;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-1" target="Ub1CV1uvOyHI6s0gvkGn-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="180" as="sourcePoint" />
            <mxPoint x="80" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.035;entryY=0.028;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-5" target="Ub1CV1uvOyHI6s0gvkGn-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="180" as="sourcePoint" />
            <mxPoint x="80" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-24" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.012;entryY=0.082;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.978;exitY=0.053;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-8" target="Ub1CV1uvOyHI6s0gvkGn-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="180" as="sourcePoint" />
            <mxPoint x="80" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="430" y="90" width="750" height="700" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="445" y="170" width="705" height="590" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-27" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="460" y="250" width="660" height="460" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-28" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="470" y="330" width="620" height="330" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;Engine&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="450" y="100" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-30" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Host&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="460" y="180" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Context&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="470" y="255.63" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-32" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="500" y="435" width="560" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.002;exitY=0.953;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="310" as="sourcePoint" />
            <mxPoint x="-560" y="885" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-34" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.041;exitY=0.965;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-8" target="Ub1CV1uvOyHI6s0gvkGn-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="310" as="sourcePoint" />
            <mxPoint x="150" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-35" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.001;entryY=0.954;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-4" target="Ub1CV1uvOyHI6s0gvkGn-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="310" as="sourcePoint" />
            <mxPoint x="150" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-36" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.016;exitY=0.948;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.995;entryY=0.946;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-9" target="Ub1CV1uvOyHI6s0gvkGn-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="310" as="sourcePoint" />
            <mxPoint x="150" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-37" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.01;exitY=0.089;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="410" y="20" as="sourcePoint" />
            <mxPoint x="460" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-39" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Engine组件代表一个可运行的Servlet实例，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;包括Servlet容器的核心功能，可以有一个或多个虚拟主机（Host）。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;它的主要作用是将请求委托给合适的虚拟主机进行处理，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;即根据URL路径的配置匹配合适的虚拟主机进行处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="530" y="90" width="390" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-40" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Host组件负责运行多个应用程序，它负责安装这些应用程序。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;它的主要作用是解析web.xml文件，匹配到对应的Context组件。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="530" y="190" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-41" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.042;exitY=0.049;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.053;entryY=0.029;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-25" target="Ub1CV1uvOyHI6s0gvkGn-26">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="310" as="sourcePoint" />
            <mxPoint x="464" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-42" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Context组件代表了具体的Web应用本身，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;它最重要的作用就是管理里面的Servlet实例。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一个 Context 可以有一个或多个 Servlet 实例。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="560" y="260" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.059;exitY=0.037;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.044;entryY=0.046;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-26" target="Ub1CV1uvOyHI6s0gvkGn-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="310" as="sourcePoint" />
            <mxPoint x="750" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Wrapper&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="470" y="350" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-45" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一个Wrapper组件代表一个Servlet，它负责管理一个Servlet，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;包括Servlet的加载、初始化、执行和资源回收。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;包装器是最低级别的容器。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="550" y="335" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Servlet&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="747" y="460" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.041;exitY=0.03;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.029;entryY=0.052;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-27" target="Ub1CV1uvOyHI6s0gvkGn-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="310" as="sourcePoint" />
            <mxPoint x="570" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.022;exitY=0.964;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.011;entryY=0.927;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-28" target="Ub1CV1uvOyHI6s0gvkGn-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="480" as="sourcePoint" />
            <mxPoint x="450" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-50" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.014;exitY=0.924;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.009;entryY=0.91;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-27" target="Ub1CV1uvOyHI6s0gvkGn-26">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="360" as="sourcePoint" />
            <mxPoint x="450" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.014;exitY=0.91;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.016;entryY=0.923;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-26" target="Ub1CV1uvOyHI6s0gvkGn-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="480" as="sourcePoint" />
            <mxPoint x="450" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.021;exitY=0.925;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.023;entryY=0.941;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-25" target="Ub1CV1uvOyHI6s0gvkGn-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="480" as="sourcePoint" />
            <mxPoint x="450" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-53" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一个 Server 可以容纳多个 Service。每个 Service 仅关联一个 Container，但可以配备多个 Connectors&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-130" y="-50" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-54" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Engine 是 Container 的最高层级，它可以包含多个 Host。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="530" y="150" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-55" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Host 代表虚拟主机，每个 Host 可以包含多个 Context。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="520" y="220" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-56" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Context 是 Web 应用的上下文，它定义了 Web 应用的部署参数和路径。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="560" y="304" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-58" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Wrapper 是 Servlet 的包装器，它负责 Servlet 的生命周期管理和资源分配。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="550" y="380" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-59" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1430" y="-110" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-60" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px; color: rgb(51, 51, 255);&quot;&gt;1. Service：请求首先抵达 Service，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px; color: rgb(51, 51, 255);&quot;&gt;这是 Tomcat 服务的起点，调度着整个服务的流程。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-610" y="-195" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-61" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;2. Connector：随后，请求被引导至 Connector，它是 Tomcat 的忠实门卫，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;负责接收来自远方的请求。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Connector 将原始的网络连接转化为符合 HTTP 协议的 Request 和 Response 对象。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-635" y="-30" width="560" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-62" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;3. Container：Request 和 Response 在 Connector 的精心包装后，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;便被递交至 Container。它负责管理和执行 Servlet，对请求进行细致的处理。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="130" width="510" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-63" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;处理与返回：Container 在处理完请求后，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;将结果交回 Connector。Connector 再次承担起信使的角色，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;通过 Socket 将处理结果沿着 TCP/IP 协议的路径，送回客户端。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-670" y="820" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-64" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="1169" width="1600" height="1201" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-65" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="720" y="1150" width="2310" height="1230" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Connector&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1050" y="1200" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Container&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="760" y="1230" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Manager&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1580" y="-71.25" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-69" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1420" y="801.25" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-70" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Logger&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1560" y="825.63" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-71" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1430" y="235.63" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-72" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Loader&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1570" y="268.75" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-73" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="1420" y="631.25" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-74" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Pipeline&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1565" y="655.63" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-75" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1430" y="450" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-76" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Valve&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1580" y="475" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-77" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1430" y="51.25" width="410" height="88.75" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-78" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Realm&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1580" y="75.63000000000011" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-79" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Manager 是会话管理器，它负责管理用户的会话（Session）。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1440" y="-10" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-80" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Logger 是日志管理器，它负责记录和管理日志信息。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1440" y="890" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-81" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Loader 是类加载器，它与类的加载机制相关，通常由 Context 使用。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1430" y="330" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-82" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Pipeline 是管道组件，它与 Valve 一起实现过滤器功能。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1455" y="720" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-83" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Realm 是安全域，它负责认证和授权。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1505" y="150" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-84" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Valve 是阀门组件，它与 Pipeline 配合，用于实现请求和响应的过滤处理。&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1430" y="555" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-86" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320" y="-66" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-87" value="" style="endArrow=none;html=1;rounded=0;exitX=1.001;exitY=0.208;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-5" target="Ub1CV1uvOyHI6s0gvkGn-77">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1370" y="460" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-88" value="" style="endArrow=none;html=1;rounded=0;exitX=0.996;exitY=0.387;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-5" target="Ub1CV1uvOyHI6s0gvkGn-71">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1370" y="460" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-89" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-75">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1322" y="494" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-90" value="" style="endArrow=none;html=1;rounded=0;exitX=1.001;exitY=0.789;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-5" target="Ub1CV1uvOyHI6s0gvkGn-73">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1370" y="460" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-91" value="" style="endArrow=none;html=1;rounded=0;exitX=1.001;exitY=0.953;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-5" target="Ub1CV1uvOyHI6s0gvkGn-69">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1370" y="460" as="sourcePoint" />
            <mxPoint x="1420" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-92" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-1070" y="1290" width="1360" height="980" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-93" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-930" y="1380" width="310" height="830" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-94" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-510" y="1380" width="310" height="830" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-95" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-90" y="1380" width="310" height="830" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-96" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;ProtocolHandler&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1040" y="1310" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-97" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Endpoint&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-880" y="1420" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-98" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Processor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-455" y="1430" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Adapter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="1430" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-100" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-900" y="1560" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-101" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-900" y="1754" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-102" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-900" y="1950" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-103" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Acceptor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-840" y="1570" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-104" target="Ub1CV1uvOyHI6s0gvkGn-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-104" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;AsyncTimeout&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-860" y="1970" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-105" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Handler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-830" y="1760" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-106" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Endpoint： 负责底层网络连接的管理，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;包括 Socket 的创建、监听、接受以及连接的关闭。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Endpoint 通常实现了 TCP/IP 协议栈的部分功能，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;用于建立可靠的网络连接。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-890" y="1460" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-107" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责将 Endpoint 接收到的原始 Socket 数据&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;解析为标准化的 HTTP 请求（Request）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;将底层的网络字节流转化为应用程序可以理解的请求信息&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Processor 实现了 HTTP 协议的具体细节，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;包括请求行的解析、请求头的处理、请求体的读取等。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-510" y="1490" width="320" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-108" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;将 Processor 处理好的 Request 对象传递给 Container，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;以便容器中的 Servlet 或其他组件对请求进行具体的处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-90" y="1500" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-109" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责监听来自客户端的连接请求，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一旦有新的连接到来，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Acceptor 就会创建一个新的 Socket，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;并将其交给 Handler 处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-860" y="1620" width="230" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-110" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;监控异步请求的超时情况。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;对于长时间未得到响应的异步请求，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AsyncTimeout 会采取相应的处理措施，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;比如关闭连接或者触发超时事件。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-895" y="2010" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-111" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;是一个接口，定义了处理新连接的具体逻辑。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;当 Acceptor 接收到一个新的 Socket 时，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;会创建一个 Handler 实例，并将其与该 Socket 关联起来。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Handler 会调用 Processor 来解析请求，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;并将处理结果返回给客户端。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-915" y="1814" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-112" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-64" target="Ub1CV1uvOyHI6s0gvkGn-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-500" y="1080" as="sourcePoint" />
            <mxPoint x="-450" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-113" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-65" target="Ub1CV1uvOyHI6s0gvkGn-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-500" y="1080" as="sourcePoint" />
            <mxPoint x="-450" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-114" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.025;entryY=0.067;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1630" y="1249" as="sourcePoint" />
            <mxPoint x="-1146" y="1280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-115" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.025;exitY=0.067;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-64" target="Ub1CV1uvOyHI6s0gvkGn-92">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1070" y="1800" as="sourcePoint" />
            <mxPoint x="-1020" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-116" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;ProtocolHandler 来处理各种类型的网络请求。不同的 ProtocolHandler 对应不同的连接方式，如Http11Protocol使用传统的阻塞式 Socket，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;而 Http11NioProtocol 则采用高效的非阻塞式 NIO Socket。ProtocolHandler 主要由 Endpoint、Processor 和 Adapter 三个组件构成&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-850" y="1310" width="780" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-92" target="Ub1CV1uvOyHI6s0gvkGn-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1230" y="1560" as="sourcePoint" />
            <mxPoint x="-1180" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-118" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-93" target="Ub1CV1uvOyHI6s0gvkGn-100">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1230" y="1560" as="sourcePoint" />
            <mxPoint x="-1180" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-119" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-100" target="Ub1CV1uvOyHI6s0gvkGn-101">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1230" y="1560" as="sourcePoint" />
            <mxPoint x="-1180" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-120" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.018;entryY=0.485;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-101" target="Ub1CV1uvOyHI6s0gvkGn-94">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1340" y="1650" as="sourcePoint" />
            <mxPoint x="-1290" y="1600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-121" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-94" target="Ub1CV1uvOyHI6s0gvkGn-95">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1100" y="1560" as="sourcePoint" />
            <mxPoint x="-1050" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-122" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.001;entryY=0.526;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-95" target="Ub1CV1uvOyHI6s0gvkGn-65">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-720" y="1750" as="sourcePoint" />
            <mxPoint x="710" y="1795" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-124" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;1. Endpoint 负责建立连接&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-900" y="1390" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-125" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;2. Processor 负责解析请求&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-250" y="1754" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-126" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;3. Adapter 负责将请求传递给容器&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="410" y="1760" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-127" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.002;exitY=0.833;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.989;entryY=0.957;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-65" target="Ub1CV1uvOyHI6s0gvkGn-95">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1740" as="sourcePoint" />
            <mxPoint x="580" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-128" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.017;exitY=0.945;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.976;entryY=0.941;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-95" target="Ub1CV1uvOyHI6s0gvkGn-94">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1740" as="sourcePoint" />
            <mxPoint x="580" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-129" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.998;entryY=0.941;entryDx=0;entryDy=0;entryPerimeter=0;exitX=-0.004;exitY=0.938;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-94" target="Ub1CV1uvOyHI6s0gvkGn-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="1740" as="sourcePoint" />
            <mxPoint x="580" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-130" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.003;exitY=0.884;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2100" as="sourcePoint" />
            <mxPoint x="-1610" y="2230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-131" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.006;entryY=0.888;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-93" target="Ub1CV1uvOyHI6s0gvkGn-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2100" as="sourcePoint" />
            <mxPoint x="-90" y="2050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-133" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="790" y="1280" width="1760" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-135" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="795" y="1570" width="1755" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-136" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="795" y="1840" width="1755" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-137" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="795" y="2110" width="1755" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-138" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="880" y="1350" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-139" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1314" y="1350" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-140" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1735" y="1350" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-141" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2130" y="1350" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-142" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="880" y="1640" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-143" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="880" y="1904" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-144" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="880" y="2170" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-145" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1314" y="1640" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-146" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1314" y="1904" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-147" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="1314" y="2165" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-148" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1735" y="1640" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-149" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1735" y="1904" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-150" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="1735" y="2165" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-151" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="2130" y="1640" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-152" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="2130" y="1904" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-153" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="2141" y="2165" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-155" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;StandardEngineValve&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2190" y="1380" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-156" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;StandardHostValve&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2190" y="1665" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-157" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;StandardContextValve&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2200" y="1929" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-158" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;StandardWrapperValve&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2210" y="2190" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-159" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;WrapperValve1&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="980" y="2190" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-160" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;HostValve1&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="970" y="1670" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-161" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;ContextValve1&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="970" y="1940" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-162" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;EngineValve1&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="970" y="1375" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-163" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;HostValve2&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1420" y="1670" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-164" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;EngineValve2&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1390" y="1385" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-165" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;ContextValve2&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1420" y="1940" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-166" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;WrapperValve2&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1420" y="2200" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-168" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;。。。。。。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1820" y="1375" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-169" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;。。。。。。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1850" y="2195" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-170" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;。。。。。。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1830" y="1929" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-171" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;。。。。。。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1850" y="1660" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-172" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-138" target="Ub1CV1uvOyHI6s0gvkGn-139">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-173" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-142" target="Ub1CV1uvOyHI6s0gvkGn-145">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-174" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-143" target="Ub1CV1uvOyHI6s0gvkGn-146">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-175" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-144" target="Ub1CV1uvOyHI6s0gvkGn-147">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-177" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-139" target="Ub1CV1uvOyHI6s0gvkGn-140">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-178" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-145" target="Ub1CV1uvOyHI6s0gvkGn-148">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-179" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-146" target="Ub1CV1uvOyHI6s0gvkGn-149">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-180" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-147" target="Ub1CV1uvOyHI6s0gvkGn-150">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-181" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-140" target="Ub1CV1uvOyHI6s0gvkGn-141">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-182" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-148" target="Ub1CV1uvOyHI6s0gvkGn-151">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-183" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-149" target="Ub1CV1uvOyHI6s0gvkGn-152">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-184" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-150" target="Ub1CV1uvOyHI6s0gvkGn-153">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-185" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-141" target="Ub1CV1uvOyHI6s0gvkGn-142">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2510" y="1395" />
              <mxPoint x="2510" y="1520" />
              <mxPoint x="830" y="1530" />
              <mxPoint x="830" y="1685" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-186" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-151" target="Ub1CV1uvOyHI6s0gvkGn-143">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2510" y="1685" />
              <mxPoint x="2510" y="1810" />
              <mxPoint x="840" y="1810" />
              <mxPoint x="840" y="1949" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-188" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-152" target="Ub1CV1uvOyHI6s0gvkGn-144">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1800" as="sourcePoint" />
            <mxPoint x="1560" y="1750" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2510" y="1949" />
              <mxPoint x="2510" y="2080" />
              <mxPoint x="840" y="2080" />
              <mxPoint x="840" y="2215" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-189" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;容器（Container）采用 Pipeline-Valve 管道机制来处理请求，这是一种基于责任链模式的设计&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;在请求处理过程中，多个 Valve 会依次对请求进行处理，每个 Valve 负责特定的任务。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="910" y="1180" width="530" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-190" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;每个 Pipeline 都有一个特殊的 Valve，即 BaseValve。BaseValve 位于 Pipeline 的末端，不可删除，确保每个请求都经过它的处理。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;上层容器的 BaseValve 会调用下层容器的 Pipeline，形成一个嵌套的责任链，使得请求在不同层次的容器中依次得到处理。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="860" y="1310" width="740" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-191" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EnginePipeline&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="790" y="1290" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-192" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;HostPipeline&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="805" y="1575" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-193" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ContextPipeline&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="800" y="1850" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-194" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;WrapperPipeline&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="790" y="2120" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-196" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;4. 当 Connector 接收到一个请求时，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;它会将请求委派给最顶层的容器——Engine&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="537" y="1490" width="290" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-197" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.528;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.001;entryY=0.581;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-65" target="Ub1CV1uvOyHI6s0gvkGn-133">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="1530" as="sourcePoint" />
            <mxPoint x="1070" y="1480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-198" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.836;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-137" target="Ub1CV1uvOyHI6s0gvkGn-65">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="2100" as="sourcePoint" />
            <mxPoint x="1070" y="2050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-199" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.581;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-133" target="Ub1CV1uvOyHI6s0gvkGn-138">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="1670" as="sourcePoint" />
            <mxPoint x="1070" y="1620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-200" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;5. 请求首先进入 Engine 的 Pipeline。在这个管道中，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;b style=&quot;font-size: 14px; color: rgb(51, 51, 255); background-color: transparent;&quot;&gt;一系列 EngineValve 会依次对请求进行处理，例如进行全局性的日志记录、安全检查等。&lt;/b&gt;&lt;b style=&quot;font-size: 14px; color: rgb(51, 51, 255); background-color: transparent;&quot;&gt;最后，StandardEngineValve 会将请求转发给下一层容器——Host。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1005" y="1501" width="1350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-202" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;6. Host、Context、Wrapper 等容器都拥有自己的 Pipeline，它们会按照同样的方式处理请求。每个容器的 BaseValve（如 StandardHostValve、StandardContextValve）负责将请求传递给下一层容器。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1004" y="1784" width="1290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-204" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;7. 当请求到达 Wrapper 容器时，StandardWrapperValve 会创建一个 FilterChain。FilterChain 包含了与该请求匹配的所有 Filter 和 Servlet。这些 Filter 和 Servlet 会按照配置的顺序依次执行 doFilter 方法，最终调用 Servlet 的 service 方法来处理请求。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="917" y="2050" width="1620" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-206" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;7.&amp;nbsp; 请求处理完毕，响应结果会沿着原路返回，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;经过各个 Valve，最终由 Connector 发送回客户端。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="410" y="2180" width="350" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-207" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-2390" y="2630" width="1490" height="980" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-208" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-450" y="2610" width="1970" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-209" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-207" target="Ub1CV1uvOyHI6s0gvkGn-92">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-800" y="2480" as="sourcePoint" />
            <mxPoint x="-750" y="2430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-210" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-208" target="Ub1CV1uvOyHI6s0gvkGn-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-800" y="2200" as="sourcePoint" />
            <mxPoint x="-750" y="2150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-211" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Endpoint&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-400" y="2650" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-212" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Connector&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2330" y="2650" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-214" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;1. Connector组件的Acceptor监听客户端套接字连接并接收Socket。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;2. 将连接交给线程池Executor处理，开始执行请求响应任务。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3. Processor组件读取消息报文，解析请求行、请求体、请求头，封装成Request对象。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;4. Mapper组件根据请求行的URL值和请求头的Host值匹配由哪个Host容器、Context容器、Wrapper容器处理请求。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5. CoyoteAdaptor组件负责将Connector组件和Engine容器关联起来，把生成的Request对象和响应对象Response传递到Engine容器中，调用 Pipeline。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;6. Engine容器的管道开始处理，管道中包含若干个Valve、每个Valve负责部分处理逻辑。执行完Valve后会执行基础的 Valve--StandardEngineValve，负责调用Host容器的Pipeline。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;7. Host容器的管道开始处理，流程类似，最后执行 Context容器的Pipeline。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;8. Context容器的管道开始处理，流程类似，最后执行 Wrapper容器的Pipeline。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;9. Wrapper容器的管道开始处理，流程类似，最后执行 Wrapper容器对应的Servlet对象的 处理方法&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-573" y="-550" width="1320" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-215" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Tomcat处理请求流程&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-715" y="-617" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-216" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3110" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-217" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-40" y="2990" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-218" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-40" y="3220" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-219" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="260" y="2790" width="280" height="210" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-220" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="260" y="3070" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-221" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="260" y="3330" width="290" height="210" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-222" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="600" y="2970" width="360" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-223" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="840" y="3410" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-224" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="1170" y="3025" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-225" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;LimitLatch&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-285" y="3130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-226" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Acceptor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="3010" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-227" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Acceptor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5" y="3240" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-228" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Poller&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="345" y="2800" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-229" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Poller&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="350" y="3075" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-230" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Poller&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="355" y="3340" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-232" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Executor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="620" y="3000" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-233" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Http11Processor&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1200" y="3050" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-234" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;NioSocketWrapper&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="840" y="3440" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-236" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;gradientColor=#ffd966;" vertex="1" parent="1">
          <mxGeometry x="610" y="3050" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-238" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="620" y="3070" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-239" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="630" y="3100" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-240" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SocketProcessor&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="645" y="3115" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-241" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;EndPoint是通信端点，即通信监听的接口，是具体的 Socket 接收和发送处理器&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;EndPoint是一个接口，对应的抽象实现类是 AbstractEndpoint，而 AbstractEndpoint的具体子类，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;比如在 NioEndpoint和 Nio2Endpoint中，有两个重要的子组件：Acceptor和 SocketProcessor。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-395" y="2690" width="560" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-242" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2290" y="2900" width="730" height="440" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-243" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1460" y="2915" width="430" height="410" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-244" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-2260" y="3000" width="290" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-245" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1890" y="3000" width="300" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-246" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Endpoint&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2170" y="3130" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-247" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Processor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1780" y="3140" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-248" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Adapter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1315" y="3140" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-249" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;连接器的三个核心组件 Endpoint、Processor和 Adapter来分别做三件事情，其中 Endpoint和 Processor放在一起抽象成了 ProtocolHandler组件&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2340" y="2700" width="810" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-250" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;连接器的功能需求就是：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 监听网络端口。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 接受网络连接请求。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 读取请求网络字节流。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 根据具体应用层协议（HTTP/AJP）解析字节流，生成统一的 Tomcat Request 对象。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 将 Tomcat Request 对象转成标准的 ServletRequest。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 调用 Servlet容器，得到 ServletResponse。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 将 ServletResponse转成 Tomcat Response 对象。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 将 Tomcat Response 转成网络字节流。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 将响应字节流写回给浏览器。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2340" y="2740" width="490" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-251" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;连接器需要完成 3 个高内聚的功能：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 网络通信。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● 应用层协议解析。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;● Tomcat Request/Response 与 ServletRequest/ServletResponse 的转化。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1810" y="2770" width="450" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-252" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;因此 Tomcat 的设计者设计了 3 个组件来实现这 3 个功能，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;分别是 EndPoint、Processor 和 Adapter。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;EndPoint 负责提供字节流给 Processor，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Processor负责提供 Tomcat Request 对象给 Adapter，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Adapter负责提供 ServletRequest对象给容器。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1340" y="2760" width="340" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-253" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-242">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2490" y="3010" as="sourcePoint" />
            <mxPoint x="-1680" y="3080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-255" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;request&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2490" y="2970" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-256" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;response&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2480" y="3190" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-257" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-242">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1730" y="3300" as="sourcePoint" />
            <mxPoint x="-2490" y="3230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-259" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;TCP/IP&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2150" y="2950" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-260" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ProtocolHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2270" y="2908" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-261" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-244" target="Ub1CV1uvOyHI6s0gvkGn-245">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1730" y="3130" as="sourcePoint" />
            <mxPoint x="-1680" y="3080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-263" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;socket&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1960" y="3095" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-264" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;HTTP/AJP&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1810" y="2960" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-265" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" target="Ub1CV1uvOyHI6s0gvkGn-243">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1590" y="3120" as="sourcePoint" />
            <mxPoint x="-1680" y="3070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-266" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;tomcatRequest&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1570" y="3070" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-267" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;ServletRequest&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1023" y="3075" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-268" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-243">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1730" y="3120" as="sourcePoint" />
            <mxPoint x="-810" y="3120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-269" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-810" y="3040" width="140" height="250" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-270" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Container&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-795" y="3125" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-271" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;LimitLatch 是连接控制器，它负责控制最大连接数，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;NIO 模式下默认是 10000，达到这个阈值后，连接请求被拒绝。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-420" y="3200" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-272" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Acceptor 用于监听 Socket 连接请求。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;循环里调用 accept方法来接收新连接，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;一旦有新的连接请求到来，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;accept方法返回一个 Channel 对象，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;接着把 Channel对象交给 Poller 去处理。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-20" y="3130" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-273" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;SocketProcessor用于处理 Acceptor 接收到的 Socket请求，它实现 Runnable接口，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在 Run方法里调用应用层协议处理组件 Processor 进行处理。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;为了提高处理能力，SocketProcessor被提交到线程池来执行。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="625" y="3180" width="480" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-274" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Poller 的本质是一个 Selector，Poller在内部维护一个 Channel数组&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;循环里不断检测 Channel的数据就绪状态，一旦有 Channel可读，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;就生成一个 SocketProcessor任务对象扔给 Executor去处理。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="220" y="3000" width="390" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-275" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;SocketProcessor 实现了 Runnable 接口，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其中 run 方法中的 getHandler().process(socketWrapper, SocketEvent.CONNECT_FAIL);&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;代码则是获取 handler 并执行处理 socketWrapper，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;最后通过 socket 获取合适应用层协议处理器，也就是调用 Http11Processor 组件来处理请求。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="625" y="3240" width="530" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-276" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Http11Processor 读取 Channel 的数据来生成 ServletRequest 对象，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Http11Processor 并不是直接读取 Channel 的。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Http11Processor 只调用 SocketWrapper 的方法去读写数据。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1105" y="3135" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-277" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Executor就是线程池，负责运行 SocketProcessor任务类，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;SocketProcessor 的 run方法会调用 Http11Processor 来读取和解析请求数据。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="650" y="2930" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-278" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="275" y="3400" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-279" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="285" y="3425" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-280" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="295" y="3440" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-281" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="270" y="3125" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-282" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="280" y="3145" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-283" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="290" y="3165" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-284" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="270" y="2850" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-285" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="280" y="2870" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-286" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="290" y="2888" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-289" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="480" y="3400" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-290" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="514.51" y="3401.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-293" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="470" y="2862" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-294" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="504.51" y="2863.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-295" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="473.01" y="3146" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-296" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="507.52" y="3147.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-297" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="78.62" y="3290" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-298" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="113.13" y="3291.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-299" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="88.01" y="3036" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-300" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="122.52" y="3037.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-301" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.partConcEllipse;startAngle=0.25;endAngle=0.1;arcWidth=0.5;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="880" y="3072" width="52.75" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-302" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;flipH=1;notch=0;rotation=-130;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="914.51" y="3073.69" width="11.25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-303" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-216" target="Ub1CV1uvOyHI6s0gvkGn-217">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="3350" as="sourcePoint" />
            <mxPoint x="-30" y="3300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-304" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-216" target="Ub1CV1uvOyHI6s0gvkGn-218">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="3350" as="sourcePoint" />
            <mxPoint x="-30" y="3300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-305" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-217" target="Ub1CV1uvOyHI6s0gvkGn-219">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="3350" as="sourcePoint" />
            <mxPoint x="-30" y="3300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-306" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-218" target="Ub1CV1uvOyHI6s0gvkGn-221">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="3350" as="sourcePoint" />
            <mxPoint x="-30" y="3300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-307" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Channel&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="315" y="2898" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-308" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Channel&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="320" y="3185" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-309" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Channel&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="325" y="3458" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-310" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-220" target="Ub1CV1uvOyHI6s0gvkGn-222">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="3250" as="sourcePoint" />
            <mxPoint x="270" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-311" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-221" target="Ub1CV1uvOyHI6s0gvkGn-222">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="3250" as="sourcePoint" />
            <mxPoint x="270" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-312" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-219" target="Ub1CV1uvOyHI6s0gvkGn-222">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="3250" as="sourcePoint" />
            <mxPoint x="270" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-314" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.36;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-222" target="Ub1CV1uvOyHI6s0gvkGn-224">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="3250" as="sourcePoint" />
            <mxPoint x="270" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-315" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-224" target="Ub1CV1uvOyHI6s0gvkGn-223">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="3250" as="sourcePoint" />
            <mxPoint x="270" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-317" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;有新的连接请求到来，accept方法返回一个 Channel 对象，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;接着把 Channel对象交给 Poller 去处理&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-65" y="2938" width="400" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-319" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;一旦有 Channel可读，就生成一个&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;SocketProcessor任务对象扔给 Executor去处理。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="537" y="2840" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-320" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-141.87" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-321" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-6.869999999999997" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-322" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-286.87" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-326" value="" style="endArrow=none;dashed=1;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1660" y="3680" as="sourcePoint" />
            <mxPoint x="-611.78" y="3680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-327" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-261.87" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-328" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-116.87" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-329" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="13.130000000000003" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-330" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="635" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-331" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="770" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-332" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="490" y="3720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-333" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="515" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-334" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="660" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-335" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据包&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="790" y="3735" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-336" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;用户态&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-590" y="3600" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-337" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;内核态&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-590" y="3730" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-338" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;接收队列&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-126.87" y="3820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-339" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;发送队列&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="645" y="3830" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-340" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-322" target="Ub1CV1uvOyHI6s0gvkGn-216">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="3720" as="sourcePoint" />
            <mxPoint x="150" y="3670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-341" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;连接请求&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3450" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-342" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-223" target="Ub1CV1uvOyHI6s0gvkGn-331">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="930" y="3340" as="sourcePoint" />
            <mxPoint x="380" y="3480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-343" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-223" target="Ub1CV1uvOyHI6s0gvkGn-321">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1050" y="3720" as="sourcePoint" />
            <mxPoint x="-50" y="3650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-344" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;读写&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1140" y="3230" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-345" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;写&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="920" y="3530" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-346" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;读&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="730" y="3480" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-352" value="LimitLatch限制连接数" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-640" y="3128" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-353" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;LimitLatch限制连接数&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-365" y="3250" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-354" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Acceptor监听连接请求&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-216.87" y="3055" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-355" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Poller检测Channel的I/O事件，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;可读时，创建SocketProcessor任务类扔给线程池处理&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="550" y="2880" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-356" value="&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;线程池在执行SocketProcessor时会调用Http11Processor去处理请求&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255); font-size: 14px;&quot;&gt;&lt;b style=&quot;&quot;&gt;Http11Processor会通过NioSocketWrapper读写数据&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="880" y="2990" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-360" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="2630" y="2170" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-361" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;FilterChain&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2670" y="2190" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-362" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-137" target="Ub1CV1uvOyHI6s0gvkGn-360">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2380" y="2020" as="sourcePoint" />
            <mxPoint x="2430" y="1970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-365" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;8. 执行完过滤链FilterChain后&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;执行对应Servlet实例的处理方法&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2550" y="2255" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-366" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="-36.87" y="1630" width="176.87" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-368" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="-50" y="1835" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-369" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Mapper&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="1650" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-370" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;CoyoteAdaptor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-25.000000000000053" y="1845" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-371" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Mapper组件根据请求行的URL值和请求头的Host值&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;匹配由哪个Host容器、Context容器、Wrapper容器处理请求。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-75" y="1700" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-372" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;CoyoteAdaptor组件负责将Connector组件和Engine容器关联起来，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;把生成的Request对象和响应对象Response传递到Engine容器中，调用 Pipeline。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-70" y="1910" width="470" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-373" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-95" target="Ub1CV1uvOyHI6s0gvkGn-368">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-370" y="2190" as="sourcePoint" />
            <mxPoint x="-320" y="2140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-374" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-368" target="Ub1CV1uvOyHI6s0gvkGn-366">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-370" y="2190" as="sourcePoint" />
            <mxPoint x="470" y="1620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-375" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-368" target="Ub1CV1uvOyHI6s0gvkGn-95">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="1890" as="sourcePoint" />
            <mxPoint x="190" y="1840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-376" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="2870" y="2180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-377" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Servlet&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2885" y="2195" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-378" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-360" target="Ub1CV1uvOyHI6s0gvkGn-376">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2150" y="2360" as="sourcePoint" />
            <mxPoint x="2200" y="2310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-379" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;● LimitLatch 是连接控制器，它负责控制最大连接数，NIO 模式下默认是 10000(tomcat9中8192)，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当连接数到达最大时阻塞线程，直到后续组件处理完一个连接后将连接数减 1。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;注意到达最大连接数后操作系统底层还是会接收客户端连接，但用户层已经不再接收。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;● Acceptor 跑在一个单独的线程里，它在一个死循环里调用 accept 方法来接收新连接，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;一旦有新的连接请求到来，accept 方法返回一个 Channel 对象，接着把 Channel 对象交给 Poller 去处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServerSocketChannel 通过 accept() 接受新的连接，accept() 方法返回获得 SocketChannel 对象，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;然后将 SocketChannel 对象封装在一个 PollerEvent 对象中，并将 PollerEvent 对象压入 Poller 的 SynchronizedQueue 里，这是个典型的生产者 - 消费者模式，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Acceptor 与 Poller 线程之间通过 SynchronizedQueue 通信。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;● Poller 的本质是一个 Selector，也跑在单独线程里。Poller 在内部维护一个 Channel 数组，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;它在一个死循环里不断检测 Channel 的数据就绪状态，一旦有 Channel 可读，就生成一个 SocketProcessor 任务对象扔给 Executor 去处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Executor 就是线程池，负责运行 SocketProcessor 任务类，SocketProcessor 的 run 方法会调用 Http11Processor 来读取和解析请求数据。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;●&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Http11Processor 是应用层协议的封装，它会调用容器获得响应，再把响应通过 Channel 写出。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-450" y="3890" width="1180" height="240" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-380" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-223" target="Ub1CV1uvOyHI6s0gvkGn-222">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="3400" as="sourcePoint" />
            <mxPoint x="370" y="3350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-381" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;调用回调函数&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="765" y="3325" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-382" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;1. 用户在浏览器中输入该网址，请求被发送到本机端口8080，被在那里监听的Coyote HTTP/1.1 Connector获得;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;2. Connector把该请求交给它所在的Service的Engine (Container) 来处理，并等待Engine的回应;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;3. Engine获得请求localhost/test/index.jsp，匹配所有的虚拟主机Host;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;4. Engine匹配到名为localhost的Host(即使匹配不到也把请求交给该Host处理，因为该Host被定义为该Engine的默认主机)，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;名为localhostHost获得请求/test/index.jsp，匹配它所拥有的所有Context。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;Host匹配到路径为/test的Context(如果匹配不到就把该请求交给路径名为“”的Context去处理);&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;5. path=&quot;/test&quot;的Context获得请求/ index. jsp，在它的mapping table中寻找出对应的Servlet。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;Context 匹配到URLPattern为* .jsp的Servlet，对应于JspServlet类;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;6. 构造HttpServletRequest对象和HttpServletResponse对象，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;作为参数调用JspServlet的doGet()或doPost(),执行业务逻辑、数据存储等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;7. Context把执行完之后的HttpServletResponse对象返回给Host; .&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;8. Host把HttpServletResponse对象返回给Engine;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;9. Engine把HttpServletResponse对象返回Connector;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;10. Connector把HttpServletResponse对象返回给客户Browser&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-2060" y="1265" width="910" height="280" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-444" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-455" y="-1760" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-445" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;启动类加载器（Bootstrap ClassLoader）&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-430" y="-1750" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-446" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-455" y="-1620" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-447" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;扩展类加载器（Extension ClassLoader）&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-435" y="-1610" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-448" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-455" y="-1480" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-449" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;应用程序类加载器（Application ClassLoader）&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-460" y="-1470" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-450" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载位于 JAVA_HOME/lib 目录下的，或者被-Xbootclasspath 参数指定的路径中的，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;并且被虚拟机识别的类库（仅根据文件名识别，例如 rt.jar，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其他名字的类库即使放在 lib 目录下也不会被重载）。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-175" y="-1700" width="480" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-451" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载位于 JAVA_HOME/lib/ext 目录下的，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;或由 java.ext.dirs 系统变量指定的路径中的所有类库。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;由 sun.misc.Launcher$ExtClassLoader 实现，&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;开发者可以直接使用扩展类加载器。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-175" y="-1565" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-452" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;由 sun.misc.Launcher$AppClassLoader 实现，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;由于它是 ClassLoader 中的 getSystemClassLoader 方法的返回值，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;因此也被称为系统类加载器。它负责加载用户类路径（ClassPath）上所指定的类库。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;开发者可以直接使用扩展类加载器。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-190" y="-1400" width="480" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-453" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-455" y="-1310" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-454" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Common 类加载器&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-335" y="-1300" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-455" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-770" y="-1170" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-456" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Catalina 类加载器&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-645" y="-1160" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-457" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-120" y="-1150" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-458" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Shared 类加载器&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="-1140" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-459" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-120" y="-1000" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-460" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;WebApp 类加载器&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5" y="-990" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-461" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-120" y="-850" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-462" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Jsp 类加载器&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="25" y="-840" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-463" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载 Tomcat 和 Web 应用共同复用的类，例如日志框架、通用工具库等&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-215" y="-1242" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-464" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载 Tomcat 自身的类，这些类在 Web 应用中不可见，确保了 Tomcat 核心功能的独立性。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-740" y="-1090" width="510" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-465" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载所有 Web 应用共同复用的类，例如数据库连接池、缓存框架等，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这些类在 Tomcat 中不可见，避免了应用之间的冲突。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="60" y="-1095" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-466" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;为每个 Web 应用单独创建，负责加载该应用的类，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这些类在 Tomcat 和其他应用中不可见，确保了应用之间的隔离。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="78.13" y="-940" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-467" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;为每个 JSP 页面创建唯一的类加载器，方便实现 JSP 页面的热插拔，提高开发效率。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="15" y="-780" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-468" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-444" target="Ub1CV1uvOyHI6s0gvkGn-446">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-310" y="-1410" as="sourcePoint" />
            <mxPoint x="-260" y="-1460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-469" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-446" target="Ub1CV1uvOyHI6s0gvkGn-448">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-1500" as="sourcePoint" />
            <mxPoint x="-265" y="-1550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-470" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-448" target="Ub1CV1uvOyHI6s0gvkGn-453">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-1130" as="sourcePoint" />
            <mxPoint x="-265" y="-1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-471" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-453" target="Ub1CV1uvOyHI6s0gvkGn-455">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-950" as="sourcePoint" />
            <mxPoint x="-265" y="-1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-472" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.53;entryY=-0.047;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-453" target="Ub1CV1uvOyHI6s0gvkGn-457">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-950" as="sourcePoint" />
            <mxPoint x="-265" y="-1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-473" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-457" target="Ub1CV1uvOyHI6s0gvkGn-459">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-950" as="sourcePoint" />
            <mxPoint x="-265" y="-1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-474" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-459" target="Ub1CV1uvOyHI6s0gvkGn-461">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-315" y="-950" as="sourcePoint" />
            <mxPoint x="-265" y="-1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-475" value="&lt;div&gt;&lt;b&gt;1. 先在本地 Cache 查找该类是否已经加载过，也就是说 Tomcat 的类加载器是否已经加载过这个类。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;2. 如果 Tomcat 类加载器没有加载过这个类，再看看系统类加载器是否加载过。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;3. 如果都没有，就让ExtClassLoader去加载，这一步比较关键，目的 防止 Web 应用自己的类覆盖 JRE 的核心类。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;因为 Tomcat 需要打破双亲委托机制，假如 Web 应用里自定义了一个叫 Object 的类，如果先加载这个 Object 类，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;就会覆盖 JRE 里面的那个 Object 类，这就是为什么 Tomcat 的类加载器会优先尝试用 ExtClassLoader去加载，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;因为 ExtClassLoader会委托给 BootstrapClassLoader去加载，BootstrapClassLoader发现自己已经加载了 Object 类，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;直接返回给 Tomcat 的类加载器，这样 Tomcat 的类加载器就不会去加载 Web 应用下的 Object 类了，也就避免了覆盖 JRE 核心类的问题。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;4. 如果 ExtClassLoader加载器加载失败，也就是说 JRE核心类中没有这类，那么就在本地 Web 应用目录下查找并加载。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;5. 如果本地目录下没有这个类，说明不是 Web 应用自己定义的类，那么由系统类加载器去加载。这里请你注意，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Web 应用是通过Class.forName调用交给系统类加载器的，因为Class.forName的默认加载器就是系统类加载器。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;6. 如果上述加载过程全部失败，抛出 ClassNotFound异常。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-830" y="-1020" width="770" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-476" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Tomcat 启动流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-723" y="-2090" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-477" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="-710" y="-1915" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-478" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-360" y="-1915" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-479" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="-35" y="-1915" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-480" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="335" y="-1915" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-481" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
          <mxGeometry x="695" y="-1915" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-482" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Startup.sh&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-660" y="-1905" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-483" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Boostrap&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-305" y="-1895" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-484" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;catalina&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="35" y="-1905" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-485" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Server&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="410" y="-1905" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-486" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Service&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="755" y="-1905" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-487" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="1050" y="-2000" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-488" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;Connetor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1100" y="-1990" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-489" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1070" y="-1830" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-490" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;Engine&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1130" y="-1820" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-491" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;主要任务就是初始化 Tomcat 定义的类加载器，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;同时创建 Catalina 对象。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-367" y="-1845" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-492" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Catalina 的主要任务就是创建 Server，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;解析 server.xml 把里面配置的各个组件创建出来，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;并调用每个组件的 init和 start方法，将整个 Tomcat 启动&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-20" y="-1855" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-493" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Server 组件的职责就是管理 Service 组件，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;负责调用持有的 Service 的 start 方法。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="350" y="-1845" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-494" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;管理 Connector 连接器 和 顶层容器 Engine，会分别调用他们的 start 方法。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;至此，整个 Tomcat 就算启动完成了。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="630" y="-1835" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-495" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-477" target="Ub1CV1uvOyHI6s0gvkGn-478">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="190" y="-1465" as="sourcePoint" />
            <mxPoint x="240" y="-1515" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-496" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-478" target="Ub1CV1uvOyHI6s0gvkGn-444">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-497" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-478" target="Ub1CV1uvOyHI6s0gvkGn-479">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-498" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-479" target="Ub1CV1uvOyHI6s0gvkGn-480">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-499" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-480" target="Ub1CV1uvOyHI6s0gvkGn-481">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-500" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-481" target="Ub1CV1uvOyHI6s0gvkGn-487">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-501" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="Ub1CV1uvOyHI6s0gvkGn-481" target="Ub1CV1uvOyHI6s0gvkGn-489">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="-1470" as="sourcePoint" />
            <mxPoint x="270" y="-1520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ub1CV1uvOyHI6s0gvkGn-502" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Tomcat 的自定义类加载器 WebAppClassLoader打破了双亲委托机制，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;它首先自己尝试去加载某个类，如果找不到则通过 ExtClassLoader 加载 JRE 核心类防止黑客攻击，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;无法加载再代理给 AppClassLoader 加载器，其目的是优先加载 Web 应用自己定义的类。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="305" y="-1020" width="560" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Ty3kaYn2vb88mmvuE6XE" name="ThreadPool">
    <mxGraphModel dx="3422" dy="8347" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sP_teEGo85cFPhSgKsu7-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;ScheduledThreadPoolExecutor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="100" y="-4440" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-2" value="&lt;div&gt;&lt;b&gt;ScheduledThreadPoolExecutor继承自 ThreadPoolExecutor:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ScheduledThreadPoolExecutor 内部构造了两个内部类 ScheduledFutureTask 和 DelayedWorkQueue:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ScheduledFutureTask: 继承了FutureTask，说明是一个异步运算任务；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;最上层分别实现了Runnable、Future、Delayed接口，说明它是一个可以延迟执行的异步运算任务。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;DelayedWorkQueue: 这是 ScheduledThreadPoolExecutor 为存储周期或延迟任务专门定义的一个延迟队列，继承了 AbstractQueue，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;为了契合 ThreadPoolExecutor 也实现了 BlockingQueue 接口。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;它内部只允许存储 RunnableScheduledFuture 类型的任务。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;与 DelayQueue 的不同之处就是它只允许存放 RunnableScheduledFuture 对象，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;并且自己实现了二叉堆(DelayQueue 是利用了 PriorityQueue 的二叉堆结构)。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="110" y="-4390" width="750" height="190" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="310" y="-3880" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="217" y="-3760" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="110" y="-3880" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1190" y="-3640" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DelayedWorkQueue&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1270" y="-3535" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="855" y="-3640" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-13" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="812.5" y="-3810" width="184" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-14" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1012.5" y="-3955" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="725" y="-3955" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-16" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="910" y="-4055" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="910" y="-4160" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-18" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="500" y="-3505" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-19" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="510" y="-3630" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-20" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="257" y="-3635" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="460" y="-3750" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-22" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="550" y="-3880" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Executor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="945" y="-4150" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-25" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ExecutorService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="910" y="-4045" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-26" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledFuture&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="460" y="-3740" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-27" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;RunnableFuture&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="217" y="-3750" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-28" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Delayed&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="585" y="-3870" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Future&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="350" y="-3870" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-30" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Runnable&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="-3870" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ThreadPoolExecutor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="822.5" y="-3800" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-32" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledExecutorService&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1002.5" y="-3945" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-33" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractExecutorService&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="720" y="-3945" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-34" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledThreadPoolExecutor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="855" y="-3630" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-35" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledFutureTask&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="500" y="-3495" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-36" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RunnableScheduledFuture&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="500" y="-3620" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-37" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;FutureTask&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="297" y="-3625" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-38" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractQueue&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1190" y="-3630" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BlockingQueue&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1410" y="-3640" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-40" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-16" target="sP_teEGo85cFPhSgKsu7-17" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="-3770" as="sourcePoint" />
            <mxPoint x="850" y="-3820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-41" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-15" target="sP_teEGo85cFPhSgKsu7-16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="-3770" as="sourcePoint" />
            <mxPoint x="850" y="-3820" as="targetPoint" />
            <Array as="points">
              <mxPoint x="830" y="-3980" />
              <mxPoint x="950" y="-3980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-42" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-14" target="sP_teEGo85cFPhSgKsu7-16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3860" as="sourcePoint" />
            <mxPoint x="920" y="-3910" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1123" y="-3980" />
              <mxPoint x="1030" y="-3980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-43" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-13" target="sP_teEGo85cFPhSgKsu7-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3740" as="sourcePoint" />
            <mxPoint x="920" y="-3790" as="targetPoint" />
            <Array as="points">
              <mxPoint x="905" y="-3860" />
              <mxPoint x="830" y="-3860" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.349;exitY=-0.027;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-12" target="sP_teEGo85cFPhSgKsu7-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3740" as="sourcePoint" />
            <mxPoint x="920" y="-3790" as="targetPoint" />
            <Array as="points">
              <mxPoint x="950" y="-3730" />
              <mxPoint x="905" y="-3730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.652;exitY=-0.027;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-12" target="sP_teEGo85cFPhSgKsu7-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3740" as="sourcePoint" />
            <mxPoint x="920" y="-3790" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1031" y="-3690" />
              <mxPoint x="1123" y="-3690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-21" target="sP_teEGo85cFPhSgKsu7-22" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3620" as="sourcePoint" />
            <mxPoint x="920" y="-3670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="540" y="-3800" />
              <mxPoint x="630" y="-3800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-47" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-21" target="sP_teEGo85cFPhSgKsu7-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3620" as="sourcePoint" />
            <mxPoint x="920" y="-3670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="500" y="-3810" />
              <mxPoint x="430" y="-3810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-48" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-19" target="sP_teEGo85cFPhSgKsu7-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3620" as="sourcePoint" />
            <mxPoint x="920" y="-3670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="615" y="-3670" />
              <mxPoint x="540" y="-3670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-18" target="sP_teEGo85cFPhSgKsu7-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="-3500" as="sourcePoint" />
            <mxPoint x="920" y="-3550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="643" y="-3530" />
              <mxPoint x="990" y="-3530" />
              <mxPoint x="990" y="-3560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-50" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.335;exitY=-0.026;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-18" target="sP_teEGo85cFPhSgKsu7-19" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="-3670" as="sourcePoint" />
            <mxPoint x="840" y="-3720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-51" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-4" target="sP_teEGo85cFPhSgKsu7-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="-3670" as="sourcePoint" />
            <mxPoint x="840" y="-3720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="297" y="-3800" />
              <mxPoint x="190" y="-3800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-52" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-20" target="sP_teEGo85cFPhSgKsu7-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="-3670" as="sourcePoint" />
            <mxPoint x="840" y="-3720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-4" target="sP_teEGo85cFPhSgKsu7-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="-3670" as="sourcePoint" />
            <mxPoint x="840" y="-3720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="337" y="-3800" />
              <mxPoint x="390" y="-3800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-54" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-18" target="sP_teEGo85cFPhSgKsu7-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="-3530" as="sourcePoint" />
            <mxPoint x="840" y="-3580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="548" y="-3530" />
              <mxPoint x="337" y="-3530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-55" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-11" target="sP_teEGo85cFPhSgKsu7-39" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="990" y="-3675" as="sourcePoint" />
            <mxPoint x="1040" y="-3725" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1350" y="-3565" />
              <mxPoint x="1490" y="-3565" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-11" target="sP_teEGo85cFPhSgKsu7-10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1080" y="-3670" as="sourcePoint" />
            <mxPoint x="1130" y="-3720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1310" y="-3570" />
              <mxPoint x="1270" y="-3570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.142;exitY=0.003;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.635;entryY=1.006;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="sP_teEGo85cFPhSgKsu7-11" target="sP_teEGo85cFPhSgKsu7-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1080" y="-3670" as="sourcePoint" />
            <mxPoint x="1130" y="-3720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1290" y="-3560" />
              <mxPoint x="1026" y="-3560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-58" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;ScheduledFutureTask: 继承了FutureTask，说明是一个异步运算任务；最上层分别实现了Runnable、Future、Delayed接口，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;说明它是一个可以延迟执行的异步运算任务。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="115" y="-3445" width="710" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-59" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;DelayedWorkQueue: 这是 ScheduledThreadPoolExecutor 为存储周期或延迟任务专门定义的一个延迟队列，继承了 AbstractQueue，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;为了契合 ThreadPoolExecutor 也实现了 BlockingQueue 接口。它内部只允许存储 RunnableScheduledFuture 类型的任务。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1140" y="-3465" width="750" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-60" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;ScheduledThreadPoolExecutor 内部构造了两个内部类 ScheduledFutureTask 和 DelayedWorkQueue&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="670" y="-3525" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sP_teEGo85cFPhSgKsu7-61" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;schedule 方法主要逻辑:&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;text-align: center; font-size: 14px;&quot;&gt;&lt;b&gt;&amp;nbsp;scheduleAtFixedRate和scheduleWithFixedDelay方法的逻辑与schedule类似&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;Schedule&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&amp;lt;V&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;ScheduledFuture&amp;lt;V&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;schedule&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Callable&amp;lt;V&amp;gt;&amp;nbsp;callable,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;delay,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TimeUnit&amp;nbsp;unit)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(callable&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;||&amp;nbsp;unit&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableScheduledFuture&amp;lt;V&amp;gt;&amp;nbsp;t&amp;nbsp;=&amp;nbsp;decorateTask(callable,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ScheduledFutureTask&amp;lt;V&amp;gt;(callable,&amp;nbsp;triggerTime(delay,&amp;nbsp;unit)));&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//构造ScheduledFutureTask任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;delayedExecute(t);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//任务执行主方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;t;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;schedule主要用于执行一次性(延迟)任务。函数执行逻辑分两步:&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;1. decorateTask方法&lt;/b&gt;&lt;/span&gt;&lt;b&gt;封装 Callable/Runnable&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2. delayedExecute方法&lt;/b&gt;&lt;/span&gt;&lt;b&gt;执行任务&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;封装 Callable/Runnable&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;protected&lt;/span&gt;&amp;nbsp;&amp;lt;V&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;RunnableScheduledFuture&amp;lt;V&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;decorateTask&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Runnable&amp;nbsp;runnable,&amp;nbsp;RunnableScheduledFuture&amp;lt;V&amp;gt;&amp;nbsp;task)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;task;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;执行任务&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;delayedExecute&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(RunnableScheduledFuture&amp;lt;?&amp;gt;&amp;nbsp;task)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(isShutdown())&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reject(task);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//池已关闭，执行拒绝策略&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;.getQueue().add(task);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//任务入队&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(isShutdown()&amp;nbsp;&amp;amp;&amp;amp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!canRunInCurrentRunState(task.isPeriodic())&amp;nbsp;&amp;amp;&amp;amp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//判断run-after-shutdown参数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;remove(task))&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//移除任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;task.cancel(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ensurePrestart();&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//启动一个新的线程等待任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;delayedExecute是执行任务的主方法，方法执行逻辑如下:&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;如果池已关闭(ctl &amp;gt;= SHUTDOWN)，执行任务拒绝策略；&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;池正在运行，首先把任务入队排序；然后重新检查池的关闭状态，执行如下逻辑:&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;A: 如果池正在运行，或者 run-after-shutdown 参数值为true，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;则调用父类方法ensurePrestart启动一个新的线程等待执行任务。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;ensurePrestart源码如下:&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;ensurePrestart&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;wc&amp;nbsp;=&amp;nbsp;workerCountOf(ctl.get());&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(wc&amp;nbsp;&amp;lt;&amp;nbsp;corePoolSize)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;addWorker(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(wc&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;addWorker(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;B: 如果池已经关闭，并且 run-after-shutdown 参数值为false，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;则执行父类(ThreadPoolExecutor)方法remove移除队列中的指定任务，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;成功移除后调用ScheduledFutureTask.cancel取消任务&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="138" y="-2250" width="720" height="1590" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Thread&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="173" y="-6410" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;NEW&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="772" y="-5510" width="201" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="740" y="-5310" width="263" height="310" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;WAITING&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="303" y="-5235" width="173" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-5" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;TIMED-WAITING&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="1263" y="-5250" width="173" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TERMINATED&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="536" y="-4760" width="173" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-7" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BLOCKED&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1010" y="-4760" width="207" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-8" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" parent="1" vertex="1">
          <mxGeometry x="766.5" y="-5240" width="196.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-9" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Ready&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="766.5" y="-5120" width="193" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Runnable&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="758" y="-5300" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-11" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Running&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="822" y="-5220" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-12" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-2" target="IxXiFD5fIp3fHgtyJx47-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5220" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-13" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.339;entryY=0.039;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.333;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-8" target="IxXiFD5fIp3fHgtyJx47-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="833" y="-5170" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-14" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.65;exitY=0.017;exitDx=0;exitDy=0;entryX=0.645;entryY=1.039;entryDx=0;entryDy=0;exitPerimeter=0;entryPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-9" target="IxXiFD5fIp3fHgtyJx47-8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5220" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.01;exitY=0.294;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-3" target="IxXiFD5fIp3fHgtyJx47-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5220" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-16" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.384;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-4" target="IxXiFD5fIp3fHgtyJx47-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5220" as="sourcePoint" />
            <mxPoint x="733" y="-5190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-18" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.086;exitY=0.995;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-3" target="IxXiFD5fIp3fHgtyJx47-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="673" y="-5010" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-19" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-7" target="IxXiFD5fIp3fHgtyJx47-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5050" as="sourcePoint" />
            <mxPoint x="963" y="-5100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-20" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.918;exitY=0.982;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-3" target="IxXiFD5fIp3fHgtyJx47-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5050" as="sourcePoint" />
            <mxPoint x="963" y="-5100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-21" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-3" target="IxXiFD5fIp3fHgtyJx47-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1003" y="-5220" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1.004;entryY=0.349;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="IxXiFD5fIp3fHgtyJx47-5" target="IxXiFD5fIp3fHgtyJx47-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="913" y="-5220" as="sourcePoint" />
            <mxPoint x="963" y="-5270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-30" value="&lt;b&gt;&lt;font&gt;已超时&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;等待获取锁&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;等待进入synchronized临界区&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1063" y="-4918" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-32" value="&lt;b&gt;&lt;font&gt;操作系统调用执行 run()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="868" y="-5160" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-33" value="&lt;b&gt;&lt;font&gt;获取到锁，进入&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;synchronized&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="888" y="-4898" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-35" value="&lt;b&gt;执行完成&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="623" y="-4898" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-36" value="&lt;b&gt;&lt;font&gt;操作系统调用执行 yeild()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="723" y="-5160" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-39" value="&lt;b&gt;&lt;font&gt;Thread.sleep(long)&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Thread.sleep(long,int)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Object.await(long)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Object.wait(long,int)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Thread.join(long)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Thread.join(long,int)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;LockSupport.parkNaos()&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;LockSupport.parkUntil()&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1063" y="-5465" width="160" height="230" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-40" value="&lt;b&gt;&lt;font&gt;Object.notify()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Object.notifyAll()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Thread.interrupted()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;LockSupport.unpark(Thread)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1063" y="-5190" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-41" value="&lt;b&gt;&lt;font&gt;Thread.start()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="888" y="-5390" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-42" value="&lt;b&gt;&lt;font&gt;Object.notify()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Object.notifyAll()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Thread.interrupted()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;LockSupport.unpark(Thread)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="523.5" y="-5170" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-43" value="&lt;b&gt;&lt;font&gt;Thread.sleep()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;Object.wait()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Thread.join()&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;LockSupport.park()&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="549.5" y="-5380" width="130" height="170" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-44" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;NEW：初始状态，线程被构建，但是还没有调用start()方法。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="828" y="-5552" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-45" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;RUNNABLE：可运行状态，可运行状态可以包括：&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;运行中状态和就绪状态。也就是 可能正在运行&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;，也可能正在等待 CPU 时间片。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="687" y="-5370" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-47" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;等待获取一个排它锁，如果其线程释放了锁就会结束此状态。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1008" y="-4812" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-48" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;等待其它线程显式地唤醒，否则不会被分配 CPU 时间片。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="249.5" y="-5170" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-49" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;无需等待其它线程显式地唤醒，在一定时间之后会被系统自动唤醒。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1250" y="-5180" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-50" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;调用 Thread.sleep() 方法使线程进入限期等待状态时，常常用“使一个线程睡眠”进行描述。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;调用 Object.wait() 方法使线程进入限期等待或者无限期等待时，常常用“挂起一个线程”进行描述。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;睡眠和挂起是用来描述行为，而阻塞和等待用来描述状态。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;阻塞和等待的区别在于，阻塞是被动的，它是在等待获取一个排它锁。而等待是主动的，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;通过调用 Thread.sleep() 和 Object.wait() 等方法进入。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1263" y="-5150" width="550" height="130" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-51" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;可以是线程结束任务之后自己结束，或者产生了异常而结束。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="443.5" y="-4812" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-52" value="&lt;div&gt;&lt;b&gt;使用线程的方法:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;实现 Runnable 接口；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;实现 Callable 接口；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;继承 Thread 类。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;使用线程池&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;实现 Runnable 和 Callable 接口的类只能当做一个可以在线程中运行的任务，不是真正意义上的线程，因此最后还需要通过 Thread 来调用。可以说任务是通过线程驱动从而执行的。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;守护线程是程序运行时在后台提供服务的线程，不属于程序中不可或缺的部分。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当所有非守护线程结束时，程序也就终止，同时会杀死所有守护线程。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;main() 属于非守护线程。因此如果设置这个，可以让子线程随着主线程的退出而退出&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;使用 setDaemon() 方法将一个线程设置为守护线程。&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="183" y="-6350" width="990" height="290" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-53" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Thread.sleep(millisec) 方法会休眠当前正在执行的线程，&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;millisec 单位为毫秒&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;sleep的工作流程：&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;挂起线程并修改其运行状态&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;用sleep()提供的参数来设置一个定时器&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;当时间结束定时器会触发，内核收到中断后修改线程的运行状态。就绪队列等待调度例如线程会被标志为就绪而进入就绪队列等待调度&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;sleep() 可能会抛出 InterruptedException，因为异常不能跨线程传播回 main() 中，因此必须在本地进行处理。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;线程中抛出的其它异常也同样需要在本地进行处理。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1263" y="-5525" width="730" height="140" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-54" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&amp;nbsp;Thread.yield() 的调用声明了当前线程已经完成了生命周期中最重要的部分，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;可以切换给其它线程来执行。该方法只是对线程调度器的一个建议，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;而且也只是建议具有相同优先级的其它线程可以运行。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="263" y="-5060" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-55" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;stop 方法虽然可以停止线程，但它已经是不建议使用的废弃方法了&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;原因在于它在终止一个线程时会强制中断线程的执行，不管run方法是否执行完了，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;并且还会释放这个线程所持有的所有的锁对象。&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;这一现象会被其它因为请求锁而阻塞的线程看到，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;使他们继续向下执行。这就会造成数据的不一致。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="330" y="-4700" width="460" height="90" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-56" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;使用 interrupt 方法可以给执行任务的线程，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;发送一个中断线程的指令，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;它并不直接中断线程，而是发送一个中断线程的信号，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;把是否正在中断线程的主动权交给代码编写者。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;相比于自定义中断标识符而然，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;它能更及时的接收到中断指令，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;如果线程因为执行join()，sleep或者wait()而进入阻塞状态，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;此时想要停止它，可以调用interrupt()，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;程序会抛出interruptedException异常。可以利用这个异常终止线程&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;调用 Executor 的 shutdown() 方法会等待线程都执行完毕之后再关闭，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;但是如果调用的是 shutdownNow() 方法，则相当于调用每个线程的 interrupt() 方法。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="190" y="-4982" width="480" height="170" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-57" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;在线程中调用另一个线程的 join() 方法，会将当前线程挂起，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;而不是忙等待，直到目标线程结束。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;从源码来看，实际上join方法就是调用了wait方法来使得线程阻塞，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;一直到线程结束运行。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;也就是说，join方法是一个同步方法，当主线程调用t1.join()方法时，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;主线程先获得了t1对象的锁，随后进入方法，调用了t1对象的wait()方法，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;使主线程进入了t1对象的等待池。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;jvm虚拟机中存在方法lock.notify_all(thread)，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;font color=&quot;#3333ff&quot;&gt;&lt;b&gt;在t1线程结束以后，会调用该方法，最后唤醒主线程。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="209.5" y="-5800" width="410" height="170" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-58" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;调用 wait() 使得线程等待某个条件满足，线程在等待时会被挂起，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;当其他线程的运行使得这个条件满足时，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;其它线程会调用 notify() 或者 notifyAll() 来唤醒挂起的线程。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;它们都属于 Object 的一部分，而不属于 Thread。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;只能用在同步方法synchronized或者同步控制块中使用，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;否则会在运行时抛出 IllegalMonitorStateExeception。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;使用 wait() 挂起期间，线程会释放锁。这是因为，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;如果没有释放锁，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;那么其它线程就无法进入对象的同步方法或者同步控制块中，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;那么就无法执行 notify() 或者 notifyAll() 来唤醒挂起的线程，造成死锁。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333ff&quot; style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;wait() 和 sleep() 的区别&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;wait() 是 Object 的方法，而 sleep() 是 Thread 的静态方法；&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;wait() 会释放锁，sleep() 不会。&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="213" y="-5615" width="410" height="270" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-59" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;java.util.concurrent 类库中提供了 Condition 类来实现线程之间的协调，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;可以在 Condition 上调用 await() 方法使线程等待，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;其它线程调用 signal() 或 signalAll() 方法唤醒等待的线程。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;相比于 wait() 这种等待方式，await() 可以指定等待的条件，因此更加灵活。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="174.5" y="-5340" width="430" height="70" as="geometry" />
        </mxCell>
        <mxCell id="IxXiFD5fIp3fHgtyJx47-60" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;线程中的异常处理&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b style=&quot;&quot;&gt;Runnable 接口的 run() 方法不允许抛出任何被检查的异常（checked exceptions），只能处理或抛出运行时异常（unchecked exceptions）。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b&gt;当在 run() 方法内发生异常时，如果没有显式地捕获和处理这些异常，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;它们通常会在执行该 Runnable 的线程中被“吞掉”，即异常会导致线程终止，但不会影响其他线程的执行。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;Runnable中异常处理：&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; 1. 在run方法中显示的捕获异常&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; 2. 为创建的线程设置一个UncaughtExceptionHandler&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b&gt;&amp;nbsp; &amp;nbsp; 3.&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;使用Callable代替Runnable，Callable的call方法允许抛出异常，然后可以通过提交给ExecutorService返回的Future来捕获和处理这些异常&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;RunableFuture&amp;lt;T&amp;gt; 是个接口，但是它继承了Runnable 接口 ， 实现类是 FutureTask&amp;nbsp;&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;FutureTask里的run方法 是不是和 构造时的Callable 有关系，&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;如果存储正常结果的set(result)方法 和存储异常结果的 setException(ex) 方法&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;将正常结果result 和 异常结果 exception 都赋值给了 outcome 这个变量 。&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&lt;b&gt;可以通过get方法获取到异常结果&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="173" y="-6052.5" width="790" height="240" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-1" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;核心方法API:&amp;nbsp;&lt;/font&gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;schedule(Runnable command, long delay, TimeUnit unit)：创建并执行在给定延迟后启用的一次性操作&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit)：定时执行周期任务，任务执行完成后，延迟delay时间执行&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit)：按照固定的评率定时执行周期任务，不受任务运行时间影响。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;核心属性&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//关闭后继续执行已经存在的周期任务&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;volatile&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;continueExistingPeriodicTasksAfterShutdown;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//关闭后继续执行已经存在的延时任务&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;volatile&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;executeExistingDelayedTasksAfterShutdown&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//取消任务后移除&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;volatile&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;removeOnCancel&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//为相同延时的任务提供的顺序编号，保证任务之间的FIFO顺序&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;AtomicLong&amp;nbsp;sequencer&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;AtomicLong();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(43, 43, 43); line-height: 1.8em; letter-spacing: 0.02em; text-indent: 0em;&quot;&gt;continueExistingPeriodicTasksAfterShutdown：和executeExistingDelayedTasksAfterShutdown是 ScheduledThreadPoolExecutor 定义的 run-after-shutdown 参数，用来控制池关闭之后的任务执行逻辑。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(43, 43, 43); line-height: 1.8em; letter-spacing: 0.02em; text-indent: 0em;&quot;&gt;removeOnCancel：用来控制任务取消后是否从队列中移除。当一个已经提交的周期或延迟任务在运行之前被取消，那么它之后将不会运行。默认配置下，这种已经取消的任务在届期之前不会被移除。 通过这种机制，可以方便检查和监控线程池状态，但也可能导致已经取消的任务无限滞留。为了避免这种情况的发生，我们可以通过setRemoveOnCancelPolicy方法设置移除策略，把参数removeOnCancel设为true可以在任务取消后立即从队列中移除。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(43, 43, 43); line-height: 1.8em; letter-spacing: 0.02em; text-indent: 0em;&quot;&gt;sequencer：是为相同延时的任务提供的顺序编号，保证任务之间的 FIFO 顺序。与 ScheduledFutureTask 内部的sequenceNumber参数作用一致。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-235" y="-3150" width="1550" height="820" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-2" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;创建方式&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;创建ScheduledThreadPoolExecutor方式一共有两种，第一种是通过自定义参数，第二种通过Executors工厂方法创建。 根据阿里巴巴代码规范中的建议，更加推荐使用第一种方式创建。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;自定义参数创建&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ScheduledThreadPoolExecutor(int corePoolSize,&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp;ThreadFactory threadFactory, RejectedExecutionHandler handler)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Executors工厂方法创建&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;static ScheduledExecutorService newScheduledThreadPool(int corePoolSize)：根据核心线程数创建调度线程池。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;static ScheduledExecutorService newScheduledThreadPool(int corePoolSize, ThreadFactory threadFactory)：根据核心线程数和线程工厂创建调度线程池。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="132" y="-3370" width="1020" height="160" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-3" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;sequenceNumber: 当两个任务有相同的延迟时间时，按照 FIFO 的顺序入队。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;sequenceNumber 就是为相同延时任务提供的顺序编号。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;time: 任务可以执行时的时间，纳秒级，通过triggerTime方法计算得出。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;period: 任务的执行周期时间，纳秒级。正数表示固定速率执行(为scheduleAtFixedRate提供服务)，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;负数表示固定延迟执行(为scheduleWithFixedDelay提供服务)，0表示不重复任务。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;outerTask: 重新入队的任务，通过reExecutePeriodic方法入队重新排序。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333ff&quot; style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp;ScheduledFutureTask 的run方法重写了 FutureTask 的版本，以便执行周期任务时重置/重排序任务。&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;任务的执行通过父类 FutureTask 的run实现。内部有两个针对周期任务的方法:&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;setNextRunTime(): 用来设置下一次运行的时间&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;//设置下一次执行任务的时间&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;private void setNextRunTime() {&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; long p = period;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; if (p &amp;gt; 0)&amp;nbsp; //固定速率执行，scheduleAtFixedRate&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; time += p;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; else&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; time = triggerTime(-p);&amp;nbsp; //固定延迟执行，scheduleWithFixedDelay&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;}&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;//计算固定延迟任务的执行时间&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;long triggerTime(long delay) {&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; return now() +&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ((delay &amp;lt; (Long.MAX_VALUE &amp;gt;&amp;gt; 1)) ? delay : overflowFree(delay));&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;}&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;reExecutePeriodic(): 周期任务重新入队等待下一次执行&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;//重排序一个周期任务&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;void reExecutePeriodic(RunnableScheduledFuture&amp;lt;?&amp;gt; task) {&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; if (canRunInCurrentRunState(true)) {//池关闭后可继续执行&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; super.getQueue().add(task);//任务入列&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //重新检查run-after-shutdown参数，如果不能继续运行就移除队列任务，并取消任务的执行&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!canRunInCurrentRunState(true) &amp;amp;&amp;amp; remove(task))&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; task.cancel(false);&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ensurePrestart();//启动一个新的线程等待任务&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255); font-weight: bold;&quot;&gt;}&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;reExecutePeriodic与delayedExecute的执行策略一致，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;只不过reExecutePeriodic不会执行拒绝策略而是直接丢掉任务。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 255);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;cancel方法&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;div&gt;public boolean cancel(boolean mayInterruptIfRunning) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; boolean cancelled = super.cancel(mayInterruptIfRunning);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (cancelled &amp;amp;&amp;amp; removeOnCancel &amp;amp;&amp;amp; heapIndex &amp;gt;= 0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; remove(this);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; return cancelled;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;ScheduledFutureTask.cancel本质上由其父类 FutureTask.cancel 实现。&lt;/div&gt;&lt;div&gt;取消任务成功后会根据removeOnCancel参数决定是否从队列中移除此任务。&lt;/div&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-470" y="-4080" width="570" height="790" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-4" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.008;exitY=0.769;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#3333FF;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-3" target="sP_teEGo85cFPhSgKsu7-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="323" y="-3510" as="sourcePoint" />
            <mxPoint x="373" y="-3560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-5" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;scheduleAtFixedRate 和 scheduleWithFixedDelay&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;/**&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;创建一个周期执行的任务，第一次执行延期时间为initialDelay，&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;之后每隔period执行一次，不等待第一次执行完成就开始计时&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;ScheduledFuture&amp;lt;?&amp;gt;&amp;nbsp;scheduleAtFixedRate(Runnable&amp;nbsp;command,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;initialDelay,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;period,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TimeUnit&amp;nbsp;unit)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(command&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;||&amp;nbsp;unit&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(period&amp;nbsp;&amp;lt;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;IllegalArgumentException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//构建RunnableScheduledFuture任务类型&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ScheduledFutureTask&amp;lt;Void&amp;gt;&amp;nbsp;sft&amp;nbsp;=&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ScheduledFutureTask&amp;lt;Void&amp;gt;(command,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;triggerTime(initialDelay,&amp;nbsp;unit),&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//计算任务的延迟时间&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;unit.toNanos(period));&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//计算任务的执行周期&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableScheduledFuture&amp;lt;Void&amp;gt;&amp;nbsp;t&amp;nbsp;=&amp;nbsp;decorateTask(command,&amp;nbsp;sft);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//执行用户自定义逻辑&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sft.outerTask&amp;nbsp;=&amp;nbsp;t;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//赋值给outerTask，准备重新入队等待下一次执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;delayedExecute(t);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//执行任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;t;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;/**&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;创建一个周期执行的任务，第一次执行延期时间为initialDelay，&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;在第一次执行完之后延迟delay后开始下一次执行&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;ScheduledFuture&amp;lt;?&amp;gt;&amp;nbsp;scheduleWithFixedDelay(Runnable&amp;nbsp;command,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;initialDelay,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;delay,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TimeUnit&amp;nbsp;unit)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(command&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;||&amp;nbsp;unit&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(delay&amp;nbsp;&amp;lt;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;IllegalArgumentException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//构建RunnableScheduledFuture任务类型&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ScheduledFutureTask&amp;lt;Void&amp;gt;&amp;nbsp;sft&amp;nbsp;=&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ScheduledFutureTask&amp;lt;Void&amp;gt;(command,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;triggerTime(initialDelay,&amp;nbsp;unit),&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//计算任务的延迟时间&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;unit.toNanos(-delay));&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//计算任务的执行周期&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableScheduledFuture&amp;lt;Void&amp;gt;&amp;nbsp;t&amp;nbsp;=&amp;nbsp;decorateTask(command,&amp;nbsp;sft);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//执行用户自定义逻辑&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sft.outerTask&amp;nbsp;=&amp;nbsp;t;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//赋值给outerTask，准备重新入队等待下一次执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;delayedExecute(t);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//执行任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;t;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;说明: scheduleAtFixedRate和scheduleWithFixedDelay方法的逻辑与schedule类似。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(53, 148, 247); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;注意scheduleAtFixedRate和scheduleWithFixedDelay的区别&lt;/strong&gt;: 乍一看两个方法一模一样，其实，在unit.toNanos这一行代码中还是有区别的。没错，scheduleAtFixedRate传的是正值，而scheduleWithFixedDelay传的则是负值，这个值就是 ScheduledFutureTask 的period属性。&lt;/p&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-304" y="-790" width="1550" height="1590" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-6" value="&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;shutdown()&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;shutdown&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;.shutdown();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//取消并清除由于关闭策略不应该运行的所有任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;onShutdown&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;BlockingQueue&amp;lt;Runnable&amp;gt;&amp;nbsp;q&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;.getQueue();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//获取run-after-shutdown参数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;keepDelayed&amp;nbsp;=&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;getExecuteExistingDelayedTasksAfterShutdownPolicy();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;keepPeriodic&amp;nbsp;=&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;getContinueExistingPeriodicTasksAfterShutdownPolicy();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!keepDelayed&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;!keepPeriodic)&amp;nbsp;{&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//池关闭后不保留任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//依次取消任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(Object&amp;nbsp;e&amp;nbsp;:&amp;nbsp;q.toArray())&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(e&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&amp;nbsp;RunnableScheduledFuture&amp;lt;?&amp;gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;((RunnableScheduledFuture&amp;lt;?&amp;gt;)&amp;nbsp;e).cancel(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;q.clear();&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//清除等待队列&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;{&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//池关闭后保留任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Traverse&amp;nbsp;snapshot&amp;nbsp;to&amp;nbsp;avoid&amp;nbsp;iterator&amp;nbsp;exceptions&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//遍历快照以避免迭代器异常&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(Object&amp;nbsp;e&amp;nbsp;:&amp;nbsp;q.toArray())&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(e&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&amp;nbsp;RunnableScheduledFuture)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableScheduledFuture&amp;lt;?&amp;gt;&amp;nbsp;t&amp;nbsp;=&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(RunnableScheduledFuture&amp;lt;?&amp;gt;)e;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;((t.isPeriodic()&amp;nbsp;?&amp;nbsp;!keepPeriodic&amp;nbsp;:&amp;nbsp;!keepDelayed)&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;t.isCancelled())&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;also&amp;nbsp;remove&amp;nbsp;if&amp;nbsp;already&amp;nbsp;cancelled&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果任务已经取消，移除队列中的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(q.remove(t))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;t.cancel(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tryTerminate();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//终止线程池&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;说明: 池关闭方法调用了父类ThreadPoolExecutor的shutdown，具体分析见 ThreadPoolExecutor 篇。这里主要介绍以下在shutdown方法中调用的关闭钩子onShutdown方法，它的主要作用是在关闭线程池后取消并清除由于关闭策略不应该运行的所有任务，这里主要是根据 run-after-shutdown 参数(continueExistingPeriodicTasksAfterShutdown和executeExistingDelayedTasksAfterShutdown)来决定线程池关闭后是否关闭已经存在的任务。&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-297" y="830" width="1550" height="1080" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-7" value="&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;ScheduledThreadPoolExecutor吞掉异常&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;如果&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;ScheduledThreadPoolExecutor&lt;/code&gt;中执行的任务出错抛出异常后，不仅不会打印异常堆栈信息，同时还会取消后面的调度, 直接看例子。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Test&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;testException&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throws&lt;/span&gt;&amp;nbsp;InterruptedException&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;创建1个线程的调度任务线程池&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ScheduledExecutorService&amp;nbsp;scheduledExecutorService&amp;nbsp;=&amp;nbsp;Executors.newSingleThreadScheduledExecutor();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;创建一个任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Runnable&amp;nbsp;runnable&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;Runnable()&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;volatile&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;num&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;num&amp;nbsp;++;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;模拟执行报错&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;(num&amp;nbsp;&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;5&lt;/span&gt;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;RuntimeException(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;执行错误&quot;&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;log.info(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;exec&amp;nbsp;num:&amp;nbsp;[{}].....&quot;&lt;/span&gt;,&amp;nbsp;num);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;};&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;每隔1秒钟执行一次任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;scheduledExecutorService.scheduleAtFixedRate(runnable,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;,&amp;nbsp;TimeUnit.SECONDS);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Thread.sleep(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;10000&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: 656.94px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqn9yB1BCnr8ibC1wx4x67OsaJqXQo9R4PUAuTus9rWGZm11NYkjlvXaQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;2&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-w=&quot;791&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqn9yB1BCnr8ibC1wx4x67OsaJqXQo9R4PUAuTus9rWGZm11NYkjlvXaQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-ratio=&quot;0.16940581542351454&quot; data-imgfileid=&quot;100001172&quot;&gt;&lt;/figure&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;只执行了5次后，就不打印，不执行了，因为报错了&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;任务报错，也没有打印一次堆栈，更导致调度任务取消，后果十分严重。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;解决方法也非常简单，只要通过try catch捕获异常即可。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;num++;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;模拟执行报错&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(num&amp;nbsp;&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;5&lt;/span&gt;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;RuntimeException(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;执行错误&quot;&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;log.info(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;exec&amp;nbsp;num:&amp;nbsp;[{}].....&quot;&lt;/span&gt;,&amp;nbsp;num);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(Exception&amp;nbsp;e)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;e.printStackTrace();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;原理探究&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;那大家有没有想过为什么任务出错会导致异常无法打印，甚至调度都取消了呢？从源码出发，一探究竟。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;从上面&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;delayedExecute&lt;/code&gt;方法可以看到，延迟或周期性任务的主要执行方法， 主要是将任务丢到队列中，后续再由工作线程获取执行。&lt;/p&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;在任务入队列后，就是执行任务内容了，任务内容其实就是在继承了Runnable类的run方法中。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;ScheduledFutureTask#run方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;是不是周期性任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;periodic&amp;nbsp;=&amp;nbsp;isPeriodic();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!canRunInCurrentRunState(periodic))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cancel(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;不是周期性任务的话，&amp;nbsp;直接调用一次下面的run&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!periodic)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ScheduledFutureTask.&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;.run();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果是周期性任务，则调用runAndReset方法，如果返回true，继续执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(ScheduledFutureTask.&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;.runAndReset())&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;设置下次调度时间&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setNextRunTime();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;重新执行调度任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reExecutePeriodic(outerTask);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;这里的关键就是看&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;ScheduledFutureTask.super.runAndReset()&lt;/code&gt;方法是否返回true，如果是true的话继续调度。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot; start=&quot;2&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;runAndReset方法也很简单，关键就是看报异常如何处理。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVV5XuMPwIbPtyKUXPLtNalfEtSENS6dbH9PRianJ6PbTn3u3WMia5Oibw6ribER5icRLfGaibykqRsvbrY/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;FutureTask#runAndReset&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;protected&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;runAndReset&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(state&amp;nbsp;!=&amp;nbsp;NEW&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!UNSAFE.compareAndSwapObject(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;,&amp;nbsp;runnerOffset,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&amp;nbsp;Thread.currentThread()))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;是否继续下次调度，默认false&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;ran&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;s&amp;nbsp;=&amp;nbsp;state;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Callable&amp;lt;V&amp;gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;callable;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(c&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;s&amp;nbsp;==&amp;nbsp;NEW)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c.call();&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行成功的话，设置为true&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ran&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;异常处理，关键点&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(Throwable&amp;nbsp;ex)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;不会修改ran的值，最终是false，同时也不打印异常堆栈&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setException(ex);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;runner&amp;nbsp;must&amp;nbsp;be&amp;nbsp;non-null&amp;nbsp;until&amp;nbsp;state&amp;nbsp;is&amp;nbsp;settled&amp;nbsp;to&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;prevent&amp;nbsp;concurrent&amp;nbsp;calls&amp;nbsp;to&amp;nbsp;run()&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;runner&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;state&amp;nbsp;must&amp;nbsp;be&amp;nbsp;re-read&amp;nbsp;after&amp;nbsp;nulling&amp;nbsp;runner&amp;nbsp;to&amp;nbsp;prevent&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;leaked&amp;nbsp;interrupts&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;s&amp;nbsp;=&amp;nbsp;state;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(s&amp;nbsp;&amp;gt;=&amp;nbsp;INTERRUPTING)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;handlePossibleCancellationInterrupt(s);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;返回结果&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;ran&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;s&amp;nbsp;==&amp;nbsp;NEW;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;关键点ran变量，最终返回是不是下次继续调度执行&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em;&quot;&gt;如果抛出异常的话，可以看到不会修改ran为true。&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box rgb(255, 255, 255); border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWYZiaAIhfQlcZMxibAuQMTNEqmJZPf411aokGkibG9xQTgPx9sOKy2AUEzK8HkNtEeA6OFyopJOIwwVA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/h3&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="16" y="1980" width="930" height="3000" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-8" value="&lt;div&gt;&lt;b&gt;任务执行机制&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过执行execute方法 该方法无返回值，为ThreadPoolExecutor自带方法，传入Runnable类型对象&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过执行submit方法 该方法返回值为Future对象，为抽象类AbstractExecutorService的方法，被ThreadPoolExecutor继承，其内部实现也是调用了接口类Executor的execute方法，通过上面的类图可以看到，该方法的实现依然是ThreadPoolExecutor的execute方法&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 18px; font-weight: bold; letter-spacing: 0em; text-wrap: wrap;&quot;&gt;execute()源码&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;使用原子操作类AtomicInteger的ctl变量，前3位记录线程池的状态，后29位记录线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;AtomicInteger&amp;nbsp;ctl&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;AtomicInteger(ctlOf(RUNNING,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;));&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Integer的范围为[-2^31,2^31&amp;nbsp;-1],&amp;nbsp;Integer.SIZE-3&amp;nbsp;=32-3=&amp;nbsp;29，用来辅助左移位运算&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;COUNT_BITS&amp;nbsp;=&amp;nbsp;Integer.SIZE&amp;nbsp;-&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;3&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;高三位用来存储线程池运行状态，其余位数表示线程池的容量&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;CAPACITY&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS)&amp;nbsp;-&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池状态以常量值被存储在高三位中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;RUNNING&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;-&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池接受新任务并会处理阻塞队列中的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池不接受新任务，但会处理阻塞队列中的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;STOP&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池不接受新的任务且不会处理阻塞队列中的任务，并且会中断正在执行的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;TIDYING&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;2&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;所有任务都执行完成，且工作线程数为0，将调用terminated方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;TERMINATED&amp;nbsp;=&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;3&lt;/span&gt;&amp;nbsp;&amp;lt;&amp;lt;&amp;nbsp;COUNT_BITS;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;最终状态，为执行terminated()方法后的状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;ctl变量的封箱拆箱相关的方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;runStateOf&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c)&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;c&amp;nbsp;&amp;amp;&amp;nbsp;~CAPACITY;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取线程池运行状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;workerCountOf&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c)&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;c&amp;nbsp;&amp;amp;&amp;nbsp;CAPACITY;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取线程池运行线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;ctlOf&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;rs,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;wc)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;rs&amp;nbsp;|&amp;nbsp;wc;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取ctl对象&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;execute&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;command)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(command&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;任务为空，抛出NPE&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取当前工作线程数和线程池运行状态（共32位，前3位为运行状态，后29位为运行线程数）&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(workerCountOf(c)&amp;nbsp;&amp;lt;&amp;nbsp;corePoolSize)&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前工作线程数小于核心线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(addWorker(command,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;))&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;在addWorker中创建核心线程并执行任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;核心线程数已满（工作线程数&amp;gt;核心线程数）才会走下面的逻辑&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(isRunning(c)&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;workQueue.offer(command))&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前线程池状态为RUNNING，并且任务成功添加到阻塞队列&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;recheck&amp;nbsp;=&amp;nbsp;ctl.get();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;双重检查，因为从上次检查到进入此方法，线程池可能已成为SHUTDOWN状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!&amp;nbsp;isRunning(recheck)&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;remove(command))&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前线程池状态不是RUNNING则从队列删除任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reject(command);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行拒绝策略&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(workerCountOf(recheck)&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;当线程池中的workerCount为0时，此时workQueue中还有待执行的任务，则新增一个addWorker，消费workqueue中的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;addWorker(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;阻塞队列已满才会走下面的逻辑&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!addWorker(command,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;))&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;尝试增加工作线程执行command&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前线程池为SHUTDOWN状态或者线程池已饱和&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reject(command);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行拒绝策略&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;execute体现的就是线程池的工作原理，&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;addWorker&lt;/code&gt;则是更复杂的逻辑来保证worker的原子性地插入&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;addWorker&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;firstTask,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;core)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;retry:&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;循环退出标志位&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(;;)&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;无限循环&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;rs&amp;nbsp;=&amp;nbsp;runStateOf(c);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Check&amp;nbsp;if&amp;nbsp;queue&amp;nbsp;empty&amp;nbsp;only&amp;nbsp;if&amp;nbsp;necessary.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(rs&amp;nbsp;&amp;gt;=&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!&amp;nbsp;(rs&amp;nbsp;==&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;firstTask&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;!&amp;nbsp;workQueue.isEmpty())&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;换成更直观的条件语句&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;(rs&amp;nbsp;!=&amp;nbsp;SHUTDOWN&amp;nbsp;||&amp;nbsp;firstTask&amp;nbsp;!=&amp;nbsp;null&amp;nbsp;||&amp;nbsp;workQueue.isEmpty())&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;返回false的条件就可以分解为：&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（1）线程池状态为STOP，TIDYING，TERMINATED&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（2）线程池状态为SHUTDOWN，且要执行的任务不为空&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（3）线程池状态为SHUTDOWN，且任务队列为空&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;cas自旋增加线程个数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(;;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;wc&amp;nbsp;=&amp;nbsp;workerCountOf(c);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;当前工作线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(wc&amp;nbsp;&amp;gt;=&amp;nbsp;CAPACITY&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;wc&amp;nbsp;&amp;gt;=&amp;nbsp;(core&amp;nbsp;?&amp;nbsp;corePoolSize&amp;nbsp;:&amp;nbsp;maximumPoolSize))&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;工作线程数&amp;gt;=线程池容量&amp;nbsp;||&amp;nbsp;工作线程数&amp;gt;=(核心线程数||最大线程数)&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(compareAndIncrementWorkerCount(c))&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行cas操作，添加线程个数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;break&lt;/span&gt;&amp;nbsp;retry;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;添加成功，退出外层循环&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;通过cas添加失败&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池状态是否变化，变化则跳到外层循环重试重新获取线程池状态，否者内层循环重新cas&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(runStateOf(c)&amp;nbsp;!=&amp;nbsp;rs)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;continue&lt;/span&gt;&amp;nbsp;retry;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;else&amp;nbsp;CAS&amp;nbsp;failed&amp;nbsp;due&amp;nbsp;to&amp;nbsp;workerCount&amp;nbsp;change;&amp;nbsp;retry&amp;nbsp;inner&amp;nbsp;loop&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;简单总结上面的CAS过程：&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（1）内层循环作用是使用cas增加线程个数，如果线程个数超限则返回false，否者进行cas&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（2）cas成功则退出双循环，否者cas失败了，要看当前线程池的状态是否变化了&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（3）如果变了，则重新进入外层循环重新获取线程池状态，否者重新进入内层循环继续进行cas&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;走到这里说明cas成功，线程数+1，但并未被执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;workerStarted&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;工作线程调用start()方法标志&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;workerAdded&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;工作线程被添加标志&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Worker&amp;nbsp;w&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;Worker(firstTask);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;创建工作线程实例&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;Thread&amp;nbsp;t&amp;nbsp;=&amp;nbsp;w.thread;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取工作线程持有的线程实例&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(t&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;使用全局可重入锁&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;加锁，控制并发&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Recheck&amp;nbsp;while&amp;nbsp;holding&amp;nbsp;lock.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Back&amp;nbsp;out&amp;nbsp;on&amp;nbsp;ThreadFactory&amp;nbsp;failure&amp;nbsp;or&amp;nbsp;if&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;shut&amp;nbsp;down&amp;nbsp;before&amp;nbsp;lock&amp;nbsp;acquired.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;rs&amp;nbsp;=&amp;nbsp;runStateOf(ctl.get());&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取当前线程池状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池状态为RUNNING或者（线程池状态为SHUTDOWN并且没有新任务时）&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(rs&amp;nbsp;&amp;lt;&amp;nbsp;SHUTDOWN&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(rs&amp;nbsp;==&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;firstTask&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;))&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(t.isAlive())&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;检查线程是否处于活跃状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;IllegalThreadStateException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workers.add(w);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程加入到存放工作线程的HashSet容器，workers全局唯一并被mainLock持有&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;s&amp;nbsp;=&amp;nbsp;workers.size();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(s&amp;nbsp;&amp;gt;&amp;nbsp;largestPoolSize)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;largestPoolSize&amp;nbsp;=&amp;nbsp;s;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workerAdded&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;finally块中释放锁&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(workerAdded)&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程添加成功&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;t.start();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;调用线程的start()方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workerStarted&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!&amp;nbsp;workerStarted)&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果线程启动失败，则执行addWorkerFailed方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;addWorkerFailed(w);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;workerStarted;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;addWorkerFailed&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Worker&amp;nbsp;w)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(w&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workers.remove(w);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程启动失败时，需将前面添加的线程删除&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;decrementWorkerCount();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;ctl变量中的工作线程数-1&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tryTerminate();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;尝试将线程池转变成TERMINATE状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;tryTerminate&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(;;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;以下情况不会进入TERMINATED状态：&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（1）当前线程池为RUNNING状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（2）在TIDYING及以上状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（3）SHUTDOWN状态并且工作队列不为空&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//（4）当前活跃线程数不等于0&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(isRunning(c)&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;runStateAtLeast(c,&amp;nbsp;TIDYING)&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(runStateOf(c)&amp;nbsp;==&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;!&amp;nbsp;workQueue.isEmpty()))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(workerCountOf(c)&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)&amp;nbsp;{&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;工作线程数!=0&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;interruptIdleWorkers(ONLY_ONE);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;中断一个正在等待任务的线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;通过CAS自旋判断直到当前线程池运行状态为TIDYING并且活跃线程数为0&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(ctl.compareAndSet(c,&amp;nbsp;ctlOf(TIDYING,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;)))&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;terminated();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;调用线程terminated()&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ctl.set(ctlOf(TERMINATED,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;));&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;设置线程池状态为TERMINATED，工作线程数为0&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;termination.signalAll();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;通过调用Condition接口的signalAll()唤醒所有等待的线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;else&amp;nbsp;retry&amp;nbsp;on&amp;nbsp;failed&amp;nbsp;CAS&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5" y="7790" width="1450" height="4490" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;ThreadPool&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5" y="5220" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-12" value="&lt;div&gt;&lt;b&gt;线程池状态&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;RUNNING&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;线程池被创建后的初始状态，能接受新提交的任务，并且也能处理阻塞队列中的任务&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;SHUTDOWN&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;关闭状态，不再接受新提交的任务，但仍可以继续处理已进入阻塞队列中的任务&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;STOP&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;会中断正在处理任务的线程，不能再接受新任务，也不继续处理队列中的任务&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;TIDYING&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;所有的任务都已终止，workerCount(有效工作线程数)为0&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;TERMINATED&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;线程池彻底终止运行&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;ThreadPoolExecutor 的通用构造函数：&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;corePoolSize,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;maximumPoolSize,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;keepAliveTime,&amp;nbsp;TimeUnit&amp;nbsp;unit,&amp;nbsp;BlockingQueue&amp;lt;Runnable&amp;gt;&amp;nbsp;workQueue,&amp;nbsp;ThreadFactory&amp;nbsp;threadFactory,&amp;nbsp;RejectedExecutionHandler&amp;nbsp;handler)&lt;/span&gt;&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;corePoolSize：当有新任务时，如果线程池中线程数没有达到核心线程池的大小corePoolSize，则会创建新的线程执行任务，否则将任务放入阻塞队列。当线程池中存活的线程数总是大于 corePoolSize 时，应该考虑调大 corePoolSize。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;maximumPoolSize：当阻塞队列填满时，如果线程池中线程数没有超过最大线程数maximumPoolSize，则会创建新的线程运行任务。如果线程池中线程数已经达到最大线程数maximumPoolSiz，则会根据拒绝策略处理新任务。非核心线程类似于临时借来的资源，这些线程在空闲时间超过 keepAliveTime 之后，就应该退出，避免资源浪费。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;BlockingQueue：阻塞队列，存储等待运行的任务。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;keepAliveTime：非核心线程空闲后，保持存活的时间，此参数只对非核心线程有效。设置为0，表示多余的空闲线程会被立即终止。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit：keepAliveTime的时间单位TimeUnit.DAYS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; list-style-type: disc; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.HOURS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.MINUTES&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.SECONDS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.MILLISECONDS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.MICROSECONDS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;TimeUnit.NANOSECONDS&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;ThreadFactory：每当线程池创建一个新的线程时，都是通过线程工厂方法来完成的。在 ThreadFactory 中只定义了一个方法 newThread，每当线程池需要创建新线程就会调用它。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;class&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;MyThreadFactory&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;implements&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;ThreadFactory&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;String&amp;nbsp;poolName;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;MyThreadFactory&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(String&amp;nbsp;poolName)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.poolName&amp;nbsp;=&amp;nbsp;poolName;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;Thread&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;newThread&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;runnable)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;MyAppThread(runnable,&amp;nbsp;poolName);&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//将线程池名字传递给构造函数，用于区分不同线程池的线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot; start=&quot;7&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;RejectedExecutionHandler：当队列和线程池都满了的时候，根据拒绝策略处理新任务。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; list-style-type: disc; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;AbortPolicy：默认的策略，直接抛出RejectedExecutionException。如果是比较关键的业务，推荐使用此拒绝策略，这样子在系统不能承载更大的并发量的时候，能够及时的通过异常发现。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;DiscardPolicy：不处理，直接丢弃。建议是一些无关紧要的业务采用此策略。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;DiscardOldestPolicy：将等待队列队首的任务丢弃，并执行当前任务。得根据实际业务是否允许丢弃老任务来认真衡量。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;CallerRunsPolicy：由调用线程处理该任务CallerRunsPolicy：由调用线程处理该任务&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ol&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5" y="5420" width="1550" height="1500" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-13" value="&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;Worker源码&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;Worker是ThreadPoolExecutor类的内部类，此处只讲最重要的构造函数和run方法&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;class&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;Worker&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;extends&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;AbstractQueuedSynchronizer&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;implements&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;Runnable&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;该worker正在运行的线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;Thread&amp;nbsp;thread;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;将要运行的初始任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Runnable&amp;nbsp;firstTask;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;每个线程的任务计数器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;volatile&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;long&lt;/span&gt;&amp;nbsp;completedTasks;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;构造方法&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Worker(Runnable&amp;nbsp;firstTask)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setState(-&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;调用runWorker()前禁止中断&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.firstTask&amp;nbsp;=&amp;nbsp;firstTask;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.thread&amp;nbsp;=&amp;nbsp;getThreadFactory().newThread(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;通过ThreadFactory创建一个线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;实现了Runnable接口的run方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;runWorker(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;此处省略了其他方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;Worker实现了Runable接口，在调用start()方法候，实际执行的是run方法Worker实现了Runable接口，在调用start()方法候，实际执行的是run方法&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;runWorker&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Worker&amp;nbsp;w)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Thread&amp;nbsp;wt&amp;nbsp;=&amp;nbsp;Thread.currentThread();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Runnable&amp;nbsp;task&amp;nbsp;=&amp;nbsp;w.firstTask;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取工作线程中用来执行任务的线程实例&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.firstTask&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.unlock();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;status设置为0，允许中断&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;completedAbruptly&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程意外终止标志&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前任务不为空，则直接执行；否则调用getTask()从任务队列中取出一个任务执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;while&lt;/span&gt;&amp;nbsp;(task&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&amp;nbsp;||&amp;nbsp;(task&amp;nbsp;=&amp;nbsp;getTask())&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.lock();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;加锁，保证下方临界区代码的线程安全&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果状态值大于等于STOP且当前线程还没有被中断，则主动中断线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;((runStateAtLeast(ctl.get(),&amp;nbsp;STOP)&amp;nbsp;||&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(Thread.interrupted()&amp;nbsp;&amp;amp;&amp;amp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;runStateAtLeast(ctl.get(),&amp;nbsp;STOP)))&amp;nbsp;&amp;amp;&amp;amp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!wt.isInterrupted())&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;wt.interrupt();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;中断当前线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;beforeExecute(wt,&amp;nbsp;task);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;任务执行前的回调，空实现，可以在子类中自定义&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Throwable&amp;nbsp;thrown&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;task.run();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;执行线程的run方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(RuntimeException&amp;nbsp;x)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;thrown&amp;nbsp;=&amp;nbsp;x;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;x;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(Error&amp;nbsp;x)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;thrown&amp;nbsp;=&amp;nbsp;x;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;x;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(Throwable&amp;nbsp;x)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;thrown&amp;nbsp;=&amp;nbsp;x;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;Error(x);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;afterExecute(task,&amp;nbsp;thrown);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;任务执行后的回调，空实现，可以在子类中自定义&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;task&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;将循环变量task设置为null，表示已处理完成&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.completedTasks++;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;当前已完成的任务数+1&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;completedAbruptly&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;processWorkerExit(w,&amp;nbsp;completedAbruptly);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;从任务队列中取出一个任务&lt;/span&gt;&lt;/h5&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;Runnable&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;getTask&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;timedOut&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;通过timeOut变量表示线程是否空闲时间超时了&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;无限循环&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(;;)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池信息&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;rs&amp;nbsp;=&amp;nbsp;runStateOf(c);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;线程池当前状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果线程池状态&amp;gt;=SHUTDOWN并且工作队列为空&amp;nbsp;或&amp;nbsp;线程池状态&amp;gt;=STOP，则返回null，让当前worker被销毁&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(rs&amp;nbsp;&amp;gt;=&amp;nbsp;SHUTDOWN&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;(rs&amp;nbsp;&amp;gt;=&amp;nbsp;STOP&amp;nbsp;||&amp;nbsp;workQueue.isEmpty()))&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;decrementWorkerCount();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;工作线程数-1&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;wc&amp;nbsp;=&amp;nbsp;workerCountOf(c);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;获取当前线程池的工作线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;当前线程是否允许超时销毁的标志&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;允许超时销毁：当线程池允许核心线程超时&amp;nbsp;或&amp;nbsp;工作线程数&amp;gt;核心线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;timed&amp;nbsp;=&amp;nbsp;allowCoreThreadTimeOut&amp;nbsp;||&amp;nbsp;wc&amp;nbsp;&amp;gt;&amp;nbsp;corePoolSize;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果(当前线程数大于最大线程数&amp;nbsp;或&amp;nbsp;(允许超时销毁&amp;nbsp;且&amp;nbsp;当前发生了空闲时间超时))&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;且(当前线程数大于1&amp;nbsp;或&amp;nbsp;阻塞队列为空)&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;则减少worker计数并返回null&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;((wc&amp;nbsp;&amp;gt;&amp;nbsp;maximumPoolSize&amp;nbsp;||&amp;nbsp;(timed&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;timedOut))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;(wc&amp;nbsp;&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;&amp;nbsp;||&amp;nbsp;workQueue.isEmpty()))&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(compareAndDecrementWorkerCount(c))&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;continue&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;根据线程是否允许超时判断用poll还是take（会阻塞）方法从任务队列头部取出一个任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Runnable&amp;nbsp;r&amp;nbsp;=&amp;nbsp;timed&amp;nbsp;?&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workQueue.poll(keepAliveTime,&amp;nbsp;TimeUnit.NANOSECONDS)&amp;nbsp;:&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workQueue.take();&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//线程池重用逻辑：没有任务了就阻塞在这里，等待新的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(r&amp;nbsp;!=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;r;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;返回从队列中取出的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;timedOut&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(InterruptedException&amp;nbsp;retry)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;timedOut&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;总结一下哪些情况getTask()会返回null：&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;线程池状态为SHUTDOWN且任务队列为空&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;线程池状态为STOP、TIDYING、TERMINATED&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;线程池线程数大于最大线程数&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;线程可以被超时回收的情况下等待新任务超时&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-183" y="12220" width="1070" height="3100" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-14" value="&lt;h5 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;工作线程退出&lt;/span&gt;&lt;/h5&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;processWorkerExit&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Worker&amp;nbsp;w,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;completedAbruptly)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果completedAbruptly为true则表示任务执行过程中抛出了未处理的异常&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;所以还没有正确地减少worker计数，这里需要减少一次worker计数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(completedAbruptly)&amp;nbsp;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;decrementWorkerCount();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;把将被销毁的线程已完成的任务数累加到线程池的完成任务总数上&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;completedTaskCount&amp;nbsp;+=&amp;nbsp;w.completedTasks;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;workers.remove(w);&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;从工作线程集合中移除该工作线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;尝试结束线程池&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tryTerminate();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;c&amp;nbsp;=&amp;nbsp;ctl.get();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果是RUNNING&amp;nbsp;或&amp;nbsp;SHUTDOWN状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(runStateLessThan(c,&amp;nbsp;STOP))&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;worker是正常执行完&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!completedAbruptly)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果允许核心线程超时则最小线程数是0，否则最小线程数等于核心线程数&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;min&amp;nbsp;=&amp;nbsp;allowCoreThreadTimeOut&amp;nbsp;?&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;&amp;nbsp;:&amp;nbsp;corePoolSize;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果阻塞队列非空，则至少要有一个线程继续执行剩下的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(min&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;!&amp;nbsp;workQueue.isEmpty())&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;min&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;如果当前线程数已经满足最小线程数要求，则不需要再创建替代线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(workerCountOf(c)&amp;nbsp;&amp;gt;=&amp;nbsp;min)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;replacement&amp;nbsp;not&amp;nbsp;needed&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;重新创建一个worker来代替被销毁的线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;addWorker(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="15550" width="680" height="970" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-15" value="&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;submit源码&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;提交任务到线程池有两种方法，一种是execute，另一种是submit。区别是execute没有返回值，submit是有返回值的，如果有异常抛出，submit同样可以获取异常结果。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;AbstractExecutorService.submit&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;Future&amp;lt;?&amp;gt;&amp;nbsp;submit(Runnable&amp;nbsp;task)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(task&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableFuture&amp;lt;Void&amp;gt;&amp;nbsp;ftask&amp;nbsp;=&amp;nbsp;newTaskFor(task,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;execute(ftask);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;ftask;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;submit中调用了&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;newTaskFor&lt;/code&gt;方法来返回一个ftask对象，然后execute这个ftask对象，&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;newTaskFor&lt;/code&gt;代码如下：&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;AbstractExecutorService.newTaskFor&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;protected&lt;/span&gt;&amp;nbsp;&amp;lt;T&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;RunnableFuture&amp;lt;T&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;newTaskFor&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;runnable,&amp;nbsp;T&amp;nbsp;value)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;FutureTask&amp;lt;T&amp;gt;(runnable,&amp;nbsp;value);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;newTaskFor&lt;/code&gt;又调用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;FutureTask&lt;/code&gt;的有参构造器来创建一个&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;实例，代码如下：&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;FutureTask有参构造器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;FutureTask&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;runnable,&amp;nbsp;V&amp;nbsp;result)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.callable&amp;nbsp;=&amp;nbsp;Executors.callable(runnable,&amp;nbsp;result);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.state&amp;nbsp;=&amp;nbsp;NEW;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;ensure&amp;nbsp;visibility&amp;nbsp;of&amp;nbsp;callable&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;这个有参构造器中又调用了&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;Executors&lt;/code&gt;的静态方法callable创建一个callable实例来赋值给&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;的callable属性，代码如下：&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Executors.callable&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&amp;lt;T&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;Callable&amp;lt;T&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;callable&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(Runnable&amp;nbsp;task,&amp;nbsp;T&amp;nbsp;result)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(task&amp;nbsp;==&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;NullPointerException();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;RunnableAdapter&amp;lt;T&amp;gt;(task,&amp;nbsp;result);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;最后还是使用了&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;RunnableAdapter&lt;/code&gt;来包装这个task，代码如下：&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;Executors.RunnableAdapter类&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;class&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;RunnableAdapter&lt;/span&gt;&amp;lt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;T&lt;/span&gt;&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;implements&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;Callable&lt;/span&gt;&amp;lt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;T&lt;/span&gt;&amp;gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;Runnable&amp;nbsp;task;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;T&amp;nbsp;result;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RunnableAdapter(Runnable&amp;nbsp;task,&amp;nbsp;T&amp;nbsp;result)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.task&amp;nbsp;=&amp;nbsp;task;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.result&amp;nbsp;=&amp;nbsp;result;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;T&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;call&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;task.run();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;result;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;梳理一下整个流程，run和call的关系的伪代码如下&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;submit&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;run(){&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;RunnableAdapter.call&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;call(){&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;task.run&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;run(){&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;实际的任务&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;为什么要这么麻烦封装一层又一层呢？&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;可能是为了适配。submit的返回值是&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;，但是传给submit的是个runnable，然后submit会把这个runnable继续传给&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;，&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;的结果值是null，但是又由于&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;futureTask&lt;/code&gt;的run方法已经被重写成执行call方法了，所以只能在call方法里面跑真正的run方法了&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-436.5" y="16910" width="1550" height="1900" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-16" value="&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;线程池中线程异常后，销毁还是复用&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;先说结论，需要分两种情况：&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;使用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;execute()&lt;/code&gt;提交任务&lt;/strong&gt;：当任务通过&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;execute()&lt;/code&gt;提交到线程池并在执行过程中抛出异常时，如果这个异常没有在任务内被捕获，那么该异常会导致当前线程终止，并且异常会被打印到控制台或日志文件中。线程池会检测到这种线程终止，并创建一个新线程来替换它，从而保持配置的线程数不变。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(1, 1, 1); line-height: 1.8em; letter-spacing: 0em;&quot;&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(0, 0, 0); line-height: 1.8em; letter-spacing: 0em; text-indent: 0em;&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;使用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;submit()&lt;/code&gt;提交任务&lt;/strong&gt;：对于通过&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;submit()&lt;/code&gt;提交的任务，如果在任务执行中发生异常，这个异常不会直接打印出来。相反，异常会被封装在由&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;submit()&lt;/code&gt;返回的&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;Future&lt;/code&gt;对象中。当调用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;Future.get()&lt;/code&gt;方法时，可以捕获到一个&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; height: auto; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;ExecutionException&lt;/code&gt;。在这种情况下，线程不会因为异常而终止，它会继续存在于线程池中，准备执行后续的任务。&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;简单来说：使用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;execute()&lt;/code&gt;时，未捕获异常导致线程终止，线程池创建新线程替代；使用&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;submit()&lt;/code&gt;时，异常被封装在&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;Future&lt;/code&gt;中，线程继续复用。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;这种设计允许&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;submit()&lt;/code&gt;提供更灵活的错误处理机制，因为它允许调用者决定如何处理异常，而&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); font-size: 14px; line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;execute()&lt;/code&gt;则适用于那些不需要关注执行结果的场景。&lt;/p&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;execute()提交&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;查看execute方法的执行逻辑&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 656.99px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvzgF5X9VyaKicibUibXwkp50hzljAety8PQkUB9eJQIzaRZeYlF2kGhRSA/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;17&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvzgF5X9VyaKicibUibXwkp50hzljAety8PQkUB9eJQIzaRZeYlF2kGhRSA/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;1.0138888888888888&quot; data-imgfileid=&quot;100000857&quot;&gt;&lt;figcaption style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(136, 136, 136); font-size: 14px; line-height: 1.5em; letter-spacing: 0em; text-align: center;&quot;&gt;java.util.concurrent.ThreadPoolExecutor#runWorker&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 656.99px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvBmicts20Z5I3MzDdrjlnB7kjSnncqCHQ3BqSvUMBic3CsC6RqUYLyGHg/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;18&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvBmicts20Z5I3MzDdrjlnB7kjSnncqCHQ3BqSvUMBic3CsC6RqUYLyGHg/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.8268518518518518&quot; data-imgfileid=&quot;100000856&quot;&gt;&lt;figcaption style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(136, 136, 136); font-size: 14px; line-height: 1.5em; letter-spacing: 0em; text-align: center;&quot;&gt;java.util.concurrent.ThreadPoolExecutor#processWorkerExit&lt;/figcaption&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;可以发现，如果抛出异常，execute()提交的方式会移除抛出异常的线程，创建新的线程。&lt;/p&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block;&quot;&gt;submit()提交&lt;/span&gt;&lt;/h4&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 656.99px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv1K1FRelAgq0O2f60zQH4yUOlDkZBibEprNSMRsoicZr1WOIDIiblZenyQ/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;19&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv1K1FRelAgq0O2f60zQH4yUOlDkZBibEprNSMRsoicZr1WOIDIiblZenyQ/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.2824074074074074&quot; data-imgfileid=&quot;100000854&quot;&gt;&lt;figcaption style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(136, 136, 136); font-size: 14px; line-height: 1.5em; letter-spacing: 0em; text-align: center;&quot;&gt;java.util.concurrent.AbstractExecutorService#submit(java.lang.Runnable)&lt;/figcaption&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;可以发现，submit也是调用了execute方法，但是在调用之前,包装了一层 RunnableFuture，那一定是在RunnableFuture的实现 FutureTask中有特殊处理了，我们查看源码可以发现。&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 656.99px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvy4vgqSJqOfjmKo9I6c3WsoxicPXAxDR9rpHKg325LXhfOa6pTvwFxBg/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;20&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvy4vgqSJqOfjmKo9I6c3WsoxicPXAxDR9rpHKg325LXhfOa6pTvwFxBg/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.774074074074074&quot; data-imgfileid=&quot;100000855&quot;&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; visibility: visible !important; width: 657px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv59zhrx8ib68ic1SEx6apHibiceibhsRUllOSOhqYOvCqOJsyGd6QJ9kg3Mg/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;21&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv59zhrx8ib68ic1SEx6apHibiceibhsRUllOSOhqYOvCqOJsyGd6QJ9kg3Mg/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.2953703703703704&quot; data-imgfileid=&quot;100000860&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; visibility: visible !important; width: 657px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvNKuXNh0GFpg65515YkPNGBXEHhIMyH7gicYnhXlz3z2vcROMdHZOd5Q/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;22&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvNKuXNh0GFpg65515YkPNGBXEHhIMyH7gicYnhXlz3z2vcROMdHZOd5Q/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.2064814814814815&quot; data-imgfileid=&quot;100000858&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; visibility: visible !important; width: 657px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; class=&quot;&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvndtPh0GR2HtoBxhtyQdUgGR2MibovWIby4efjKjqbrjlCicRexn0s68g/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;23&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;&quot; data-w=&quot;1080&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvndtPh0GR2HtoBxhtyQdUgGR2MibovWIby4efjKjqbrjlCicRexn0s68g/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-ratio=&quot;0.275&quot; data-imgfileid=&quot;100000859&quot;&gt;但是，&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;也就是说，通过java.util.concurrent.FutureTask#get()，就可以获取对应的异常信息。&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-448.5" y="19090" width="1550" height="900" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-17" value="&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;线程池是如何保活和回收的&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;线程池的作用就是提高线程的利用率，需要线程时，可以直接从线程池中获取线程直接使用，而不用创建线程，那线程池中的线程，在没有任务执行时，是如何保活的呢?&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;在runWorker方法里，线程会循环getTask()获取阻塞队列中的任务。&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 640px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-order=&quot;1&quot; class=&quot;__bg_gif&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv8n6VPTDRb54EErH6lPp64jrAuk5yVoVTurwSticiaa2eGqhZAdp8yAmQ/640?wx_fmt=gif&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;24&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1079&quot; data-type=&quot;gif&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfv8n6VPTDRb54EErH6lPp64jrAuk5yVoVTurwSticiaa2eGqhZAdp8yAmQ/640?wx_fmt=gif&amp;amp;from=appmsg&quot; data-ratio=&quot;0.40222428174235403&quot; data-imgfileid=&quot;100000862&quot;&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;不断地的从阻塞队列中获取任务，主要调用的是workQueue.poll()方法或take()， 这两个方法都会阻塞式的从队列中获取元素，区别是poll()方法可以设置一个超时时间， take()不能设置超时时间，所以这也间接的使得线程池中的线程阻塞等待从而达到保活的效果。&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 640px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-order=&quot;2&quot; class=&quot;__bg_gif&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvQTX47r3iadUDdZe2NJc0eD4E6QmzIAJiaVoksqn4c1y2onTJFAWAJMng/640?wx_fmt=gif&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;25&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1079&quot; data-type=&quot;gif&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvQTX47r3iadUDdZe2NJc0eD4E6QmzIAJiaVoksqn4c1y2onTJFAWAJMng/640?wx_fmt=gif&amp;amp;from=appmsg&quot; data-ratio=&quot;0.4272474513438369&quot; data-imgfileid=&quot;100000861&quot;&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;当然并不是线程池中的所有线程都需要一直保活，比如只有核心线程需要保活，非核心线程就不需要保活,那非核心线程是怎么回收的呢?&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;底层是这样的，当一个线程处理完当前任务后，就会开始去阻塞队列中获取任务，只不过，在调用poll或take方法之前， 会判断当前线程池中有多少个线程，如果多余核心线程数(也就是wc &amp;gt; corePlloSize)，那么timed为true，此时当前线程就会调用poll()并设置超时时间来获取阻塞队列中的任务,这样一旦时间到了还没有获取到任务，那么poll方法获取到的r就是null，返回给上一级，runWorker()里的getTask方法就获取到null了，此时while循环就会退出。那么就会调用processWorkerExit()方法，remove当前线程&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; object-fit: fill; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; visibility: visible !important; width: 640px !important;&quot; data-fail=&quot;0&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-order=&quot;3&quot; class=&quot;__bg_gif&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvHgcy07RccVocwe9gpTWkaiaicYPdA2gc6YnYgJtstDS6jDWiaksmiaAyXQ/640?wx_fmt=gif&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-index=&quot;26&quot; data-original-style=&quot;display: block;margin-right: auto;margin-left: auto;border-style: none;border-width: 3px;border-color: rgba(0, 0, 0, 0.4);border-radius: 0px;object-fit: fill;box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px;&quot; data-w=&quot;1079&quot; data-type=&quot;gif&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/Ftjp8CozjWanydAibYFcgWkBc7kKhiaZfvHgcy07RccVocwe9gpTWkaiaicYPdA2gc6YnYgJtstDS6jDWiaksmiaAyXQ/640?wx_fmt=gif&amp;amp;from=appmsg&quot; data-ratio=&quot;0.7442075996292864&quot; data-imgfileid=&quot;100000867&quot;&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;这里其实可以看到timed还有一个参数，allowCoreThreadTimeOut，这个主要是用来控制核心线程是否可以回收，默认是false，上面是讨论默认值false的情况，即核心线程不会超时。如果为true，工作线程可以全部销毁&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;实际上，虽然有核心线程数，但线程并没有区分是核心还是非核心，并不是先创建的就是核心，超过核心线程数后创建的就是非核心，最终保留哪些线程，完全随机。&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;线程池的关闭&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;shutdown方法会将线程池的状态设置为SHUTDOWN，线程池进入这个状态后，就拒绝再接受任务,然后会将剩余的任务全部执行完&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;shutdown&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//检查是否可以关闭线程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;checkShutdownAccess();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置线程池状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;advanceRunState(SHUTDOWN);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//尝试中断worker&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;interruptIdleWorkers();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//预留方法,留给子类实现&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;onShutdown();&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&amp;nbsp;hook&amp;nbsp;for&amp;nbsp;ScheduledThreadPoolExecutor&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tryTerminate();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;interruptIdleWorkers&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;interruptIdleWorkers(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;interruptIdleWorkers&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;boolean&lt;/span&gt;&amp;nbsp;onlyOne)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//遍历所有的worker&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(Worker&amp;nbsp;w&amp;nbsp;:&amp;nbsp;workers)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Thread&amp;nbsp;t&amp;nbsp;=&amp;nbsp;w.thread;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//先尝试调用w.tryLock(),如果获取到锁,就说明worker是空闲的,就可以直接中断它&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//注意的是,worker自己本身实现了AQS同步框架,然后实现的类似锁的功能&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//它实现的锁是不可重入的,所以如果worker在执行任务的时候,会先进行加锁,这里tryLock()就会返回false&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(!t.isInterrupted()&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;w.tryLock())&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;t.interrupt();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&amp;nbsp;(SecurityException&amp;nbsp;ignore)&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&amp;nbsp;(onlyOne)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;break&lt;/span&gt;;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;shutdownNow做的比较绝，它先将线程池状态设置为STOP，然后拒绝所有提交的任务。最后中断左右正在运行中的worker,然后清空任务队列。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;List&amp;lt;Runnable&amp;gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;shutdownNow&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;List&amp;lt;Runnable&amp;gt;&amp;nbsp;tasks;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;checkShutdownAccess();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//检测权限&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;advanceRunState(STOP);&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//中断所有的worker&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;interruptWorkers();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//清空任务队列&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tasks&amp;nbsp;=&amp;nbsp;drainQueue();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tryTerminate();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;tasks;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;interruptWorkers&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&amp;nbsp;ReentrantLock&amp;nbsp;mainLock&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;.mainLock;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.lock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//遍历所有worker，然后调用中断方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&amp;nbsp;(Worker&amp;nbsp;w&amp;nbsp;:&amp;nbsp;workers)&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w.interruptIfStarted();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&amp;nbsp;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mainLock.unlock();&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-408.5" y="20400" width="1550" height="2460" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-20" value="&lt;div&gt;&lt;b&gt;当线程池里存活的线程数小于核心线程数corePoolSize时，这时对于一个新提交的任务，线程池会创建一个线程去处理任务。当线程池里面存活的线程数小于等于核心线程数corePoolSize时，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;线程池里面的线程会一直存活着，就算空闲时间超过了keepAliveTime，线程也不会被销毁，而是一直阻塞在那里一直等待任务队列的任务来执行。因为keepAliveTime只对非核心线程有效。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当线程池里面存活的线程数已经等于corePoolSize了，这是对于一个新提交的任务，会被放进任务队列workQueue排队等待执行。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当线程池里面存活的线程数已经等于corePoolSize了，并且任务队列也满了，假设maximumPoolSize&amp;gt;corePoolSize，这时如果再来新的任务，线程池就会继续创建新的线程来处理新的任务，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;直到线程数达到maximumPoolSize，就不会再创建了。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;如果当前的线程数达到了maximumPoolSize，并且任务队列也满了，如果还有新的任务过来，那就直接采用拒绝策略进行处理。默认的拒绝策略是抛出一个RejectedExecutionException异常。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="5280" width="1050" height="100" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-21" value="&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;不推荐使用Executors来创建线程池，这是为了让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;FixedThreadPool:&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;固定线程数的线程池。任何时间点，最多只有 nThreads 个线程处于活动状态执行任务。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;ExecutorService&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;newFixedThreadPool&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;nThreads)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ThreadPoolExecutor(nThreads,&amp;nbsp;nThreads,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0L&lt;/span&gt;,&amp;nbsp;TimeUnit.MILLISECONDS,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;LinkedBlockingQueue&amp;lt;Runnable&amp;gt;());&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;为什么不建议使用？&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;使用无界队列 LinkedBlockingQueue&lt;/strong&gt;（队列容量为 Integer.MAX_VALUE），运行中的线程池不会拒绝任务，即不会调用RejectedExecutionHandler.rejectedExecution()方法。maxThreadPoolSize 是无效参数，故将它的值设置为与 coreThreadPoolSize 一致。&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;当添加任务的速度大于线程池处理任务的速度，可能会在队列堆积大量的请求，消耗很大的内存，甚至导致OOM。&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;keepAliveTime 也是无效参数，设置为0L，因为此线程池里所有线程都是核心线程，核心线程不会被回收（除非设置了executor.allowCoreThreadTimeOut(true)）。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;适用场景：适用于处理CPU密集型的任务，确保CPU在长期被工作线程使用的情况下，尽可能的少的分配线程，即适用执行长期的任务。需要注意的是，FixedThreadPool 不会拒绝任务，在任务比较多的时候会导致 OOM。&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;SingleThreadExecutor&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;只有一个线程的线程池。&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;ExecutionService&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;newSingleThreadExecutor&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ThreadPoolExecutor(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0L&lt;/span&gt;,&amp;nbsp;TimeUnit.MILLISECONDS,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;LinkedBlockingQueue&amp;lt;Runnable&amp;gt;());&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;为什么不建议使用？&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;使用无界队列 LinkedBlockingQueue&lt;/strong&gt;。线程池只有一个运行的线程，新来的任务放入工作队列，线程处理完任务就循环从队列里获取任务执行。保证顺序的执行各个任务。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;适用场景：适用于串行执行任务的场景，一个任务一个任务地执行。在任务比较多的时候也是会导致 OOM。&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;CachedThreadPool&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;static&lt;/span&gt;&amp;nbsp;ExecutorService&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;newCachedThreadPool&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;()&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;ThreadPoolExecutor(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;,&amp;nbsp;Integer.MAX_VALUE,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;60L&lt;/span&gt;,&amp;nbsp;TimeUnit.SECONDS,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;SynchronousQueue&amp;lt;Runnable&amp;gt;());&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;为什么不建议使用？&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;core是0，&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;最大线程数是Integer.MAX_VALUE&lt;/strong&gt;，因此当添加任务的速度大于线程池处理任务的速度，可能会创建大量的线程，极端情况下，这样会导致耗尽 cpu 和内存资源，甚至导致OOM。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;使用没有容量的SynchronousQueue作为线程池工作队列，当线程池有空闲线程时，SynchronousQueue.offer(Runnable task)提交的任务会被空闲线程处理，否则会创建新的线程处理任务。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;适用场景：用于并发执行大量短期的小任务。CachedThreadPool允许创建的线程数量为 Integer.MAX_VALUE ，可能会创建大量线程，从而导致 OOM。&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgb(255, 255, 255); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -11px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; background-image: linear-gradient(45deg, transparent 48%, rgb(37, 132, 181) 48%, rgb(37, 132, 181) 52%, transparent 52%); align-items: unset; background-attachment: scroll; background-clip: border-box; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; height: 30px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 30px; -webkit-box-reflect: unset;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 2px 10px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(37, 132, 181); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; border-style: none none solid; border-width: 1px 1px 2px; border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;ScheduledThreadPoolExecutor&lt;/span&gt;&lt;/h3&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVbvLiauX5K4xMwYKt2rfia12QAumQicqpo2jlG4yng8t0CAHlFopAibzu5qZkSXq9kRfm1ROUvZgCaGw/640?wx_fmt=svg&amp;amp;from=appmsg&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;public&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;ScheduledThreadPoolExecutor&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;(&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&amp;nbsp;corePoolSize)&lt;/span&gt;&amp;nbsp;&lt;/span&gt;{&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;(corePoolSize,&amp;nbsp;Integer.MAX_VALUE,&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;,&amp;nbsp;NANOSECONDS,&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&amp;nbsp;DelayedWorkQueue());&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;在给定的延迟后运行任务，或者定期执行任务。&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;为什么不建议使用？&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, &amp;quot;Microsoft YaHei&amp;quot;, PingFangSC-regular, serif; font-size: 16px; letter-spacing: 0em; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); line-height: 1.8em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(37, 132, 181); background-attachment: scroll; background-clip: border-box; background-image: none; background-origin: padding-box; background-position: 0% 0%; background-repeat: no-repeat; background-size: auto; width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px;&quot;&gt;最大线程数是Integer.MAX_VALUE&lt;/strong&gt;，因此当添加任务的速度大于线程池处理任务的速度，可能会创建大量的线程，极端情况下，这样会导致耗尽 cpu 和内存资源，甚至导致OOM。&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-360" y="23190" width="1550" height="1700" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-22" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Executor: 最顶层的 Executor 接口只提供了一个 execute 接口，实现了提交任务与执行任务的解藕，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个方法是最核心的，此方法最终是由 ThreadPoolExecutor 实现的，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1063" y="-4110" width="560" height="40" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-23" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;ExecutorService 扩展了 Executor 接口，实现了终止执行器，单个/批量提交任务等方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1058" y="-4022" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-24" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractExecutorService 实现了 ExecutorService 接口，实现了除 execute 以外的所有方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;只将一个最重要的 execute 方法交给 ThreadPoolExecutor 实现。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="282" y="-4005" width="540" height="40" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-25" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;提交任务&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="96.75" y="7050" width="147" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="103.75" y="6950" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-27" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程数是否小于核心线程数&lt;/b&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="72.5" y="7260" width="195.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-28" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;阻塞队列已满？&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="69" y="7372" width="203.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程数是否大于最大线程数&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="64" y="7484" width="215.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;创建线程执行&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" vertex="1" parent="1">
          <mxGeometry x="322" y="7270" width="183" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;添加到工作队列等待线程获取执行&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6a00ff;fontColor=#ffffff;strokeColor=#3700CC;" vertex="1" parent="1">
          <mxGeometry x="322.5" y="7382" width="182" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行拒绝策略&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d80073;fontColor=#ffffff;strokeColor=#A50040;" vertex="1" parent="1">
          <mxGeometry x="322" y="7494" width="193" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;开始&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="130.25" y="6965" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-35" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;线程池是否处于运行中&lt;/b&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="72" y="7140" width="195.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-47" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="267" y="7260" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-51" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="267" y="7362" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-27" target="03WI8HMyUeB6UVWAtxp1-31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="502" y="7068" as="sourcePoint" />
            <mxPoint x="942" y="7128" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-54" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-28" target="03WI8HMyUeB6UVWAtxp1-32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="275.5" y="7584" as="sourcePoint" />
            <mxPoint x="325.5" y="7534" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-55" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-29" target="03WI8HMyUeB6UVWAtxp1-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="275.5" y="7584" as="sourcePoint" />
            <mxPoint x="325.5" y="7534" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-27" target="03WI8HMyUeB6UVWAtxp1-28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="271" y="7602" as="sourcePoint" />
            <mxPoint x="321" y="7552" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-28" target="03WI8HMyUeB6UVWAtxp1-29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="271" y="7602" as="sourcePoint" />
            <mxPoint x="321" y="7552" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-58" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="271" y="7462" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-59" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="123" y="7342" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-60" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="123" y="7454" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-61" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="117" y="7564" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-62" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-35" target="03WI8HMyUeB6UVWAtxp1-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-193" y="7280" as="sourcePoint" />
            <mxPoint x="-143" y="7230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-63" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-25" target="03WI8HMyUeB6UVWAtxp1-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7320" as="sourcePoint" />
            <mxPoint x="36" y="7270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-64" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-26" target="03WI8HMyUeB6UVWAtxp1-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7320" as="sourcePoint" />
            <mxPoint x="36" y="7270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;创建工作线程执行任务&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="88.87" y="7600" width="165.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;结束&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="103.75" y="7702" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-69" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-66" target="03WI8HMyUeB6UVWAtxp1-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7610" as="sourcePoint" />
            <mxPoint x="36" y="7560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-70" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-29" target="03WI8HMyUeB6UVWAtxp1-66">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7610" as="sourcePoint" />
            <mxPoint x="36" y="7560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-71" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-31" target="03WI8HMyUeB6UVWAtxp1-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7460" as="sourcePoint" />
            <mxPoint x="36" y="7410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="626" y="7300" />
              <mxPoint x="626" y="7730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;任务拒绝&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="322.5" y="7150" width="193" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-74" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-35" target="03WI8HMyUeB6UVWAtxp1-73">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7460" as="sourcePoint" />
            <mxPoint x="36" y="7410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-75" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-73" target="03WI8HMyUeB6UVWAtxp1-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7460" as="sourcePoint" />
            <mxPoint x="36" y="7410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="626" y="7180" />
              <mxPoint x="626" y="7732" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-32" target="03WI8HMyUeB6UVWAtxp1-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7460" as="sourcePoint" />
            <mxPoint x="246" y="7740" as="targetPoint" />
            <Array as="points">
              <mxPoint x="626" y="7410" />
              <mxPoint x="626" y="7730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-77" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-33" target="03WI8HMyUeB6UVWAtxp1-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-14" y="7460" as="sourcePoint" />
            <mxPoint x="36" y="7410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="626" y="7524" />
              <mxPoint x="626" y="7732" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-78" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="267.5" y="7140" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-79" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="130.25" y="7220" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-80" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RUNNING&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="63" y="15410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-81" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SHUTDOWN&amp;nbsp;&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="287" y="15360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-82" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;STOP&amp;nbsp;&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="287" y="15460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-83" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;TIDYING&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="484.5" y="15420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-84" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;TERMINATED&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;gradientColor=#ea6b66;" vertex="1" parent="1">
          <mxGeometry x="680" y="15420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-86" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="03WI8HMyUeB6UVWAtxp1-80">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-30" y="15440" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-87" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-80" target="03WI8HMyUeB6UVWAtxp1-81">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="15460" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-88" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-80" target="03WI8HMyUeB6UVWAtxp1-82">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="15460" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-89" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-81" target="03WI8HMyUeB6UVWAtxp1-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="15460" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-90" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-82" target="03WI8HMyUeB6UVWAtxp1-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="15460" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-91" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-83" target="03WI8HMyUeB6UVWAtxp1-84">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="15460" as="sourcePoint" />
            <mxPoint x="730" y="15410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-92" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;terminated（）&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="593.5" y="15390" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-93" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;shotDownNow ()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="123" y="15490" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-94" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;shotDown ()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="148" y="15370" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-95" value="&lt;b&gt;&lt;font&gt;拒绝新提交的任务，并停止正在执行的任务，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;线程池工作线程数为0&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="343" y="15515" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-97" value="&lt;b&gt;&lt;font&gt;拒绝新提交的任务，执行工作队列中剩余的任务，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;线程池工作线程数为0&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="328" y="15330" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-98" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;实现动态调整线程池参数&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;setCorePoolSize(int corePoolSize) 调整核心线程池大小&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;setMaximumPoolSize(int maximumPoolSize)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;setKeepAliveTime() 设置线程的存活时间&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="316" y="6950" width="330" height="90" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-99" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;线程监控指标&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;int getCorePoolSize()：获取核心线程数。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;int getLargestPoolSize()：历史峰值线程数。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;int getMaximumPoolSize()：最大线程数(线程池线程容量)。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;int getActiveCount()：当前活跃线程数&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;int getPoolSize()：当前线程池中的线程总数&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BlockingQueuegetQueue() 当前线程池的任务队列，据此可以获取积压任务的总数，getQueue.size()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="662.5" y="6950" width="570" height="130" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-100" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;线程池的预初始化机制&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在线程池创建后，立即创建并启动一定数量的线程，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;即使这些线程暂时还没有任务要执行。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这样做的目的是减少在实际接收到任务时创建线程所需的时间，从而提高响应速度。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;prestartCoreThread()：预初始化一个核心线程。如果核心线程数已经达到了设定的数量，则此方法不会有任何效果。&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;prestartAllCoreThreads()：预初始化所有核心线程，即创建并启动等于核心线程数的线程&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="650" y="7140" width="650" height="130" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-101" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;第一个任务执行完成以后&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="70" y="16632" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-102" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getTask获取任务&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="251" y="16632" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-103" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;allowCoreThreadTimedOut&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;‖&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;工作线程数wc&amp;lt; corePoolSize&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="399" y="16622" width="420" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-104" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;调用poll方法获取任务，传入keepAliveTime存活时间内返回&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="734" y="16552" width="205" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-105" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;调用take方法，会一直阻塞获取任务&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="734.5" y="16712" width="204.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-106" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是否获取到任务&lt;/b&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="991" y="16542" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;线程继续执行获取到的任务&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1031" y="16712" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-108" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b style=&quot;&quot;&gt;processWorkerExit()&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1258" y="16552" width="201" height="60" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-109" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" target="03WI8HMyUeB6UVWAtxp1-101">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="16662" as="sourcePoint" />
            <mxPoint x="550" y="16592" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-110" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-101" target="03WI8HMyUeB6UVWAtxp1-102">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="16642" as="sourcePoint" />
            <mxPoint x="550" y="16592" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-111" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-102" target="03WI8HMyUeB6UVWAtxp1-103">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="16642" as="sourcePoint" />
            <mxPoint x="392" y="16662" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-103" target="03WI8HMyUeB6UVWAtxp1-104">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="619" y="16642" as="sourcePoint" />
            <mxPoint x="669" y="16592" as="targetPoint" />
            <Array as="points">
              <mxPoint x="609" y="16582" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-113" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-103" target="03WI8HMyUeB6UVWAtxp1-105">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="619" y="16642" as="sourcePoint" />
            <mxPoint x="669" y="16592" as="targetPoint" />
            <Array as="points">
              <mxPoint x="609" y="16742" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-114" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-104" target="03WI8HMyUeB6UVWAtxp1-106">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="619" y="16642" as="sourcePoint" />
            <mxPoint x="669" y="16592" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-115" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-105" target="03WI8HMyUeB6UVWAtxp1-107">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="619" y="16642" as="sourcePoint" />
            <mxPoint x="669" y="16592" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-116" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-106" target="03WI8HMyUeB6UVWAtxp1-108">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="641" y="16642" as="sourcePoint" />
            <mxPoint x="691" y="16592" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-107" target="03WI8HMyUeB6UVWAtxp1-102">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1049" y="16832" as="sourcePoint" />
            <mxPoint x="629" y="16742" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1099" y="16822" />
              <mxPoint x="419" y="16822" />
              <mxPoint x="311" y="16822" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="03WI8HMyUeB6UVWAtxp1-106" target="03WI8HMyUeB6UVWAtxp1-107">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="641" y="16792" as="sourcePoint" />
            <mxPoint x="691" y="16742" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-119" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="619" y="16540" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-120" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="556" y="16712" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-121" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1047.5" y="16632" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="03WI8HMyUeB6UVWAtxp1-122" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1208.5" y="16540" width="40" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="aFdEVQMKjbmttWaHHXfw" name="Spring，Springboot">
    <mxGraphModel dx="9745" dy="35085" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="cr02tzGvcxmLTYikKdps-37" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="555.87" y="-22940" width="312.49" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-36" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="808.91" y="-23165" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-27" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1107.6599999999999" y="-23160" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1025.5799999999997" y="-22955" width="363" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-14" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1725.35" y="-25885" width="517" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="578.37" y="-25962" width="495.38" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1708.6100000000001" y="-26000" width="465" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1227.35" y="-25930" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-13" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1578.9099999999999" y="-23520" width="297.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1093.2399999999998" y="-23530" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1034.4099999999999" y="-23360" width="394.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="634.41" y="-23350" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-361" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1506.8600000000001" y="-19530" width="300" height="77" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-67" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1160" y="-2795" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-66" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1160" y="-2875" width="310" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-64" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="753.55" y="-3060" width="288" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="1470" y="-530" width="500" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="1610" y="-530" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="1620" y="-380" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1565" y="1363" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1575" y="1115" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1575" y="835" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="1565" y="585" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-8" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2406" y="455" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2275" y="10" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="1610" y="-230" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1590" y="-80" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2260" y="-90" width="196" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-13" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1600" y="250" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-14" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1960" y="-77.5" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="2240" y="-195" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-16" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="2000" y="-87.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="2225" y="90" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1620" y="-520" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-19" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-21" target="_SVDE998wCgmSqRCzLi5-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1980" y="-380" as="sourcePoint" />
            <mxPoint x="2030" y="-430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-20" value="&lt;b&gt;refresh()&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1725" y="-422" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationConfigServletWebServerApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1510" y="-470" width="440" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-23" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring启动时核心步骤&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="376" y="-1860" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareRefresh&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1650" y="-365" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-25" value="&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;做了一些前置操作，准备好一些属性配置相关的东西，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;后面的其它环节，比如说生成Bean时可能需要用到这些配置&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1810" y="-335" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-26" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ApplicationContext刚创建出来，什么也没有，所以需要做一些准备&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;首先是做一些状态位的变更，表明开始启动了或者刷新了&lt;/span&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;initPropertySources是一个模板方法，本身是一个空实现，是给子类用的&lt;/div&gt;&lt;div style=&quot;&quot;&gt;我们的这个子类就重写了initPropertySources方法会将Servlet相关的配置加入到Environment中，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;这样我们就能从Environment中获取到Servlet相关的配置&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;getEnvironment().validateRequiredProperties()&lt;/div&gt;&lt;div style=&quot;&quot;&gt;这行代码就是校验一些必要的配置属性，我们可以通过&lt;/div&gt;&lt;div style=&quot;&quot;&gt;ConfigurableEnvironment来设置哪些属性是必要的，默认是没有必要的&lt;/div&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1004.3" y="-470" width="550" height="130" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-27" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;obtainFreshBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1625" y="-215" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-28" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;刷新BeanFactory并且获取BeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1825" y="-210" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-29" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;refreshBeanFactory() 和 getBeanFactory() 都是抽象方法，由子类来实现的&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;子类的实现其实很简单，就是给beanFactory设置一个id和返回beanFactory&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;类型为&lt;span style=&quot;background-color: initial;&quot;&gt;DefaultListableBeanFactory&lt;/span&gt;&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1112.5" y="-255" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-30" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1630" y="-65" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-31" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;对BeanFactory做一些配置相关的东西&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;比如添加一些BeanPostProcessor，注册一些PropertyEditor&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;为Bean的生成做准备操作&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1800" y="-20" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-32" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;先给BeanFactory设置了一个ClassLoader，因为BeanFactory是用来创建Bean，需要加载Bean class对象&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;然后设置了一个BeanExpressionResolver，这个是用来解析SpEL表达式的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;然后添加了一个PropertyEditorRegistrar，&lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;作用就是为BeanFactory添加一堆跟资源相关的PropertyEditor&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;PropertyEditor就是进行类型转换的，将一个字符串转成对应的类型&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;添加了一个BeanPostProcessor，也就是&lt;span style=&quot;background-color: initial;&quot;&gt;ApplicationContextAwareProcessor&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;BeanPostProcessor我们都知道会在Bean的生命周期阶段进行回调，是Bean的生命周期一个核心的环节&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;ApplicationContextAwareProcessor这个是用来处理Bean生命周期中的Aware回调有关&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;Bean实现这些接口的时候，在创建的时候Spring会回调这些接口，传入对应的对象&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;beanFactory.ignoreDependencyInterface(EnvironmentAware.class);&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;Bean想注入一个EnvironmentAware对象&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;是不允许的&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;beanFactory.registerResolvableDependency(）&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;跟上面的ignoreDependencyInterface作用相反&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;是来设置依赖注入时Bean的类型所对应的对象&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;又添加了一个BeanPostProcessor：&lt;span style=&quot;background-color: initial;&quot;&gt;ApplicationListenerDetector&lt;/span&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;这个BeanPostProcessor是跟ApplicationListener有关&lt;/div&gt;&lt;div style=&quot;&quot;&gt;他是将单例的ApplicationListener给添加到ApplicationContext中&lt;/div&gt;&lt;div style=&quot;&quot;&gt;再后面就是往BeanFactory里面添加一些跟配置属性相关的单例对象，如果有哪里用到，就可以从BeanFactory中获取到了&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1000" y="-130" width="670" height="300" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-33" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-3" target="_SVDE998wCgmSqRCzLi5-10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1680" y="-190" as="sourcePoint" />
            <mxPoint x="1730" y="-240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-34" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-10" target="_SVDE998wCgmSqRCzLi5-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1680" y="-190" as="sourcePoint" />
            <mxPoint x="1730" y="-240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2260" y="-175" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2288" y="-75" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2004" y="-77.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;添加一些跟配置属性相关的单例对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2220" y="105" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-41" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultListableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1960" y="-37.5" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;接口和对应的注入对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2272" y="25" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-43" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-15" target="_SVDE998wCgmSqRCzLi5-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2240" y="7.5" as="sourcePoint" />
            <mxPoint x="2290" y="-42.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-44" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-12" target="_SVDE998wCgmSqRCzLi5-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2240" y="7.5" as="sourcePoint" />
            <mxPoint x="2290" y="-42.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-45" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.001;entryY=0.373;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-9" target="_SVDE998wCgmSqRCzLi5-41" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2240" y="7.5" as="sourcePoint" />
            <mxPoint x="2290" y="-42.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.136;exitY=0.048;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.004;entryY=0.88;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-17" target="_SVDE998wCgmSqRCzLi5-41" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2240" y="7.5" as="sourcePoint" />
            <mxPoint x="2290" y="-42.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-47" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.623;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-14" target="_SVDE998wCgmSqRCzLi5-11" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2260" as="sourcePoint" />
            <mxPoint x="2310" y="-50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-48" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;postProcessBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1630" y="265" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;invokeBeanFactoryPostProcessors&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1590" y="600" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-50" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;registerBeanPostProcessors&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1630" y="850" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-51" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;initMessageSource&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1630" y="1130" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;initApplicationEventMulticaster&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1595" y="1375" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-53" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2125" y="511" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-54" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2065" y="205" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-55" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2095" y="331" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-56" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1575" y="2035" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-57" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1590" y="1605" width="185" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-58" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1585" y="1815" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-59" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="1635" y="2245" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;onRefresh&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1635" y="1620" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-61" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;registerListeners&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1620" y="1830" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-62" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;finishBeanFactoryInitialization&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1590" y="2050" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;finishRefresh&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1655" y="2260" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-65" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" parent="1" vertex="1">
          <mxGeometry x="357" y="-1735" width="470" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-66" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="389.5" y="-815" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-67" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="402" y="-1765" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-68" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="412" y="-1105" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-69" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="414.5" y="-1584" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-70" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="412" y="-1345" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;configureHeadlessProperty&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="-1559" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="457" y="-1685" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SpringApplication&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="512" y="-1745" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-65" target="_SVDE998wCgmSqRCzLi5-69" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="657" y="-1505" as="sourcePoint" />
            <mxPoint x="707" y="-1555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-76" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;run&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="597" y="-1637" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getRunListeners&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="514.5" y="-1320" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-78" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="499.5" y="-1080" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-79" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="479.5" y="-790" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-80" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="409.5" y="-525" width="340" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-81" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="409.5" y="-265" width="340" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;refreshContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="499.5" y="-500" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;afterRefresh&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="534.5" y="-245" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-88" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-69" target="_SVDE998wCgmSqRCzLi5-70" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="617" y="-1325" as="sourcePoint" />
            <mxPoint x="667" y="-1375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-89" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-70" target="_SVDE998wCgmSqRCzLi5-68" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="617" y="-1325" as="sourcePoint" />
            <mxPoint x="667" y="-1375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-90" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.555;entryY=0.069;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-68" target="_SVDE998wCgmSqRCzLi5-66" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="617" y="-945" as="sourcePoint" />
            <mxPoint x="667" y="-995" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-91" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.537;exitY=0.956;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-66" target="_SVDE998wCgmSqRCzLi5-80" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="617" y="-695" as="sourcePoint" />
            <mxPoint x="667" y="-745" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-92" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-80" target="_SVDE998wCgmSqRCzLi5-81" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="617" y="-325" as="sourcePoint" />
            <mxPoint x="667" y="-375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-93" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-80" target="_SVDE998wCgmSqRCzLi5-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="-210" as="sourcePoint" />
            <mxPoint x="1180" y="-260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-95" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Java资源管理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="157.5" y="-8320" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-96" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="614.5" y="-8015" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-97" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="985" y="-7890" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-98" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;URL&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="644.5" y="-8000" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;URLStreamHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1030" y="-7870" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-101" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="544.5" y="-7890" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-102" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;URLConnection&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="604.5" y="-7875" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-96" target="_SVDE998wCgmSqRCzLi5-101" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="905" y="-7715" as="sourcePoint" />
            <mxPoint x="955" y="-7765" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-104" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-101" target="_SVDE998wCgmSqRCzLi5-97" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="905" y="-7715" as="sourcePoint" />
            <mxPoint x="955" y="-7765" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-105" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;通过URL访问本地文件资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="732" y="-7985" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-108" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;每种协议的URL资源都需要一个对应的一个URLStreamHandler来处理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="735" y="-7965" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-109" value="&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;每种协议的URL资源都需要一个对应的一个URLStreamHandler来处理。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;比如说，http://协议有对应的URLStreamHandler的实现，file://协议的有对应的URLStreamHandler的实现。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Java除了支持http://和file://协议之外，还支持其它的协议&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当在构建URL的时候，会去解析资源的访问协议，根据访问协议找到对应的URLStreamHandler的实现。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;当然，除了Java本身支持的协议之外，我们还可以自己去扩展这个协议，大致只需要两步即可：&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;实现URLConnection，可以通过这个连接读取资源的内容&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;实现URLStreamHandler，通过URLStreamHandler可以获取到URLConnection&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;不过需要注意的是，URLStreamHandler的实现需要放在sun.net.www.protocol.协议名称包下，类名必须是Handler，这也是为什么截图中的实现类名都叫Handler的原因。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;当然如果不放在指定的包下也可以，但是需要实现java.net.URLStreamHandlerFactory接口。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="495" y="-8320" width="940" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-110" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;openConnection&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;setURL&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;parseURL&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1015" y="-7830" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-111" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1275" y="-8065" width="20" height="420" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-113" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1336" y="-8085" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-114" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1625" y="-8095" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-115" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1325" y="-7950" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-116" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1625" y="-7950" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-117" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1325" y="-7825" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-118" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1325" y="-7695" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-119" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1631" y="-7825" width="249" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-120" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;http&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1424.5" y="-8065" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-121" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;https&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1414.5" y="-7920" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-122" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;file&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1414.5" y="-7795" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-124" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ftp&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1424.5" y="-7665" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-125" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;jar&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1729.5" y="-8070" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-126" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;mailto&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1720" y="-7920" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-127" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;netdoc&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1715.5" y="-7800" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-128" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring资源管理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="125" y="-7400" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-130" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="762.5" y="-7210" width="225.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-133" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="245" y="-6900" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-134" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="494.5" y="-6570" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-137" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1240.5" y="-6890" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-138" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="757" y="-7390" width="245.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-139" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="934.5" y="-6570" width="255" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-140" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="735" y="-7020" width="280.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-141" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Resource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="825" y="-7172" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-145" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;InputStreamSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="797.5" y="-7345" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-146" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;FileSystemResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="305" y="-6890" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-148" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="514.5" y="-6555" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-149" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ByteArrayResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1280.5" y="-6870" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-150" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;读取文件系统的资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="402.5" y="-6827" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-151" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Java的标准资源管理的封装，底层就是通过URL来访问资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="160" y="-6590" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-152" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;读取classpath路径下的资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="494.5" y="-6500" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-153" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;读取静态字节数组的数据&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1340.5" y="-6820" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-154" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="829.75" y="-7380" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-155" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;getInputStream()&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1003" y="-7322" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-156" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="827.5" y="-7210" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-157" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="790" y="-7000" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-158" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="957" y="-6545" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-159" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;BeanDefinition包装类&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="940" y="-6492" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-160" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1140.5" y="-6708" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-161" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;InputStreamResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1220.5" y="-6678" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-162" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;读取文件输入流&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1213" y="-6600" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-163" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-138" target="_SVDE998wCgmSqRCzLi5-156" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1135" y="-7000" as="sourcePoint" />
            <mxPoint x="1185" y="-7050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-164" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-130" target="_SVDE998wCgmSqRCzLi5-140" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1135" y="-7000" as="sourcePoint" />
            <mxPoint x="1185" y="-7050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-140" target="_SVDE998wCgmSqRCzLi5-137" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1135" y="-6800" as="sourcePoint" />
            <mxPoint x="1185" y="-6850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-167" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="885" y="-6950" as="sourcePoint" />
            <mxPoint x="1185" y="-6850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-168" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-139" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="885" y="-6950" as="sourcePoint" />
            <mxPoint x="1185" y="-6850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-169" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-134" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="885" y="-6950" as="sourcePoint" />
            <mxPoint x="1185" y="-6850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-170" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-133" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="885" y="-6950" as="sourcePoint" />
            <mxPoint x="1185" y="-6850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-171" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Resource接口继承了InputStreamSource接口，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;而InputStreamSource接口可以获取定义了获取输入流的方法&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="895" y="-7120" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-174" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="345.5" y="-7080" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-175" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;WritableResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="386.5" y="-7040" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-180" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-174" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="915" y="-6980" as="sourcePoint" />
            <mxPoint x="405" y="-6900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-182" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="175" y="-6680" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-183" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;FileUrlResource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="255" y="-6665" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-184" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-182" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="885" y="-6950" as="sourcePoint" />
            <mxPoint x="965" y="-6830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-186" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="416.5" y="-7070" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-187" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-130" target="_SVDE998wCgmSqRCzLi5-174" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="915" y="-6780" as="sourcePoint" />
            <mxPoint x="965" y="-6830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-188" value="&lt;div&gt;&lt;b&gt;Java提供了标准的资源管理方式，但是Spring并没有用，而是自己搞了一套资源管理方式。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;1、资源抽象&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;在Spring中，资源大致被抽象为两个接口&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Resource：可读资源，可以获取到资源的输入流&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;WritableResource：读写资源，除了资源输入流之外，还可以获取到资源的输出流&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Resource接口继承了InputStreamSource接口，而InputStreamSource接口可以获取定义了获取输入流的方法&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Resource有很多实现，但是在实际使用中，可能无法判断使用具体的哪个实现，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以Spring提供了ResourceLoader资源加载器来根据资源的类型来加载资源。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;通过getResource方法，传入一个路径就可以加载到对应的资源，而这个路径不一定是本地文件，可以是任何可加载的路径。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ResourceLoader有个唯一的实现DefaultResourceLoader&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ResourcePatternResolver继承了ResourceLoader&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;通过ResourcePatternResolver提供的方法可以看出，他可以加载多个资源，支持使用通配符的方式，比如classpath*:，就可以加载所有classpath的资源。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ResourcePatternResolver只有一个实现PathMatchingResourcePatternResolver&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Java的标准资源管理：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;URL&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;URLStreamHandler&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Spring的资源管理：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;资源抽象：Resource 、WritableResource&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;资源加载：ResourceLoader 、ResourcePatternResolver&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Spring的资源管理在Spring中用的很多，比如在SpringBoot中，application.yml的文件就是通过ResourceLoader加载成Resource，之后再读取文件的内容的。&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="270" y="-6420" width="880" height="500" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-189" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="805" y="-5850" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-190" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1660.5" y="-5502" width="429.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-191" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="538" y="-5619" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-192" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1145.5" y="-5302" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-193" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="483" y="-5404" width="385" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-194" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1577.5" y="-5302" width="365" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-195" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1240.25" y="-5662" width="375" height="110" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-196" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="890.5" y="-5820" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-197" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ResourcePatternResolver&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="573.5" y="-5589" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-199" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PathMatchingResourcePatternResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="528" y="-5374" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-200" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1327.75" y="-5612" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-201" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ResourceLoader资源加载器来根据资源的类型来加载资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="890" y="-5760" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-202" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;FileSystemResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1190.5" y="-5272" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-203" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PathMatchingResourcePatternResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1602.5" y="-5272" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-204" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletContextResourcePatternResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1730" y="-5462" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-205" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1000.5" y="-5462" width="295" height="75" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-206" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletContextResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1018" y="-5439.5" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-208" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.194;exitY=-0.093;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-201" target="_SVDE998wCgmSqRCzLi5-191" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5652" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5702" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-209" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-191" target="_SVDE998wCgmSqRCzLi5-193" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5652" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5702" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-210" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-189" target="_SVDE998wCgmSqRCzLi5-195" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5652" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5702" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-211" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-195" target="_SVDE998wCgmSqRCzLi5-192" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5452" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5502" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-212" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-195" target="_SVDE998wCgmSqRCzLi5-205" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5452" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5502" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-213" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-195" target="_SVDE998wCgmSqRCzLi5-194" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320.5" y="-5452" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5502" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-214" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_SVDE998wCgmSqRCzLi5-190" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1430.5" y="-5552" as="sourcePoint" />
            <mxPoint x="1370.5" y="-5502" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-215" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;通过getResource方法，传入一个路径就可以加载到对应的资源，而这个路径不一定是本地文件，可以是任何可加载的路径。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourceLoader有个唯一的实现DefaultResourceLoader&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="871" y="-5730" width="680" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-216" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourcePatternResolver可以加载资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1620.5" y="-5589" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-217" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourcePatternResolver继承了ResourceLoader&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;通过ResourcePatternResolver提供的方法可以看出，他可以加载多个资源，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;支持使用通配符的方式，比如classpath*:，就可以加载所有classpath的资源。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourcePatternResolver只有一个实现PathMatchingResourcePatternResolver&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="255.5" y="-5532" width="470" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-218" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;SpringBoot配置文件是通过ResourceLoader来加载配置文件，读取文件的配置内容&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="116" y="-3030" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-219" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="777.5" y="-4495" width="263" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-220" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="398.75" y="-3610" width="185.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-221" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="445.75" y="-4302" width="185.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-222" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="116" y="-4495" width="252.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-223" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="473.25" y="-4730" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-224" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="410" y="-4495" width="323" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-225" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="495.5" y="-4853.5" width="185.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-226" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="560.5" y="-5000" width="185.5" height="63" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-228" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Environment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="526.5" y="-4839.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-229" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="467.5" y="-4292" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-230" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="391.5" y="-3590" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-231" value="&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;SpringBoot是通过PropertySourceLoader来解析配置文件的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;load方法的第二个参数就是我们前面提到的资源接口Resource&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;通过Resource就可以获取到配置文件的输入流，之后就可以读取到配置文件的内容，再把配置文件解析成多个PropertySource，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;之后把PropertySource放入到Environment中，这样我们就可以通过Environment获取到配置文件的内容了。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;PropertySourceLoader默认有两个实现，分别用来解析properties和yml格式的配置文件&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="122" y="-3760" width="710" height="110" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-232" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;PropertyResolver提供的部分方法，这里简单说一下上面方法的作用&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;getProperty(String key)，很明显是通过配置的key获取对应的value值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;getProperty(String key, Class&amp;lt;T&amp;gt; targetType)，这是获取配置，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;并转换成对应的类型，比如你获取的是个字符串的&quot;true&quot;，这里就可以给你转换成布尔值的true，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;具体的底层实现留到下一节讲&lt;span style=&quot;background-color: initial;&quot;&gt;resolvePlaceholders(String text)，&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这类方法可以处理${...}占位符，也就是先取出${...}占位符中的key，然后再通过key获取到值&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所以Environment主要有一下几种功能：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;根据key获取配置&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;获取到指定类型的配置&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;处理占位符&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="76" y="-4990" width="540" height="190" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-233" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="586" y="-4977" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-223" target="_SVDE998wCgmSqRCzLi5-225" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-234" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="481" y="-4720" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-235" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationServletEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="116" y="-4485" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-236" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationReactiveWebEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="410" y="-4485" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-237" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationServletEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="780.5" y="-4485" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-238" value="&lt;b style=&quot;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;PropertySource是真正存配置的地方，属于配置的来源，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b style=&quot;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;它提供了一个统一的访问接口，使得应用程序可以以统一的方式获取配置获取到属性。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="460.5" y="-4252" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-239" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="161.5" y="-4147" width="273.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-240" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MapPropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="204.5" y="-4132" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-242" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="760.5" y="-4172" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-243" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CommandLinePropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="790.5" y="-4157" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-244" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;封装了通过命令启动时的传递的配置参数&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="700.5" y="-4104" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-245" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Environment获取到的配置真正也就是从PropertySource获取的&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="516" y="-4803.5" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_SVDE998wCgmSqRCzLi5-246" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;SpringBoot环境底下，除了我们自定义的配置外，还有比如系统环境配置等等，这些都可以通过Environment获取到&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;当从Environment中获取配置的时候，会去遍历所有的PropertySource，一旦找到配置key对应的值，就会返回&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;所以，如果有多个PropertySource都含有同一个配置项的话，也就是配置key相同，那么获取到的配置是从排在前面的PropertySource的获取的&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;这就是为什么，当你在配置文件配置username属性时获取到的却是系统变量username对应的值，因为系统的PropertySource排在配置文件对应的PropertySource之前&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="112.5" y="-3250" width="920" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring&amp;nbsp; 环境&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="75" y="-5087" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.458;exitY=1.233;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-233" target="_SVDE998wCgmSqRCzLi5-225" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="736" y="-4810" as="sourcePoint" />
            <mxPoint x="786" y="-4860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-3" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;根据key获取配置&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;获取到指定类型的配置&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;处理占位符&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="606" y="-4937" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="451.5" y="-4610" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-7" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractEnvironment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="507" y="-4595" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-8" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-6" target="_SVDE998wCgmSqRCzLi5-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="666" y="-4670" as="sourcePoint" />
            <mxPoint x="716" y="-4720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-9" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-222" target="Agjq1IO1DCSdrjI2zt5C-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="666" y="-4670" as="sourcePoint" />
            <mxPoint x="716" y="-4720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-10" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.536;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-224" target="Agjq1IO1DCSdrjI2zt5C-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="666" y="-4670" as="sourcePoint" />
            <mxPoint x="716" y="-4720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-219" target="Agjq1IO1DCSdrjI2zt5C-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="666" y="-4670" as="sourcePoint" />
            <mxPoint x="716" y="-4720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="792.5" y="-4870" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-16" value="&lt;b&gt;ConfigurablePropertyResolver&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="809.5" y="-4849.5" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="689" y="-4048" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EnumerablePropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="729" y="-4033" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-19" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="460.5" y="-3942" width="256.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-20" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertiesPropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="480.25" y="-3927" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="192.5" y="-4032" width="313.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SystemEnvironmentPropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="199.25" y="-4014" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-23" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="918" y="-5845" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-24" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="638" y="-5619" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-25" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="606" y="-5000" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-26" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="538.25" y="-4857" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-27" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-239" target="_SVDE998wCgmSqRCzLi5-221" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750.5" y="-4032" as="sourcePoint" />
            <mxPoint x="800.5" y="-4082" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-28" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-21" target="_SVDE998wCgmSqRCzLi5-221" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750.5" y="-4032" as="sourcePoint" />
            <mxPoint x="800.5" y="-4082" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-29" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-19" target="_SVDE998wCgmSqRCzLi5-221" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750.5" y="-4032" as="sourcePoint" />
            <mxPoint x="800.5" y="-4082" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-30" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.176;entryY=0.093;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-17" target="_SVDE998wCgmSqRCzLi5-238" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750.5" y="-4032" as="sourcePoint" />
            <mxPoint x="710.5" y="-4172" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-31" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.176;entryY=0.116;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-242" target="_SVDE998wCgmSqRCzLi5-238" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750.5" y="-4032" as="sourcePoint" />
            <mxPoint x="750.5" y="-4172" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-32" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.442;entryY=-0.051;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-15" target="Agjq1IO1DCSdrjI2zt5C-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="876" y="-4700" as="sourcePoint" />
            <mxPoint x="926" y="-4750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-33" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-223" target="Agjq1IO1DCSdrjI2zt5C-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="876" y="-4700" as="sourcePoint" />
            <mxPoint x="926" y="-4750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-34" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="861" y="-4869.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-35" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="141.5" y="-3460" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-36" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="551" y="-3450" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertiesPropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="166.5" y="-3445" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;YamlPropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="588.5" y="-3435" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-40" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-35" target="_SVDE998wCgmSqRCzLi5-220" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="401.5" y="-3500" as="sourcePoint" />
            <mxPoint x="451.5" y="-3550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-41" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-36" target="_SVDE998wCgmSqRCzLi5-220" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="401.5" y="-3500" as="sourcePoint" />
            <mxPoint x="451.5" y="-3550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-42" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="451.5" y="-3607" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-43" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="103" y="-3105" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-44" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="104.62" y="-2930" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-45" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="788.75" y="-2830" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-46" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="788.75" y="-2550" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-47" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="788.75" y="-2680" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-48" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1193" y="-2830" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-49" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="787.18" y="-2930" width="220.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-50" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="782.8" y="-3060" width="221.82" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="138.37" y="-3090" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="118.62" y="-2915" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-53" value="&lt;b&gt;《interface》&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="163" y="-3105" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置文件&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="847.93" y="-2915" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-55" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Resource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="840" y="-2815" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-56" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1198.75" y="-2815" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-57" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="833.25" y="-2665" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Environment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="854.25" y="-2535" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-59" value="&lt;b style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;font style=&quot;forced-color-adjust: none; font-size: 16px;&quot;&gt;ResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="822.05" y="-3060" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-60" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-64" target="Agjq1IO1DCSdrjI2zt5C-49" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="713.9899999999999" y="-2880" as="sourcePoint" />
            <mxPoint x="896.4849999999998" y="-2950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-61" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-49" target="Agjq1IO1DCSdrjI2zt5C-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="-2860" as="sourcePoint" />
            <mxPoint x="750" y="-2910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-62" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;加载&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="854.75" y="-2970" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-63" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-44" target="Agjq1IO1DCSdrjI2zt5C-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="-2870" as="sourcePoint" />
            <mxPoint x="580" y="-2920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="794.05" y="-3010" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertiesPropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1185" y="-2860" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;YamlPropertySourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1198.75" y="-2775" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-70" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-48" target="Agjq1IO1DCSdrjI2zt5C-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1210" y="-2860" as="sourcePoint" />
            <mxPoint x="1260" y="-2910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-71" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-47" target="Agjq1IO1DCSdrjI2zt5C-46" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="971.25" y="-2740" as="sourcePoint" />
            <mxPoint x="1021.25" y="-2790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-45" target="Agjq1IO1DCSdrjI2zt5C-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="-2740" as="sourcePoint" />
            <mxPoint x="1010" y="-2790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-73" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;转换&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="840.5" y="-2735" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-74" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;添加&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="838" y="-2600" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-75" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;读取&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1073" y="-2785" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-76" value="&lt;b&gt;prepareEnvironment&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="764.75" y="-2590" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-77" value="&lt;b&gt;configurePropertySources&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="615" y="-2682" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-78" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="379.75" y="-13728" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-79" value="&lt;b style=&quot;text-align: left;&quot;&gt;Spring类型转换&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="366" y="-13820" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-81" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="428.62" y="-12530" width="279" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-82" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1214.12" y="-12590" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-83" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1234.23" y="-13273" width="184.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-84" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1092.2" y="-13143" width="302.07" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-85" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="480.7500000000001" y="-13284" width="236.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-86" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="599.6300000000001" y="-13154" width="254" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-87" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="854.5400000000001" y="-13393" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-88" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="874.5" y="-13130" width="185" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-89" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="914.0400000000001" y="-13540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-90" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="847.12" y="-12900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-91" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="869" y="-12077" width="167.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-92" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="814.5" y="-11460" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-93" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="993.4999999999999" y="-10685" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-94" value="&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;PropertyEditor&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="904.7900000000001" y="-13532" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-95" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Converter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="851.12" y="-12888" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-97" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericConverter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="871.5" y="-12070" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-98" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="824" y="-11450" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TypeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="984.9999999999999" y="-10670" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-100" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;将String类型的字符串转换成Java对象属性值&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="852.0400000000001" y="-13482" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-101" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@Value注解的方式将配置注入到字段大致步骤&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="239.5" y="-9600" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-102" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1039.12" y="-12350" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-103" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1114.62" y="-12455" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-104" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="369.12" y="-12762" width="259.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-105" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1267.6599999999999" y="-12720" width="276.46" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-106" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="502.87" y="-12440" width="304.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-107" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="686.37" y="-12350" width="288.25" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-108" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="350.37" y="-12640" width="283" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-109" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1110.46" y="-11785" width="260.79" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-110" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1175.5" y="-11920" width="260.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-111" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="663.25" y="-11785" width="230.25" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-112" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="510" y="-11920" width="297.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-114" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;取出@Value配置的key&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;根据@Value配置的key调用Environment的resolvePlaceholders(String text)方法，解析占位符，找到配置文件中对应的值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调用PropertyEditor将对应的值转换成注入的属性字段类型，比如注入的字段类型是数字，那么就会将字符串转换成数字&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;在转换的过程中，Spring会先调用PropertyEditor的setAsText方法将字符串传入，然后再调用getValue方法获取转换后的值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;直接通过@Value的方式直接注入一个Resource对象&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;@Value(&quot;http://www.baidu.com&quot;)&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;private Resource resource;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;其实归根到底，底层也是通过ResourceLoader来加载的&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;b&gt;想知道@Value到底支持注入哪些字段类型的时候，看看PropertyEditor的实现就可以了，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当然如果Spring自带的都不满足你的要求，你可以自己实现PropertyEditor&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;PropertyEditor局限于字符串的转换&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="245" y="-9570" width="680" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-115" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="900.1199999999999" y="-13115" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-116" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;将字符串转换成Resource对象&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="968.75" y="-13060" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-117" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Converter是个接口用于对象之间类型转换，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;泛型S是被转换的对象类型，泛型T是需要被转成的类型&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1011.59" y="-12830" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-118" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;可以处理带有泛型类型的转换，主要的就是面向集合数组转换操作&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="849.5" y="-12017" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-119" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Converter还是GenericConverter，提供了一个门面接口ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;直接通过ConversionService来进行类型转换，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;而不需要面向具体的Converter或者是GenericConverter&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="851.5" y="-11380" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-120" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;是一个门面接口，他也定义了转换方法&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;将PropertyEditor和ConversionService进行整合，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;方便我们同时使用PropertyEditor和ConversionService&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1129" y="-10695" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Agjq1IO1DCSdrjI2zt5C-121" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;类型转换API&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Spring类型转换主要涉及到以下几个api：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;PropertyEditor：String转换成目标类型&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;Converter：用于一个类型转换成另一个类型&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;GenericConverter：用于处理泛型的转换，主要用于集合&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;ConversionService：门面接口，内部会调用Converter和GenericConverter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;TypeConverter：门面接口，内部会调用PropertyEditor和ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="392.5" y="-13813" width="580" height="190" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditorSupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="879.0400000000001" y="-13378" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ByteArrayPropertyEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="628.6300000000001" y="-13141" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-3" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CharacterEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="537.0000000000001" y="-13269" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CharArrayPropertyEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1154.02" y="-13128" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-5" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassArrayEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1249.23" y="-13258" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-84" target="Agjq1IO1DCSdrjI2zt5C-87" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="864.7900000000001" y="-13243" as="sourcePoint" />
            <mxPoint x="914.7900000000001" y="-13293" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-7" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-86" target="Agjq1IO1DCSdrjI2zt5C-87" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="864.7900000000001" y="-13243" as="sourcePoint" />
            <mxPoint x="914.7900000000001" y="-13293" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-8" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-85" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="864.7900000000001" y="-13243" as="sourcePoint" />
            <mxPoint x="984.7900000000001" y="-13333" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-9" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-83" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="864.7900000000001" y="-13243" as="sourcePoint" />
            <mxPoint x="984.7900000000001" y="-13333" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-10" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.495;entryY=-0.114;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-87" target="Agjq1IO1DCSdrjI2zt5C-100" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="864.7900000000001" y="-13243" as="sourcePoint" />
            <mxPoint x="834.7900000000001" y="-13523" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-11" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;PropertyEditor并不是Spring提供的api，而是JDK提供的api，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;作用其实就是将String类型的字符串转换成Java对象属性值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;在转换的过程中，Spring会先调用PropertyEditor的setAsText方法将字符串传入，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;然后再调用getValue方法获取转换后的值。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Spring提供了很多PropertyEditor的实现，可以实现字符串到多种类型的转换&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="373.9999999999999" y="-13580" width="470" height="100" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-12" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Converter是个接口，泛型S是被转换的对象类型，泛型T是需要被转成的类型&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;主要包括日期类型的转换和String类型转换成其它的类型&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="340" y="-12890" width="430" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CalendarToDateConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="396.87" y="-12625" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CalendarToLocalDateConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="700.49" y="-12335" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CalendarToLocalDateTimeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1222.12" y="-12575" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CalendarToLongConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="462.62" y="-12515" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CalendarToZonedDateTimeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="502.87" y="-12425" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-19" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DateTimeToCalendarConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1274.12" y="-12702" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-20" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DateTimeToDateConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="389.12" y="-12747" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-21" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DateTimeToLocalDateTimeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1134.62" y="-12445" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LocalDateTimeToLocalDateConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1063.17" y="-12335" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-107" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="904.12" y="-12770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-106" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="907.12" y="-12840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-81" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="904.12" y="-12840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-26" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-108" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="1044.12" y="-12600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-104" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="1044.12" y="-12600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-102" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="904.12" y="-12830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-103" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="1044.12" y="-12600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-30" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-82" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="1044.12" y="-12600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-31" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-105" target="Agjq1IO1DCSdrjI2zt5C-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="994.12" y="-12550" as="sourcePoint" />
            <mxPoint x="1044.12" y="-12600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-32" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;主要作用是可以处理带有泛型类型的转换，主要的就是面向集合数组转换操作&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;Converter和GenericConverter其实是依赖关系&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="378" y="-12090" width="430" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MapToMapConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="571" y="-11898" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CollectionToArrayConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="659.5" y="-11770" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-35" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationParserConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1140.46" y="-11777" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-36" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CollectionToObjectConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1190.62" y="-11905" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-38" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="844" y="-11660" width="308" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CollectionToCollectionConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="866.59" y="-11645" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-40" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.518;entryY=0.994;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="OZDBB6FNwcegUENohpiK-38" target="Agjq1IO1DCSdrjI2zt5C-97" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1055" y="-11860" as="sourcePoint" />
            <mxPoint x="1105" y="-11910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-41" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.54;entryY=1.086;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-111" target="Agjq1IO1DCSdrjI2zt5C-97" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1055" y="-11860" as="sourcePoint" />
            <mxPoint x="1105" y="-11910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-42" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.284;entryY=0.005;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-112" target="Agjq1IO1DCSdrjI2zt5C-118" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1055" y="-11860" as="sourcePoint" />
            <mxPoint x="1105" y="-11910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-109" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1055" y="-11860" as="sourcePoint" />
            <mxPoint x="955" y="-12020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1055" y="-11860" as="sourcePoint" />
            <mxPoint x="955" y="-12020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-45" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1477.38" y="-10700" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-46" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="941.88" y="-10345" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-47" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1463.38" y="-10547" width="329.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-48" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="936.49" y="-10532" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-49" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1310.25" y="-11470" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-50" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="917.9300000000001" y="-11250" width="289.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-51" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="959.68" y="-10950" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-52" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="958" y="-11100" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-53" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericConversionService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="968" y="-11080" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultConversionService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="969.68" y="-10942" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-55" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableConversionService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="917.9300000000001" y="-11235" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-56" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConverterRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1335" y="-11455" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-57" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Converter还是GenericConverter，其实都是类型转换的，并且类型转换的实现也很多，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Spring为了方便我们使用Converter还是GenericConverter，提供了一个门面接口ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;可以直接通过ConversionService来进行类型转换，而不需要面向具体的Converter或者是GenericConverter&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;ConversionService有一个基本的实现GenericConversionService&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;不直接用GenericConversionService，而是用DefaultConversionService&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;或者是ApplicationConversionService（SpringBoot环境底下使用）&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;因为DefaultConversionService和ApplicationConversionService在创建的时候，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;会添加很多Spring自带的Converter和GenericConverter，就不需要我们手动添加了&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="239.5" y="-11390" width="600" height="230" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-58" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;ConverterRegistry提供了对Converter和GenericConverter进行增删改查的方法。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;往ConversionService中添加Converter或者是GenericConverter了，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;因为最终还是通过Converter和GenericConverter来实现转换的&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1385" y="-11390" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-59" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-51" target="OZDBB6FNwcegUENohpiK-52" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="977" y="-11140" as="sourcePoint" />
            <mxPoint x="1027" y="-11190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-60" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.561;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-52" target="OZDBB6FNwcegUENohpiK-50" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="-11140" as="sourcePoint" />
            <mxPoint x="1010" y="-11190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-61" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-50" target="OZDBB6FNwcegUENohpiK-49" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="-11140" as="sourcePoint" />
            <mxPoint x="1010" y="-11190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-62" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-50" target="Agjq1IO1DCSdrjI2zt5C-92" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="-11140" as="sourcePoint" />
            <mxPoint x="1010" y="-11190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-63" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;将PropertyEditor和ConversionService进行整合，方便我们同时使用PropertyEditor和ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;convertIfNecessary方法会去调用PropertyEditor和ConversionService进行类型转换，值得注意的是，优先使用PropertyEditor进行转换，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;如果没有找到对应的PropertyEditor，会使用ConversionService进行转换&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;TypeConverter有个简单的实现SimpleTypeConverter&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="239.5" y="-10670" width="770" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-64" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TypeConverterSupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="967.37" y="-10517" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditorRegistrySupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1497.4700000000003" y="-10532" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleTypeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="966.88" y="-10327" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditorRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1522.88" y="-10685" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-69" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-46" target="OZDBB6FNwcegUENohpiK-48" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1002.38" y="-10515" as="sourcePoint" />
            <mxPoint x="1052.38" y="-10565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-70" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-48" target="Agjq1IO1DCSdrjI2zt5C-93" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1002.38" y="-10515" as="sourcePoint" />
            <mxPoint x="1052.38" y="-10565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-71" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1.018;exitY=0.515;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="OZDBB6FNwcegUENohpiK-64" target="OZDBB6FNwcegUENohpiK-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1002.38" y="-10515" as="sourcePoint" />
            <mxPoint x="1052.38" y="-10565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-47" target="OZDBB6FNwcegUENohpiK-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1002.38" y="-10515" as="sourcePoint" />
            <mxPoint x="1052.38" y="-10565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-73" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Agjq1IO1DCSdrjI2zt5C-88" target="Agjq1IO1DCSdrjI2zt5C-87" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1431" y="-13293" as="sourcePoint" />
            <mxPoint x="1481" y="-13343" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-74" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="439" y="-10040" width="1117" height="330" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-75" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TypeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="871.5" y="-10030" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-77" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="522.5" y="-9970" width="323.5" height="230" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-78" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="944" y="-9980" width="542" height="230" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-79" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="988" y="-9930" width="218" height="150" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-80" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1243" y="-9930" width="218" height="150" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-81" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConversionService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1076.5" y="-9970" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="580.5" y="-9890" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-83" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericConverter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1276" y="-9880" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-84" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Converter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1043.5" y="-9870" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-85" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;PropertyEditor：String转换成目标类型&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Converter：用于一个类型转换成另一个类型&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;GenericConverter：用于处理泛型的转换，主要用于集合&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ConversionService：门面接口，内部会调用Converter和GenericConverter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;TypeConverter：门面接口，内部会调用PropertyEditor和ConversionService&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="267.62" y="-10172" width="440" height="90" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-90" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="932.3" y="-8960" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-91" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="594.8700000000001" y="-8560" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-92" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="270.37" y="-8640" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-93" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="270.37" y="-8760" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-94" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="594.8700000000001" y="-8710" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-95" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="598.0000000000001" y="-8862" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-96" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="602.3700000000001" y="-9080" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-97" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="602.0000000000001" y="-9240" width="262" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-98" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@Value(&quot;Key&quot;)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="657.41" y="-9212" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Key&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="690.78" y="-9060" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-100" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置value&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="686.5" y="-8842" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-102" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TypeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="672.87" y="-8690" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-103" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="299.37" y="-8732" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-105" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConversionService&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="295.12" y="-8620" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-106" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;符合字段类型&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="655.19" y="-8532" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Environment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="981.3" y="-8940" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-108" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-97" target="OZDBB6FNwcegUENohpiK-96" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-9010" as="sourcePoint" />
            <mxPoint x="1206.37" y="-9060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-109" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-96" target="OZDBB6FNwcegUENohpiK-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-9010" as="sourcePoint" />
            <mxPoint x="1206.37" y="-9060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-110" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;处理占位符&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;获取配置值&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="924.3000000000001" y="-9030" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-111" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;取出key&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="731.37" y="-9142" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-90" target="OZDBB6FNwcegUENohpiK-95" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-8810" as="sourcePoint" />
            <mxPoint x="1206.37" y="-8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-113" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;获取到配置值&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="896.37" y="-8832" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-114" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-95" target="OZDBB6FNwcegUENohpiK-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-8810" as="sourcePoint" />
            <mxPoint x="1206.37" y="-8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-115" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-94" target="OZDBB6FNwcegUENohpiK-91" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-8810" as="sourcePoint" />
            <mxPoint x="1206.37" y="-8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-116" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;类型转换&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="741.37" y="-8772" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-117" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;转换&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="721.37" y="-8612" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-92" target="OZDBB6FNwcegUENohpiK-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="676.37" y="-8720" as="sourcePoint" />
            <mxPoint x="1206.37" y="-8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-119" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-93" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1156.37" y="-8810" as="sourcePoint" />
            <mxPoint x="596.37" y="-8670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-120" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Environment中到底是如何进行类型转换的，让我们看看Environment类的接口体系&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Environment有个子接口ConfigurableEnvironment中，前面也提到过&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;它继承了ConfigurablePropertyResolver接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;而ConfigurablePropertyResolver有一个setConversionService方法&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Environment底层实际上是通过ConversionService实现类型转换的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这其实也就造成了一个问题，因为ConversionService和PropertyEditor属于并列关系，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;那么就会导致Environment无法使用PropertyEditor来进行类型转换，也就会丧失部分Spring提供的类型转换功能，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;就比如无法通过Environment将String转换成Resource对象，因为Spring没有实现String转换成Resource的Converter&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1214" y="-9040" width="660" height="190" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-121" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring&amp;nbsp; 数据绑定&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="436.37" y="-16160" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-122" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;数据绑定的核心api主要包括以下几个：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;PropertyValues&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;BeanWrapper&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot; color=&quot;#007fff&quot;&gt;DataBinder&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="615.87" y="-16070" width="300" height="110" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-126" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="882.4999999999999" y="-15545" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-127" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1137.9299999999998" y="-15655" width="372.07" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-128" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="569" y="-15652" width="321" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-129" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="593.25" y="-14340" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-130" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="592.5" y="-15250" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-131" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="863.5" y="-15940" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-132" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyValues&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="917" y="-15915" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-133" value="&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;PropertyValue就是就是封装了属性名和对应的属性值，它就是数据绑定时属性值的来源。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;以前面的提到的xml创建Bean为例，Spring在启动的时候会去解析xml中的&amp;lt;property/&amp;gt;标签，然后将name和value封装成PropertyValue&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;当创建User这个Bean的时候，到了属性绑定的阶段的时候，就会取出PropertyValue，设置到User的username属性上。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;而PropertyValues，比PropertyValue多了一个s，也就是复数的意思，所以其实PropertyValues本质上就是PropertyValue的一个集合&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;因为一个Bean可能有多个属性配置，所以就用PropertyValues来保存。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="746.87" y="-15842" width="750" height="130" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-134" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanWrapper&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="668.5" y="-15225" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-136" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanWrapper其实就数据绑定的核心api了，因为在Spring中涉及到数据绑定都是通过BeanWrapper来完成的，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;比如前面提到的Bean的属性的绑定，就是通过BeanWrapper来的&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanWrapper是一个接口，他有一个唯一的实现BeanWrapperImpl&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot; style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanWrapperImpl也间接实现了TypeConverter接口&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;当然底层还是通过前面提到的ConversionService和PropertyEditor实现的&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;所以当配置的类型跟属性的类型不同时，就可以对配置的类型进行转换，然后再绑定到属性上&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="821.5" y="-14940" width="820" height="210" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-137" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;数据绑定和@Value的异同，因为这两者看起来好像是一样的，但实际还是有点区别的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;相同点：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;两者都会涉及到类型转换，@Value和数据绑定都会将值转换成目标属性对应的类型，并且都是通过TypeConverter来转换的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;不同点：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;1、发生时机不同，@Value比数据绑定更早，当@Value都注入完成之后才会发生数据绑定(属性赋值)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;2、属性赋值方式不同，@Value是通过反射来的，而是数据绑定是通过setter方法来的，如果没有setter方法，属性是没办法绑定的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="874.5" y="-9352" width="710" height="140" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-138" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;底层也是间接通过BeanWrapper来实现的数据绑定的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;相比于BeanWrapper多了一些功能，比如在数据绑定之后，可以对数据校验&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;SpringMVC的参数校验就是通过DataBinder来的，所以DataBinder其实在SpringMVC中用的比较多，但是在Spring中确用的很少&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;SpringMVC中关于请求参数处理的HandlerMethodArgumentResolver的实现，里面有的实现会用到DataBinder（WebDataBinder）&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;来进行数据请求参数跟实体类的数据绑定、类型转换、数据校验等等。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="852.13" y="-14290" width="740" height="90" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-139" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DataBinder&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="665.75" y="-14315" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-143" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="800.5" y="-14530" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-144" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="458.7099999999999" y="-14530" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-145" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="589" y="-15030" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-150" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="795.38" y="-14120" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-151" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="398.7499999999999" y="-14120" width="250" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-152" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationPropertyValuesAdapter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="591.37" y="-15627" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-153" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletRequestParameterPropertyValues&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1148" y="-15630" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-154" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MutablePropertyValues&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="912.5" y="-15515" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-155" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-128" target="OZDBB6FNwcegUENohpiK-131" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="-15535" as="sourcePoint" />
            <mxPoint x="1180" y="-15585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-156" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-126" target="OZDBB6FNwcegUENohpiK-131" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="-15535" as="sourcePoint" />
            <mxPoint x="1180" y="-15585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-157" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-127" target="OZDBB6FNwcegUENohpiK-131" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="-15535" as="sourcePoint" />
            <mxPoint x="1180" y="-15585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-158" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanWrapperImpl&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="634" y="-15005" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-159" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-145" target="OZDBB6FNwcegUENohpiK-130" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="977.5000000000001" y="-15150" as="sourcePoint" />
            <mxPoint x="1007.5000000000001" y="-15220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-160" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertyEditorRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="483.84000000000003" y="-14505" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-161" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;TypeConverter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860.96" y="-14510" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-162" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletRequestDataBinder&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="414" y="-14095" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-163" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;WebRequestDataBinder&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="822.75" y="-14100" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-164" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-129" target="OZDBB6FNwcegUENohpiK-144" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1099.38" y="-14370" as="sourcePoint" />
            <mxPoint x="1149.38" y="-14420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-129" target="OZDBB6FNwcegUENohpiK-143" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1099.38" y="-14370" as="sourcePoint" />
            <mxPoint x="1149.38" y="-14420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-166" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-151" target="OZDBB6FNwcegUENohpiK-129" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1099.38" y="-14370" as="sourcePoint" />
            <mxPoint x="1149.38" y="-14420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-167" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-150" target="OZDBB6FNwcegUENohpiK-129" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1099.38" y="-14370" as="sourcePoint" />
            <mxPoint x="1149.38" y="-14420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-168" value="&lt;div&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b style=&quot;&quot;&gt;Spring&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;泛型处理&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="359.31" y="-18880" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-169" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;泛型处理其实是一块相对独立的东西，因为它就只是一个工具类，只还不过这个工具类在Spring中却是无处不在！&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;ResolvableType提供了有一套灵活的API，可以在运行时获取和处理泛型类型等信息。&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;通过ResolvableType#forClass方法创建ResolvableType之外，还可以通过一下几个方法创建：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;forField(Field field)：获取字段类型对应的ResolvableType&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;forMethodReturnType(Method method)：获取方法返回值类型对应的ResolvableType&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;forMethodParameter(Method method, int parameterIndex)：获取方法某个位置方法参数对应的ResolvableType&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;forConstructorParameter(Constructor&amp;lt;?&amp;gt; constructor, int parameterIndex)：获取构造方法某个构造参数对应的ResolvableType&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;对于一个类方法参数，方法返回值，字段等等都可以获取到对应的ResolvableType&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="362.43" y="-18860" width="730" height="200" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-170" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="534.43" y="-18610" width="310" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-171" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResolvableType&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="627.43" y="-18590" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-172" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;国际化（Internationalization，简称i18n）也是Spring提供的一个核心功能，它其实也是一块相对独立的功能。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所谓的国际化，其实理解简单点就是对于不同的地区国家，输出的文本内容语言不同。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Spring的国际化其实主要是依赖Java中的国际化和文本处理方式。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="407.13" y="-18120" width="620" height="90" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-173" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring 国际化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="345.5" y="-18320" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-174" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Java中的国际化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="376" y="-18012" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-175" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Locale&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Locale是Java提供的一个类，它可以用来标识不同的语言和地区，如en_US表示美国英语，zh_CN表示中国大陆中文等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="366" y="-17970" width="650" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-176" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourceBundle&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ResourceBundle是一个加载本地资源的一个类，他可以根据传入的Locale不同，加载不同的资源。&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;资源文件通常是.properties文件，文件名命名规则如下：&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;basename_lang_country.properties&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;英语Locale的lang为en，country为空字符串，那么此时英语地区对应资源文件就可以命名为：basename_en.properties，由于country为空字符串，可以省略&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;中国大陆Locale&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;可以命为：basename_zh_CN.properties&lt;/b&gt;&lt;br&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;通过ResourceBundle#getBundle(String baseName,Locale locale)方法来获取获取ResourceBundle&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;第一个参数baseName就是我们的文件名中的basename，对于我们的demo来说，就是message&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;第二个参数就是地区，根据地区的不同加载不同地区的文件&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;除了这种方式之外，其实还可以继承ResourceBundle内部一个Control类，&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;重写newBundle方法，&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;newBundle是创建ResourceBundle对应核心方法，重写的时候你就可以随心所欲让它支持其它编码方式。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;有了新的Control之后，获取ResourceBundle时只需要通过ResourceBundle#getBundle(String baseName, Locale targetLocale,Control control)方法指定Control就可以了。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Spring实际上就是通过这种方式扩展&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="370.5" y="-17840" width="970" height="300" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-177" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="704.5" y="-17910" width="267.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-178" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Locale&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="814" y="-17895" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-180" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="697.5" y="-17540" width="260.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-181" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceBundle&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="767" y="-17520" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-182" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MessageFormat&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MessageFormat顾明思议就是把消息格式化。它可以接收一条包含占位符的消息模板，并根据提供的参数替换占位符，生成最终的消息。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MessageFormat对于将动态值插入到消息中非常有用，如欢迎消息、错误消息等。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="388" y="-17430" width="750" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-183" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="663.75" y="-17300" width="301.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-184" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MessageFormat&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="749" y="-17270" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-185" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Spring国际化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="371.5" y="-17180" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-186" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;Spring提供了一个国际化接口MessageSource&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;基于ResourceBundle + MessageFormat的实现ResourceBundleMessageSource&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;可以在资源文件存储消息的模板，然后通过MessageFormat来替换占位符，MessageSource的getMessage方法就可以传递具体的参数&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="402.5" y="-17150" width="740" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-187" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Locale：不同国家和地区的信息封装&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ResourceBundle：根据不同国家的Locale，加载对应的资源文件，这个资源文件的命名需要遵守basename_lang_country.properties命名规范&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MessageFormat：其实就是一个文本处理的方式，他可以解析模板，根据参数替换模板的占位符&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;MessageSource：Spring提供的国际化接口，其实他底层主要是依赖Java的ResourceBundle和MessageFormat，资源文件存储模板信息，MessageFormat根据MessageSource方法的传参替换模板中的占位符&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="426.59" y="-18270" width="1150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-189" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="826.49" y="-16356" width="385" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-190" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="402" y="-16356" width="332.25" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-191" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="593.25" y="-16540" width="375" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-192" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="653.99" y="-16680" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-193" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="749.5" y="-16877" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-194" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="323.75" y="-16872" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-195" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="748.5" y="-17000" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-196" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="809.5" y="-16970" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-197" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MessageSourceSupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="354.38" y="-16854" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-198" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HierarchicalMessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="771.5" y="-16852" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-199" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractMessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="679.24" y="-16655" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-200" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractResourceBasedMessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="593.25" y="-16525" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-201" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceBundleMessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="433" y="-16331" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-202" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ReloadableResourceBundleMessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="831.49" y="-16321" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-203" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-193" target="OZDBB6FNwcegUENohpiK-195" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-204" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-192" target="OZDBB6FNwcegUENohpiK-194" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-205" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-192" target="OZDBB6FNwcegUENohpiK-193" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-206" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-191" target="OZDBB6FNwcegUENohpiK-192" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-207" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-190" target="OZDBB6FNwcegUENohpiK-191" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-208" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-189" target="OZDBB6FNwcegUENohpiK-191" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="-16690" as="sourcePoint" />
            <mxPoint x="970" y="-16740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-209" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;b style=&quot;&quot;&gt;BeanFactory&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="285.75" y="-20477" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-223" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1090.1699999999998" y="-19862" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-229" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="1140.4899999999998" y="-19200" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-230" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1373.3600000000001" y="-19660" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-231" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="779.7699999999998" y="-19647" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-232" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1213.12" y="-21600" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-236" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1487.99" y="-19365" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-238" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1201.1699999999998" y="-19832" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-257" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AutowireCapableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1538.49" y="-19338" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-260" value="&lt;b&gt;ApplicationContext&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1327.7799999999997" y="-21570" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-261" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1741.7799999999997" y="-21940" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-262" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="589.28" y="-21937" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-263" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1360.2799999999997" y="-21940" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-264" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1969.7399999999998" y="-21820" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-265" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1210.2799999999997" y="-21260" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-266" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1210.2799999999997" y="-21420" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-267" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="986.28" y="-21940" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-268" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="344.65999999999997" y="-21780" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-269" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="873.36" y="-20921" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-270" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="118.62" y="-20921" width="420" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-271" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1735.23" y="-21068" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-272" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="313.62" y="-20779" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-273" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="564" y="-21068" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-275" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1145.1499999999999" y="-22210" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-276" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1742.2799999999997" y="-22200" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-277" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ListableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="873.3599999999998" y="-19620" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-278" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HierarchicalBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1450.9900000000002" y="-19637" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-279" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1548.61" y="-19508" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-285" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1537.8999999999999" y="-19047" width="329" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-286" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DefaultListableBeanFactory&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1589.3999999999999" y="-19027" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-287" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EnvironmentCapable&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="418.65999999999997" y="-21762" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-288" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationEventPublisher&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2019.74" y="-21792" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-289" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1239.6599999999999" y="-21390" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-290" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1253.7799999999997" y="-21235" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-291" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ListableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1065" y="-21915" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-292" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HierarchicalBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1417.2399999999998" y="-21915" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-293" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;MessageSource&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="674.6600000000001" y="-21912" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-294" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourcePatternResolver&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1794.7799999999997" y="-21910" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-295" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceLoader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1829.7799999999997" y="-22172" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-296" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1250.1499999999996" y="-22185" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-297" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" target="OZDBB6FNwcegUENohpiK-267" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1378.2799999999997" y="-21670" />
              <mxPoint x="1151.28" y="-21670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-298" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" target="OZDBB6FNwcegUENohpiK-268" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1378.2799999999997" y="-21670" />
              <mxPoint x="510" y="-21670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-299" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1381.5299999999997" y="-21640" as="sourcePoint" />
            <mxPoint x="1523.7799999999997" y="-21860" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1379.2799999999997" y="-21670" />
              <mxPoint x="1524.2799999999997" y="-21670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-300" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" target="OZDBB6FNwcegUENohpiK-262" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1378.2799999999997" y="-21670" />
              <mxPoint x="754" y="-21670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-301" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" target="OZDBB6FNwcegUENohpiK-264" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1969.2799999999997" y="-21770" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1378" y="-21670" />
              <mxPoint x="2135" y="-21670" />
              <mxPoint x="2134.2799999999997" y="-21700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-302" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-232" target="OZDBB6FNwcegUENohpiK-261" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1379.2799999999997" y="-21670" />
              <mxPoint x="1907.2799999999997" y="-21670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-303" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-267" target="OZDBB6FNwcegUENohpiK-275" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1149.28" y="-22070" />
              <mxPoint x="1309.2799999999997" y="-22070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-304" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-263" target="OZDBB6FNwcegUENohpiK-275" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1529.2799999999997" y="-22070" />
              <mxPoint x="1310.2799999999997" y="-22070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-305" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-261" target="OZDBB6FNwcegUENohpiK-276" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1389.2799999999997" y="-21830" as="sourcePoint" />
            <mxPoint x="1439.2799999999997" y="-21880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-306" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring&amp;nbsp; ApplicationContext&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="229.27999999999997" y="-22690" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-307" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供了获取Environment的功能&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="549.28" y="-21700" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-308" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;ApplicationContext继承的几个接口，&lt;/font&gt;&lt;/b&gt;&lt;font style=&quot;background-color: initial;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;EnvironmentCapable这个接口比较简单，提供了获取Environment的功能，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ApplicationContext也继承了ListableBeanFactory和HierarchicalBeanFactory，也就说明ApplicationContext其实他也是一个BeanFactory，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ApplicationContext是一个集万千功能为一身的接口，一旦你获取到了ApplicationContext（可以@Autowired注入），你就可以用来获取Bean、加载资源、获取环境，还可以国际化&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ApplicationContext继承了这些接口，但是ApplicationContext对于接口的实现是通过一种委派的方式&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;ApplicationContext继承了ResourcePatternResolver接口，所以我实现了getResources方法，但是真正的实现其实是交给变量中的PathMatchingResourcePatternResolver来实现的，这其实就是委派，不直接实现，而是交给其它真正实现了这个接口的类来处理&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;同理，ApplicationContext对于BeanFactory接口的实现其实最终也是交由DefaultListableBeanFactory来委派处理的。&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold; text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;ApplicationContext有一个子接口，ConfigurableApplicationContext&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;从提供的方法看出，就是可以对ApplicationContext进行配置，比如设置Environment，同时也能设置parent，说明了ApplicationContext也有子父的概念&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;ApplicationContext的实现很多，但是他有一个非常重要的抽象实现AbstractApplicationContext，因为其它的实现都是继承这个抽象实现&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;这个类主要是实现了一些继承的接口方法，通过委派的方式，比如对于BeanFactory接口的实现，&lt;/b&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;并且AbstractApplicationContext这个类也实现了一个非常核心的refresh方法&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;所有的ApplicationContext在创建之后必须调用这个refresh方法之后才能使用&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="236.64999999999998" y="-22640" width="1430" height="400" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-311" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="617" y="-21043" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-312" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationConfigApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="323.62" y="-20754" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-313" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractRefreshableApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1741.7799999999997" y="-21051" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-314" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationConfigServletWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="148.62" y="-20896" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-315" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="921.37" y="-20896" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-320" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2474.5299999999997" y="-20769" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-321" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2839.2799999999993" y="-20769" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-322" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2060.87" y="-20769" width="378.41" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-323" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="2195.2799999999997" y="-20946" width="426.75" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-324" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1646.0199999999998" y="-20789" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-325" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="746.99" y="-20779" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-326" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1227.35" y="-20789" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-327" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1361.0100000000002" y="-20951" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-329" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletWebServerApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="751.99" y="-20759" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-333" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-266" target="OZDBB6FNwcegUENohpiK-232" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659.28" y="-21260" as="sourcePoint" />
            <mxPoint x="709.28" y="-21310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-334" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-265" target="OZDBB6FNwcegUENohpiK-266" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659.28" y="-21260" as="sourcePoint" />
            <mxPoint x="709.28" y="-21310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-335" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-273" target="OZDBB6FNwcegUENohpiK-265" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659.28" y="-21260" as="sourcePoint" />
            <mxPoint x="709.28" y="-21310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="729" y="-21120" />
              <mxPoint x="1375" y="-21120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-336" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-270" target="OZDBB6FNwcegUENohpiK-273" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="408.62" y="-21071" as="sourcePoint" />
            <mxPoint x="458.62" y="-21121" as="targetPoint" />
            <Array as="points">
              <mxPoint x="329" y="-20961" />
              <mxPoint x="729" y="-20961" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-337" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-272" target="OZDBB6FNwcegUENohpiK-273" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="408.62" y="-21071" as="sourcePoint" />
            <mxPoint x="458.62" y="-21121" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="-20811" />
              <mxPoint x="560" y="-20831" />
              <mxPoint x="729" y="-20831" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-338" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-325" target="OZDBB6FNwcegUENohpiK-273" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="408.62" y="-21071" as="sourcePoint" />
            <mxPoint x="458.62" y="-21121" as="targetPoint" />
            <Array as="points">
              <mxPoint x="830" y="-20831" />
              <mxPoint x="729" y="-20831" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-339" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-269" target="OZDBB6FNwcegUENohpiK-273" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="408.62" y="-21071" as="sourcePoint" />
            <mxPoint x="458.62" y="-21121" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1040" y="-20961" />
              <mxPoint x="729" y="-20961" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-340" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractXmlApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1410.33" y="-20926" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-341" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathXmlApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1240.35" y="-20759" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-342" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;FileSystemXmlApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1681.38" y="-20764" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-343" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-271" target="OZDBB6FNwcegUENohpiK-265" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1049.28" y="-20870" as="sourcePoint" />
            <mxPoint x="1099.28" y="-20920" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1900" y="-21120" />
              <mxPoint x="1375" y="-21120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-344" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-327" target="OZDBB6FNwcegUENohpiK-271" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1195.96" y="-20901" as="sourcePoint" />
            <mxPoint x="1900" y="-20981" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1521.02" y="-20971" />
              <mxPoint x="1900" y="-20971" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-345" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-326" target="OZDBB6FNwcegUENohpiK-327" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1063.51" y="-20901" as="sourcePoint" />
            <mxPoint x="1113.51" y="-20951" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1387.02" y="-20831" />
              <mxPoint x="1521.02" y="-20831" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-346" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-324" target="OZDBB6FNwcegUENohpiK-327" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1063.51" y="-20901" as="sourcePoint" />
            <mxPoint x="1113.51" y="-20951" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1806.02" y="-20831" />
              <mxPoint x="1521.02" y="-20831" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-347" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractRefreshableWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2228.6499999999996" y="-20921" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-348" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotationConfigWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2079.2799999999997" y="-20741" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-349" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-323" target="OZDBB6FNwcegUENohpiK-271" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1399.94" y="-20881" as="sourcePoint" />
            <mxPoint x="1449.94" y="-20931" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2409" y="-20971" />
              <mxPoint x="1900" y="-20971" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-350" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-322" target="OZDBB6FNwcegUENohpiK-323" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1399.94" y="-20881" as="sourcePoint" />
            <mxPoint x="1449.94" y="-20931" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2250" y="-20811" />
              <mxPoint x="2409" y="-20811" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-351" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GroovyWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2876.8099999999995" y="-20739" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-352" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XmlWebApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2498.5299999999997" y="-20744" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-353" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-320" target="OZDBB6FNwcegUENohpiK-323" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2179.2799999999997" y="-20691" as="sourcePoint" />
            <mxPoint x="2229.2799999999997" y="-20741" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2635" y="-20811" />
              <mxPoint x="2410" y="-20811" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-354" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-321" target="OZDBB6FNwcegUENohpiK-323" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2179.2799999999997" y="-20691" as="sourcePoint" />
            <mxPoint x="2229.2799999999997" y="-20741" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2999" y="-20811" />
              <mxPoint x="2409" y="-20811" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-355" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Spring提供的国际化接口，其实他底层主要是依赖Java的ResourceBundle和MessageFormat，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;资源文件存储模板信息，MessageFormat根据MessageSource方法的传参替换模板中的占位符&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="445.19000000000005" y="-21850" width="540" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-357" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ApplicationEventPublisher跟事件有关。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;Spring事件是一种观察者模式的实现，他的作用主要是用来解耦合的。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;当发生了某件事，只要发布一个事件，对这个事件的监听者（观察者）就可以对事件进行响应或者处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1990" y="-21740" width="580" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-358" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ResourcePatternResolver继承了ResourceLoader&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;通过ResourcePatternResolver提供的方法可以看出，他可以加载多个资源，支持使用通配符的方式，&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;比如classpath*:，就可以加载所有classpath的资源。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2077" y="-21915" width="570" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-359" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供了一些获取集合的功能，比如有的接口可能有多个实现，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;通过这些方法就可以获取这些实现对象的集合。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1025" y="-21837" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-360" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;获取到父容器，说明BeanFactory有子父容器的概念。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1435" y="-21842" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-362" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurableListableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1164.9900000000002" y="-19168" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-366" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2363.99" y="-19850" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-367" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2191.12" y="-20010" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-368" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1989.72" y="-19852" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-369" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1917.49" y="-19692" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-370" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1656.51" y="-19852" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-371" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2041.24" y="-19540" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-373" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="2041.2399999999998" y="-19365" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-374" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1946.51" y="-19206" width="318.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-375" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractAutowireCapableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1950.01" y="-19188" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-376" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2110.99" y="-19349" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-379" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;FactoryBeanRegistrySupport&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2073.74" y="-19527" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-380" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SingletonBeanRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1697.23" y="-19844" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-381" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultSingletonBeanRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1929.6200000000001" y="-19662" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-382" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleAliasRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2052.15" y="-19832" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-383" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AliasRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2272.12" y="-19982" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-384" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2407.87" y="-19830" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-385" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-231" target="OZDBB6FNwcegUENohpiK-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="944.49" y="-19730" />
              <mxPoint x="1255.49" y="-19730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-386" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-229" target="OZDBB6FNwcegUENohpiK-231" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1305.49" y="-19260" />
              <mxPoint x="1480.49" y="-19260" />
              <mxPoint x="944.49" y="-19260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-387" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-230" target="OZDBB6FNwcegUENohpiK-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1540.49" y="-19730" />
              <mxPoint x="1255.49" y="-19730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-388" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-229" target="OZDBB6FNwcegUENohpiK-236" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1305.49" y="-19260" />
              <mxPoint x="1480.49" y="-19260" />
              <mxPoint x="1653.49" y="-19260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-389" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-236" target="OZDBB6FNwcegUENohpiK-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1260.49" y="-19780" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1653.49" y="-19400" />
              <mxPoint x="1255.49" y="-19400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-390" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-229" target="OZDBB6FNwcegUENohpiK-361" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1475.31" y="-19188" as="sourcePoint" />
            <mxPoint x="1654.1799999999998" y="-19451" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1305.49" y="-19420" />
              <mxPoint x="1581.49" y="-19420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-391" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-361" target="OZDBB6FNwcegUENohpiK-230" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1581.49" y="-19550" />
              <mxPoint x="1538.49" y="-19550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-392" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-361" target="OZDBB6FNwcegUENohpiK-370" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1731.49" y="-19550" />
              <mxPoint x="1801.49" y="-19550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-393" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-285" target="OZDBB6FNwcegUENohpiK-229" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19300" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1703.49" y="-19100" />
              <mxPoint x="1305.49" y="-19100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-394" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-285" target="OZDBB6FNwcegUENohpiK-374" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19300" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1702.49" y="-19100" />
              <mxPoint x="2105.49" y="-19100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-395" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-374" target="OZDBB6FNwcegUENohpiK-236" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2105.49" y="-19260" />
              <mxPoint x="1735.49" y="-19260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-396" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-374" target="OZDBB6FNwcegUENohpiK-373" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-397" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-373" target="OZDBB6FNwcegUENohpiK-361" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2113.49" y="-19420" />
              <mxPoint x="1731.49" y="-19420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-398" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-373" target="OZDBB6FNwcegUENohpiK-371" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="2330.49" y="-19440" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2186.49" y="-19420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-399" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-369" target="OZDBB6FNwcegUENohpiK-370" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19640" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19690" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2062.49" y="-19740" />
              <mxPoint x="1874.49" y="-19740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-400" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-369" target="OZDBB6FNwcegUENohpiK-368" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19640" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-401" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-368" target="OZDBB6FNwcegUENohpiK-367" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19640" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19690" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2134.49" y="-19900" />
              <mxPoint x="2336.49" y="-19900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-402" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-371" target="OZDBB6FNwcegUENohpiK-369" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19640" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19690" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2186.49" y="-19580" />
              <mxPoint x="2062.49" y="-19580" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-403" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-366" target="OZDBB6FNwcegUENohpiK-367" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19470" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2509.49" y="-19900" />
              <mxPoint x="2410.49" y="-19900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-404" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-285" target="OZDBB6FNwcegUENohpiK-366" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730.49" y="-19300" as="sourcePoint" />
            <mxPoint x="1780.49" y="-19350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1702.49" y="-19100" />
              <mxPoint x="2509.49" y="-19100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-405" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;实现IOC的几个核心的组件&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanFactory及其接口体系：&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;ListableBeanFactory&lt;/div&gt;&lt;div style=&quot;&quot;&gt;HierarchicalBeanFactory&lt;/div&gt;&lt;div style=&quot;&quot;&gt;ConfigurableBeanFactory&lt;/div&gt;&lt;div style=&quot;&quot;&gt;AutowireCapableBeanFactory&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanDefinition及其相关组件：&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanDefinition&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanDefinitionReader和ClassPathBeanDefinitionScanner：读取资源，生成BeanDefinition&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanDefinitionRegistry：存储BeanDefinition&lt;/div&gt;&lt;div style=&quot;&quot;&gt;BeanFactory核心实现：&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;DefaultListableBeanFactory：IOC容器，同时实现了BeanDefinitionRegistry接口&lt;/div&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(0, 127, 255);&quot;&gt;s&lt;/b&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;pring的核心就是IOC和AOP，而BeanFactory就是大名鼎鼎的IOC容器，他可以帮我们生产对象，BeanFactory本身是一个接口，&lt;/b&gt;&lt;span style=&quot;font-weight: bold; background-color: initial;&quot;&gt;可以从BeanFactory获取到Bean。&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;他也有很多子接口，不同的子接口有着不同的功能&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ListableBeanFactory&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;提供了一些获取集合的功能，比如有的接口可能有多个实现，通过这些方法就可以获取这些实现对象的集合。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;HierarchicalBeanFactory&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;可以获取到父容器，说明BeanFactory有子父容器的概念。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;ConfigurableBeanFactory&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;可以对BeanFactory进行配置，可以设置我们前面提到的类型转换的东西，这样在生成Bean的时候就可以类型属性的类型转换了。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;AutowireCapableBeanFactory&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;提供了自动装配Bean的实现、属性填充、初始化、处理获取依赖注入对象的功能。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;BeanFactory真正底层的实现类，其实就只有一个，那就是DefaultListableBeanFactory这个类，这个类以及父类真正实现了BeanFactory及其子接口的所有的功能。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="512" y="-20540" width="900" height="530" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-406" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供了一些获取集合的功能，比如有的接口可能有多个实现，通过这些方法就可以获取这些实现对象的集合。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;该接口定义了访问容器中 Bean 基本信息的若干方法，如查看Bean 的个数、&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;获取某一类型 Bean 的配置名、查看容器中是否包括某一 Bean 等方法&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="590" y="-19547" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-408" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;可以获取到父容器，说明BeanFactory有子父容器的概念&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1260.5" y="-19557" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-410" value="&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;增强了 IoC 容器的可定制性，它定义了设置类装载器、属性编辑器、&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;容器初始化后置处理器等方法；&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;可以对BeanFactory进行配置，可以设置我们前面提到的类型转换的东西，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;这样在生成Bean的时候就可以类型属性的类型转换了&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1679.64" y="-19453" width="420" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-411" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供了自动装配Bean的实现、属性填充、初始化、处理获取依赖注入对象的功能。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1413.5" y="-19259" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-412" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;@Autowired最终就会调用AutowireCapableBeanFactory#resolveDependency处理注入的依赖。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1421.25" y="-19239" width="550" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-413" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;封装了Bean创建过程中所需要的元信息。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;是BeanDefinition的注册中心，也就是用来保存BeanDefinition的&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2433.74" y="-19766" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-414" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;BeanDefinition是Spring Bean创建环节中很重要的一个东西，它封装了Bean创建过程中所需要的元信息。，&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;一个Bean所创建过程中所需要的一些信息都可以从BeanDefinition中获取，比如这个Bean的class类型，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;这个Bean是否是懒加载，这个Bean是否是单例的等等，因为有了这些信息，Spring才知道要创建一个什么样的Bean。&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;读取BeanDefinition&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;读取BeanDefinition大致分为以下几类&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;BeanDefinitionReader&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ClassPathBeanDefinitionScanner&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;BeanDefinitionReader可以通过loadBeanDefinitions(Resource resource)方法来加载BeanDefinition，方法参数就是我们前面说的资源，比如可以将Bean定义在xml文件中，这个xml文件就是一个资源&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;BeanDefinitionReader的相关实现：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;XmlBeanDefinitionReader：读取xml配置的Bean&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;PropertiesBeanDefinitionReader：读取properties文件配置的Bean，是的，你没看错，Bean可以定义在properties文件配置中&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;AnnotatedBeanDefinitionReader：读取通过注解定义的Bean，比如@Lazy注解等等，AnnotatedBeanDefinitionReader不是BeanDefinitionReader的实现，但是作用是一样的&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ClassPathBeanDefinitionScanner&lt;span style=&quot;background-color: initial;&quot;&gt;作用就是扫描指定包下通过@Component及其派生注解（@Service等等）注解定义的Bean，其实就是@ComponentScan注解的底层实现&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ClassPathBeanDefinitionScanner这个类其实在很多其它框架中都有使用到，因为这个类可以扫描指定包下，生成BeanDefinition，对于那些需要扫描包来生成BeanDefinition来说，用的很多&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;BeanDefinitionRegistry是BeanDefinition的注册中心，也就是用来保存BeanDefinition的。提供了BeanDefinition的增删查的功能&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;通过BeanDefinitionReader或者是ClassPathBeanDefinitionScanner为每一个Bean生成一个BeanDefinition&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;BeanDefinition生成之后，添加到BeanDefinitionRegistry中&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当从BeanFactory中获取Bean时，会从BeanDefinitionRegistry中拿出需要创建的Bean对应的BeanDefinition，根据BeanDefinition的信息来生成Bean&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当生成的Bean是单例的时候，Spring会将Bean保存到SingletonBeanRegistry中，也就是平时说的三级缓存中的第一级缓存中，以免重复创建，需要使用的时候直接从SingletonBeanRegistry中查找&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="449.16" y="-25590" width="1160" height="420" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-415" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2368.25" y="-25060" width="291.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-416" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2284.37" y="-24767" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-417" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1913.65" y="-24767" width="309.72" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-418" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1909.65" y="-24910" width="302.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-419" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1933.21" y="-25075" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-420" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1116.35" y="-24700" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-421" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="1140.79" y="-24570" width="356.62" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-422" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="411.7900000000001" y="-24585" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-423" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="756.2500000000001" y="-24585" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-424" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="706.7300000000001" y="-24690" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-425" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="893.2200000000001" y="-24815" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-426" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="382.8300000000002" y="-24830" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-427" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="641.4900000000001" y="-24980" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-428" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="889.7500000000001" y="-25090" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-429" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="501.53" y="-25090" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-430" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AttributeAccessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="549.53" y="-25075" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-431" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanMetadataElement&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="934.16" y="-25075" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-432" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanDefinition&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="716.37" y="-24960" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-433" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractBeanDefinition&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="424.7900000000001" y="-24815" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-434" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotatedBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="921.15" y="-24800" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-435" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GenericBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="754.7900000000001" y="-24675" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-437" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ScannedGenericBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="749.75" y="-24570" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-438" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotatedGenericBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="405.2900000000001" y="-24572" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-439" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigurationClassBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1162.4099999999999" y="-24555" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-440" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RootBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1163.29" y="-24685" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-441" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-427" target="OZDBB6FNwcegUENohpiK-428" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1149.37" y="-24710" as="sourcePoint" />
            <mxPoint x="1199.37" y="-24760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-442" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-427" target="OZDBB6FNwcegUENohpiK-429" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1149.37" y="-24710" as="sourcePoint" />
            <mxPoint x="1199.37" y="-24760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-443" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-426" target="OZDBB6FNwcegUENohpiK-427" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1149.37" y="-24710" as="sourcePoint" />
            <mxPoint x="1199.37" y="-24760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-444" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-425" target="OZDBB6FNwcegUENohpiK-427" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1149.37" y="-24710" as="sourcePoint" />
            <mxPoint x="1199.37" y="-24760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-445" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-424" target="OZDBB6FNwcegUENohpiK-425" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="895.2900000000001" y="-24700" as="sourcePoint" />
            <mxPoint x="945.2900000000001" y="-24750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-446" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-422" target="OZDBB6FNwcegUENohpiK-424" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="895.2900000000001" y="-24700" as="sourcePoint" />
            <mxPoint x="945.2900000000001" y="-24750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-447" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-423" target="OZDBB6FNwcegUENohpiK-424" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="895.2900000000001" y="-24700" as="sourcePoint" />
            <mxPoint x="945.2900000000001" y="-24750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-448" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-420" target="OZDBB6FNwcegUENohpiK-425" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="895.2900000000001" y="-24700" as="sourcePoint" />
            <mxPoint x="945.2900000000001" y="-24750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-449" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-421" target="OZDBB6FNwcegUENohpiK-420" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="895.2900000000001" y="-24700" as="sourcePoint" />
            <mxPoint x="945.2900000000001" y="-24750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-450" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1973.3400000000001" y="-25060" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-451" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1775.63" y="-24320" width="483.49" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-452" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2095.99" y="-24510" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-453" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1712.9099999999999" y="-24510" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-454" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1579.37" y="-24767" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-455" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3005.37" y="-24615" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-456" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="3005.37" y="-24770" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-457" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3005.37" y="-24935" width="257.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-458" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1866.63" y="-24195" width="295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-459" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1931.77" y="-24895" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-460" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;GroovyBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1584.37" y="-24752" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-461" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertiesBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1922.73" y="-24752" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-462" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XmlBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2317.93" y="-24752" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-463" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-418" target="OZDBB6FNwcegUENohpiK-419" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1939.37" y="-24730" as="sourcePoint" />
            <mxPoint x="1989.37" y="-24780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-464" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-454" target="OZDBB6FNwcegUENohpiK-418" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1939.37" y="-24730" as="sourcePoint" />
            <mxPoint x="1989.37" y="-24780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-465" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-417" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1939.37" y="-24730" as="sourcePoint" />
            <mxPoint x="2059.37" y="-24850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-466" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-416" target="OZDBB6FNwcegUENohpiK-418" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1939.37" y="-24730" as="sourcePoint" />
            <mxPoint x="1989.37" y="-24780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-468" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathBeanDefinitionScanner&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1871.63" y="-24180" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-469" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1811.62" y="-24313" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-470" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EnvironmentCapable&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1762.04" y="-24495" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-471" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ResourceLoaderAware&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2125.63" y="-24495" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-472" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-451" target="OZDBB6FNwcegUENohpiK-453" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1860.63" y="-24195" as="sourcePoint" />
            <mxPoint x="1910.63" y="-24245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-473" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.571;exitY=0.083;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="OZDBB6FNwcegUENohpiK-451" target="OZDBB6FNwcegUENohpiK-452" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1860.63" y="-24195" as="sourcePoint" />
            <mxPoint x="1910.63" y="-24245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-474" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-458" target="OZDBB6FNwcegUENohpiK-451" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1786.63" y="-23245" as="sourcePoint" />
            <mxPoint x="1836.63" y="-23295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-475" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;读取xml配置的Bean&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2339.1099999999997" y="-24702" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-476" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;读取properties文件配置的Bean，Bean可以定义在properties文件配置中&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1854.37" y="-24700" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-477" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AnnotatedBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2383.1099999999997" y="-25045" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-478" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;AnnotatedBeanDefinitionReader：读取通过注解定义的Bean，比如@Lazy注解等等，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;AnnotatedBeanDefinitionReader不是BeanDefinitionReader的实现，但是作用是一样的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2317.93" y="-24980" width="500" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-479" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;作用就是扫描指定包下通过@Component及其派生注解（@Service等等）&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;注解定义的Bean，其实就是@ComponentScan注解的底层实现&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1786.4" y="-22090" width="420" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-480" value="&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;BeanDefinition是Spring Bean创建环节中很重要的一个东西，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;它封装了Bean创建过程中所需要的元信息。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="834.87" y="-24920" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-481" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3016.8099999999995" y="-24910" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-482" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleAliasRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3043.93" y="-24755" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-483" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleBeanDefinitionRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3005.37" y="-24597" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-484" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3013.93" y="-25075" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-485" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AliasRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3068.93" y="-25060" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-486" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-457" target="OZDBB6FNwcegUENohpiK-484" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2753.93" y="-24735" as="sourcePoint" />
            <mxPoint x="2803.93" y="-24785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-487" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-456" target="OZDBB6FNwcegUENohpiK-457" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2753.93" y="-24735" as="sourcePoint" />
            <mxPoint x="2803.93" y="-24785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-488" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-455" target="OZDBB6FNwcegUENohpiK-456" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2753.93" y="-24735" as="sourcePoint" />
            <mxPoint x="2803.93" y="-24785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-489" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;是BeanDefinition的注册中心，也就是用来保存BeanDefinition的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;提供了BeanDefinition的增删查的功能。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3042.46" y="-24870" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-490" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="270.37" y="-25600" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-491" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1610.37" y="-25082" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-492" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathBeanDefinitionScanner&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1600.6" y="-24567" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="OZDBB6FNwcegUENohpiK-493" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionRegistry&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2809.65" y="-25100" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0eQpZBN6BaFq8j83PpIj-1" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在SpringBoot中，application.yml的文件就是通过ResourceLoader加载成Resource，之后再读取文件的内容的。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="721.3" y="-5680" width="640" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0eQpZBN6BaFq8j83PpIj-2" value="&lt;b&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;在运行时获取和处理泛型类型等信息。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="608.31" y="-18532" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0eQpZBN6BaFq8j83PpIj-3" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;通过ResolvableType#forClass方法创建一个MyMap类型对应的ResolvableType&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;通过ResolvableType#getSuperType()方法获取,获取到父类HashMap对应的ResolvableType&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;通过ResolvableType#getGeneric(int... indexes)就可以获取指定位置的泛型参数ResolvableType&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;通过ResolvableType#resolve()方法就可以获取到ResolvableType类型对应的class类型&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="890" y="-18602" width="550" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0eQpZBN6BaFq8j83PpIj-4" value="&lt;b&gt;基于ResourceBundle + MessageFormat的实现ResourceBundleMessageSource&lt;/b&gt;&lt;div&gt;&lt;b&gt;可以在资源文件存储消息的模板，然后通过MessageFormat来替换占位符，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;MessageSource的getMessage方法就可以传递具体的参数&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="948" y="-16932" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0eQpZBN6BaFq8j83PpIj-5" value="&lt;div&gt;&lt;b&gt;Locale：不同国家和地区的信息封装&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ResourceBundle：根据不同国家的Locale，加载对应的资源文件，这个资源文件的命名需要遵守basename_lang_country.properties命名规范&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;MessageFormat：其实就是一个文本处理的方式，他可以解析模板，根据参数替换模板的占位符&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;MessageSource：Spring提供的国际化接口，其实他底层主要是依赖Java的ResourceBundle和MessageFormat，资源文件存储模板信息，MessageFormat根据MessageSource方法的传参替换模板中的占位符&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="391.33000000000004" y="-17090" width="1150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-2" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;扫描指定包下通过@Component及其派生注解（@Service等等）注解定义的Bean，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;其实就是@ComponentScan注解的底层实现&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1920.37" y="-24115" width="470" height="40" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-3" value="&lt;div&gt;&lt;b&gt;资源管理：对资源进行统一的封装，方便资源读取和管理&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;(实现ResourcePatternResolver接口)&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;环境：对容器或者是项目的配置进行管理&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;类型转换：将一种类型转换成另一种类型&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;数据绑定：将数据跟对象的属性进行绑定，绑定之前涉及到类型转换&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;泛型处理：一个操作泛型的工具类，Spring中到处可见&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;国际化：对Java的国际化进行了统一的封装&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;（实现MessageSource接口）&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;BeanFactory：IOC容器&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ApplicationContext：一个集万千功能于一身的王炸接口，也可以说是IOC容器&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;事件：Spring提供的基于观察者模式实现的解耦合利器&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;(实现ApplicationEventPublisher接口)&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1564" y="-21600" width="530" height="140" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationEventPublisher&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="670.9999999999999" y="-23330" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1161.9099999999999" y="-23335" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EventObject&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1173.2399999999998" y="-23502" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1552.19" y="-23360" width="355" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1637.69" y="-23335" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-12" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;EventListener&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1676.4099999999999" y="-23502" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-14" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-7" target="R36P5IaH8ckpL3Td1BHd-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1268.9099999999999" y="-23340" as="sourcePoint" />
            <mxPoint x="1318.9099999999999" y="-23390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-15" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-10" target="R36P5IaH8ckpL3Td1BHd-13" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1268.9099999999999" y="-23340" as="sourcePoint" />
            <mxPoint x="1318.9099999999999" y="-23390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-16" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-7" target="R36P5IaH8ckpL3Td1BHd-10" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1268.9099999999999" y="-23340" as="sourcePoint" />
            <mxPoint x="1318.9099999999999" y="-23390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-17" value="&lt;b&gt;事件监听的接口，泛型是需要监听的事件类型，子类需要实现onApplicationEvent，参数就是监听的事件类型，&lt;/b&gt;&lt;div&gt;&lt;b&gt;onApplicationEvent方法的实现就代表了对事件的处理，当事件发生时，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Spring会回调onApplicationEvent方法的实现，传入发布的事件。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1642.9099999999999" y="-23260" width="620" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-18" value="&lt;b&gt;事件的父类，所有具体的事件都得继承这个类，构造方法的参数是这个事件携带的参数，&lt;/b&gt;&lt;div&gt;&lt;b&gt;监听器就可以通过这个参数来进行一些业务操作。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1035.28" y="-23240" width="490" height="40" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-19" value="&lt;div&gt;&lt;b&gt;事件发布器，通过publishEvent方法就可以发布一个事件，然后就可以触发监听这个事件的监听器的回调。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ApplicationContext继承了ApplicationEventPublisher，说明只要有ApplicationContext就可以来发布事件了。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="408.91" y="-23267" width="620" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-5" target="R36P5IaH8ckpL3Td1BHd-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1268.9099999999999" y="-23340" as="sourcePoint" />
            <mxPoint x="1318.9099999999999" y="-23390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-21" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;Spring Event 事件就是Spring实现了这种事件模型，你只需要基于Spring提供的API进行扩展，就可以轻易地完成事件的发布与订阅&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;Spring事件相关api主要有以下几个：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;b&gt;ApplicationEvent&amp;nbsp; &amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;事件的父类，所有具体的事件都得继承这个类，构造方法的参数是这个事件携带的参数，监听器就可以通过这个参数来进行一些业务操作。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;b&gt;ApplicationListener&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;事件监听的接口，泛型是需要监听的事件类型，子类需要实现onApplicationEvent，参数就是监听的事件类型，onApplicationEvent方法的实现就代表了对事件的处理，当事件发生时，Spring会回调onApplicationEvent方法的实现，传入发布的事件。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;b&gt;ApplicationEventPublisher&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;事件发布器，通过publishEvent方法就可以发布一个事件，然后就可以触发监听这个事件的监听器的回调。&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;Spring内置的事件很多，这里我罗列几个&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;事件类型&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;触发时机&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;ContextRefreshedEvent&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;在调用ConfigurableApplicationContext 接口中的refresh()方法时触发&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;ContextStartedEvent&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;在调用ConfigurableApplicationContext的start()方法时触发&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;ContextStoppedEvent&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;在调用ConfigurableApplicationContext的stop()方法时触发&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;ContextClosedEvent&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;当ApplicationContext被关闭时触发该事件，也就是调用close()方法触发&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;在ApplicationContext(Spring容器)启动的过程中，Spring会发布这些事件，如果你需要这Spring容器启动的某个时刻进行什么操作，只需要监听对应的事件即可。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;&lt;b&gt;Spring事件的传播特性&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;ApplicationContext有子父容器的概念，而Spring事件的传播就是指当通过子容器发布一个事件之后，不仅可以触发在这个子容器的事件监听器，还可以触发在父容器的这个事件的监听器。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="310" y="-23885" width="1480" height="300" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring&amp;nbsp; EVENT&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="321.5" y="-23990" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-24" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1559.71" y="-367.5" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1557.4" y="291" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1557.4" y="960" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-27" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1557.4" y="1475" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-28" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1557.4" y="2938" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-29" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1562.4" y="3304" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-30" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-1562.4" y="3910.5" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;构造方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1472.21" y="-342.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@Autowired&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1488.52" y="331" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;构造方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1475.77" y="990" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-34" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Aware接口方法&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1500.77" y="1505" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-35" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@PostConstruct&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1508.7800000000002" y="2963" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-36" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InitialingBean&lt;br&gt;afterPropertySet方法&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1528.7800000000002" y="3319" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-38" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;@Bean&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InitMethod方法&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1488.52" y="3935.5" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-39" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-1586.81" y="4568" width="321.38" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-40" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1585.9299999999998" y="4718" width="321.38" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-41" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-1584" y="4865.5" width="321.38" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@PreDestroy注解标记的方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1552.9299999999998" y="4613" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-43" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;@DisposableBean&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;destroy方法&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1499.0500000000002" y="4748" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@Bean&lt;br&gt;destroyMethod&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1500.12" y="4890.5" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-24" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1424.5900000000001" y="-890" as="sourcePoint" />
            <mxPoint x="-183.09000000000003" y="-42" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-24" target="R36P5IaH8ckpL3Td1BHd-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="498" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="448" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-25" target="R36P5IaH8ckpL3Td1BHd-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="748" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="698" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-26" target="R36P5IaH8ckpL3Td1BHd-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="998" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="948" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-27" target="R36P5IaH8ckpL3Td1BHd-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="998" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="948" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-50" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-28" target="R36P5IaH8ckpL3Td1BHd-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="1748" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="1698" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-29" target="R36P5IaH8ckpL3Td1BHd-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="2248" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="2198" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-30" target="R36P5IaH8ckpL3Td1BHd-39" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-250.59000000000003" y="2998" as="sourcePoint" />
            <mxPoint x="-200.59000000000003" y="2948" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-39" target="R36P5IaH8ckpL3Td1BHd-40" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-302.62" y="3568" as="sourcePoint" />
            <mxPoint x="-252.62" y="3518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-54" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-40" target="R36P5IaH8ckpL3Td1BHd-41" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-310.62" y="4212.5" as="sourcePoint" />
            <mxPoint x="-260.62" y="4162.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-72" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2086.39" y="-28080" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-73" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Serializable&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2180.89" y="-28045" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-74" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1708.3899999999999" y="-28070" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-75" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1787.5299999999997" y="-28050" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-76" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1232.15" y="-28070" width="369.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-77" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1244.1399999999999" y="-28040" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-78" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="752.89" y="-28070" width="377.88" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-79" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InitDestroyAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="771.7700000000001" y="-28030" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-80" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1219.5100000000002" y="-27860" width="347.76" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-81" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;CommonAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1235.0500000000002" y="-27830" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-82" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="978.21" y="-27620" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-83" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1031.7" y="-27590" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-84" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="968.46" y="-27400" width="328.37" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-85" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="976.33" y="-27380" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-86" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="543.3299999999999" y="-27170" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-87" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="585.8299999999999" y="-27140" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-88" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1816.46" y="-27180" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-89" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;PriorityOrdered&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1894.13" y="-27150" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-90" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1434.58" y="-27180" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-91" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MergedBeanDefinitionPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1446.96" y="-27150" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-92" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="930.5100000000001" y="-27170" width="404.63" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-93" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="964.4499999999999" y="-27140" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-94" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="959.96" y="-26920" width="341" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-95" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AutowiredAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="964.96" y="-26890" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-96" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-84" target="R36P5IaH8ckpL3Td1BHd-82" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1383.96" y="-27310" as="sourcePoint" />
            <mxPoint x="1433.96" y="-27360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-92" target="R36P5IaH8ckpL3Td1BHd-84" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358.96" y="-27310" as="sourcePoint" />
            <mxPoint x="1408.96" y="-27360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-98" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-94" target="R36P5IaH8ckpL3Td1BHd-92" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358.96" y="-27310" as="sourcePoint" />
            <mxPoint x="1408.96" y="-27360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-94" target="R36P5IaH8ckpL3Td1BHd-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358.96" y="-27110" as="sourcePoint" />
            <mxPoint x="1408.96" y="-27160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-102" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-94" target="R36P5IaH8ckpL3Td1BHd-86" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358.96" y="-27110" as="sourcePoint" />
            <mxPoint x="1408.96" y="-27160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.547;entryY=1.016;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-94" target="R36P5IaH8ckpL3Td1BHd-88" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358.96" y="-27110" as="sourcePoint" />
            <mxPoint x="1408.96" y="-27160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-104" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;处理@Autowired、@Value注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1110.46" y="-26812" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-106" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="549.77" y="-28260" width="343.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DestructionAwareBeanPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="566.52" y="-28240" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-108" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="995.39" y="-28260" width="343.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-109" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;PriorityOrdered&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1097.1399999999999" y="-28240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-110" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1473.1399999999999" y="-28270" width="343.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-111" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MergedBeanDefinitionPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1489.8899999999999" y="-28250" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-115" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="555.39" y="-28500" width="315" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-116" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="608.88" y="-28470" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-106" target="R36P5IaH8ckpL3Td1BHd-115" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-118" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-78" target="R36P5IaH8ckpL3Td1BHd-106" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-119" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-78" target="R36P5IaH8ckpL3Td1BHd-108" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-120" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-78" target="R36P5IaH8ckpL3Td1BHd-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-121" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-80" target="R36P5IaH8ckpL3Td1BHd-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-122" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-80" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1425.3899999999999" y="-27990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-123" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-80" target="R36P5IaH8ckpL3Td1BHd-74" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-124" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-80" target="R36P5IaH8ckpL3Td1BHd-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1415.3899999999999" y="-28080" as="sourcePoint" />
            <mxPoint x="1465.3899999999999" y="-28130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-125" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理@Resource、@PostConstruct、@PreDestroy注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1351.46" y="-27720" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-126" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="735.5799999999999" y="-30280" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-127" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ProxyProcessorSupport&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="794.2099999999998" y="-30265" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-128" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="891.2000000000002" y="-28755" width="344.81" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-129" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AnnotationAwareAspectJAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="874.8300000000003" y="-28740" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-130" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1118.4" y="-30295" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-131" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1168.3899999999999" y="-30265" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-132" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="722.04" y="-30155" width="369.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-133" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAdvisingBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="746.9799999999998" y="-30140" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-134" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="694.04" y="-30010" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-135" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractBeanFactoryAwareAdvisingPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="740.5399999999998" y="-29990" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-136" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="755.55" y="-29880" width="352" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-137" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AsyncAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="787.55" y="-29855" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-138" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="921.29" y="-29570" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-139" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="982.8400000000003" y="-29555" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-140" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="880.05" y="-29430" width="366.22" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-141" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="906.5200000000001" y="-29415" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-142" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="501.12" y="-29295" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-143" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="592.5000000000001" y="-29265" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-144" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="857.35" y="-29300" width="412.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-145" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="887.32" y="-29285" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-146" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1427.9499999999998" y="-29305" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-147" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ProxyProcessorSupport&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1462" y="-29290" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-148" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="917.13" y="-29156" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-149" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="955.4600000000002" y="-29141" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-150" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="918.1500000000001" y="-29035" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-151" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAdvisorAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="918.1500000000002" y="-29030" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-152" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="869.0600000000001" y="-28895" width="391" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-153" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AspectJAwareAdvisorAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="893.3000000000003" y="-28880" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-155" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;处理一些注解或者是AOP切面的动态代理&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1002.5500000000002" y="-28655" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-156" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-140" target="R36P5IaH8ckpL3Td1BHd-138" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1273.1599999999999" y="-29270" as="sourcePoint" />
            <mxPoint x="1323.1599999999999" y="-29320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-157" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-144" target="R36P5IaH8ckpL3Td1BHd-140" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1248.1099999999997" y="-29270" as="sourcePoint" />
            <mxPoint x="1298.1099999999997" y="-29320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-158" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-148" target="R36P5IaH8ckpL3Td1BHd-144" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1258.25" y="-29265" as="sourcePoint" />
            <mxPoint x="1308.25" y="-29315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-159" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.323;entryY=1.1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-148" target="R36P5IaH8ckpL3Td1BHd-143" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1258.25" y="-29265" as="sourcePoint" />
            <mxPoint x="1308.25" y="-29315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-160" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-148" target="R36P5IaH8ckpL3Td1BHd-146" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1258.25" y="-29265" as="sourcePoint" />
            <mxPoint x="1308.25" y="-29315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-161" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-150" target="R36P5IaH8ckpL3Td1BHd-148" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1276.69" y="-29085" as="sourcePoint" />
            <mxPoint x="1326.69" y="-29135" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-162" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-152" target="R36P5IaH8ckpL3Td1BHd-150" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1276.69" y="-29085" as="sourcePoint" />
            <mxPoint x="1326.69" y="-29135" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-163" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-128" target="R36P5IaH8ckpL3Td1BHd-152" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1262.06" y="-28905" as="sourcePoint" />
            <mxPoint x="1312.06" y="-28955" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-164" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="735.5799999999999" y="-30400" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-165" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="792.8799999999997" y="-30385" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-166" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-126" target="R36P5IaH8ckpL3Td1BHd-164" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1081.54" y="-30070" as="sourcePoint" />
            <mxPoint x="1131.54" y="-30120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-167" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-132" target="R36P5IaH8ckpL3Td1BHd-126" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1081.54" y="-30070" as="sourcePoint" />
            <mxPoint x="1131.54" y="-30120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-168" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.459;exitY=0.1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-134" target="R36P5IaH8ckpL3Td1BHd-132" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1081.54" y="-30070" as="sourcePoint" />
            <mxPoint x="1131.54" y="-30120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-169" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-136" target="R36P5IaH8ckpL3Td1BHd-134" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1047.55" y="-30070" as="sourcePoint" />
            <mxPoint x="1097.55" y="-30120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-170" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-132" target="R36P5IaH8ckpL3Td1BHd-130" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1081.54" y="-30070" as="sourcePoint" />
            <mxPoint x="1131.54" y="-30120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-171" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理@Async注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="866.54" y="-29782" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-174" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="637.54" y="-30810" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-175" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1773.29" y="-30800" width="418.06" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-176" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1827.0800000000004" y="-31089" width="418.06" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-177" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1268.29" y="-31100" width="418.06" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-178" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="803.29" y="-31080" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-179" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1973.7600000000002" y="-30980" width="338.32" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-180" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1861.8400000000001" y="-30690" width="250" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-181" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1515.5500000000002" y="-30960" width="311.53" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-182" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1145.79" y="-30960" width="288.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-183" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="569.16" y="-30950" width="372" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-184" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1228.7600000000002" y="-30730" width="418.06" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-185" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ScheduledAnnotationBeanPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1272.7200000000003" y="-30710" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-186" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;EmbeddedValueResolverAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="610.81" y="-30920" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-187" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanNameAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1244.29" y="-30930" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-188" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1577.08" y="-30930" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-189" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Ordered&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1934.3400000000001" y="-30670" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-190" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationContextAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2034.31" y="-30950" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-191" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInitializingSingleton&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="691.16" y="-30790" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-192" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledTaskHolder&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="872.54" y="-31051" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-193" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MergedBeanDefinitionPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1328.79" y="-31069" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-194" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationListener&amp;lt;ContextRefreshedEvent&amp;gt;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1812.4099999999999" y="-30770" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-195" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DestructionAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1898.06" y="-31069" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-196" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="671.1599999999999" y="-30670" width="260" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-197" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DisposableBean&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="710.2799999999997" y="-30640" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-198" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-184" target="R36P5IaH8ckpL3Td1BHd-177" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1608.29" y="-30860" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-199" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-184" target="R36P5IaH8ckpL3Td1BHd-182" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1608.29" y="-30860" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-200" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-196" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1428.29" y="-30730" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-201" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-174" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30730" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-202" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-183" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30720" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-203" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-178" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30720" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-204" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-181" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30730" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-205" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-184" target="R36P5IaH8ckpL3Td1BHd-176" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1608.29" y="-30860" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-206" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-179" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1428.29" y="-30720" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-207" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-175" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30720" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-208" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="R36P5IaH8ckpL3Td1BHd-180" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.29" y="-30730" as="sourcePoint" />
            <mxPoint x="1658.29" y="-30910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-209" value="&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;&lt;b&gt;处理@Scheduled注解&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1476.29" y="-30620" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-211" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1460.8000000000002" y="-32260" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-212" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1519.0899999999997" y="-32240" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-213" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="801.1700000000002" y="-31845" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-214" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="789.4600000000002" y="-31825" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-215" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="866.89" y="-31995" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-216" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MergedBeanDefinitionPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="860.18" y="-31975" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-217" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1765.83" y="-32020" width="362.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-218" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1785.3899999999999" y="-32000" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-219" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1910.6799999999998" y="-31852" width="410" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-220" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1930.85" y="-31832" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-221" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1974.73" y="-31720" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-222" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1970.9099999999999" y="-31700" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-223" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1776.69" y="-31557" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-224" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAdvisorAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1779.98" y="-31537" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-225" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="446.63999999999993" y="-31855" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-226" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ScheduledAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="443.9299999999999" y="-31835" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-227" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2853.66" y="-32011" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-228" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationContextAwareProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2851.95" y="-31991" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-229" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1144.6099999999997" y="-31845" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-230" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AutowiredAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1141.1799999999998" y="-31815" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-233" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2201.24" y="-31537" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-234" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanNameAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2229.5299999999997" y="-31517" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-235" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1599.46" y="-31447" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-236" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AspectJAwareAdvisorAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1571.9699999999993" y="-31427" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-237" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1564.46" y="-31337" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-238" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AnnotationAwareAspectJAutoProxyCreator&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1532.7499999999995" y="-31317" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-241" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2440.68" y="-31787" width="460" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-242" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractBeanFactoryAwareAdvisingPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2460.3999999999996" y="-31762" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-245" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1574.3299999999995" y="-32892" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-246" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;TaskNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1645.4299999999998" y="-32870" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-247" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="2180.4199999999996" y="-33143" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-248" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SimplePropertyNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2200.0299999999997" y="-33113" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-249" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1267.1499999999999" y="-33153" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-250" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;NamespaceHandlerSupport&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1324" y="-33133" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-251" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="727.1899999999997" y="-33040" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-252" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;CacheNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="792.87" y="-33010" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-253" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1401.1599999999999" y="-32770" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-254" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MvcNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1456.16" y="-32740" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-255" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1791.09" y="-33153" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-256" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SimpleConstructorNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1794.5" y="-33128" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-257" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1651.6199999999997" y="-33010" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-258" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;JdbcNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1703.33" y="-32985" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-259" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="823.9999999999998" y="-32886" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-260" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DubboNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="845.49" y="-32856" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-261" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1020.9300000000001" y="-32770" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-262" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AopNamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1086.26" y="-32750" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-263" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1624.2799999999997" y="-33393" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-264" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;NamespaceHandler&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1679.64" y="-33368" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-265" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1151.2199999999998" y="-26225" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-266" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DubboConfigAliasPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1178.7400000000002" y="-26205" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-267" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="914.6699999999998" y="-26410" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-268" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanDefinitionRegistryPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="924.6700000000003" y="-26385" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-269" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="724.0800000000002" y="-26220" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-270" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ConfigurationClassPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="758.1400000000001" y="-26200" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-271" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="460.6400000000001" y="-26500" width="421.44" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-272" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractDependsOnBeanFactoryPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="479.1200000000001" y="-26475" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-273" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="858.3" y="-26640" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-274" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="895.0200000000002" y="-26620" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-275" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="475.6799999999999" y="-32000" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-276" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DestructionAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="470.1800000000001" y="-31965" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-277" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1501.06" y="-31869.5" width="344.49" height="75" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-278" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;CommonAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1510.9300000000003" y="-31849.5" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-279" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2395.68" y="-31995" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-280" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AbstractAdvisingBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2407.68" y="-31965" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-281" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2634.8199999999997" y="-31507" width="321.72" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-282" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AsyncAnnotationBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2645.93" y="-31477" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-283" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-279" target="R36P5IaH8ckpL3Td1BHd-211" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2225.68" y="-31650" as="sourcePoint" />
            <mxPoint x="2275.68" y="-31700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-284" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-241" target="R36P5IaH8ckpL3Td1BHd-279" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1930.12" y="-31637" as="sourcePoint" />
            <mxPoint x="1980.12" y="-31687" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-285" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-281" target="R36P5IaH8ckpL3Td1BHd-241" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1930.12" y="-31637" as="sourcePoint" />
            <mxPoint x="1980.12" y="-31687" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-286" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-233" target="R36P5IaH8ckpL3Td1BHd-221" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1936.9699999999998" y="-31797" as="sourcePoint" />
            <mxPoint x="1986.9699999999998" y="-31847" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-287" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-221" target="R36P5IaH8ckpL3Td1BHd-219" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1936.9699999999998" y="-31797" as="sourcePoint" />
            <mxPoint x="1996.9699999999998" y="-31797" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-288" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-219" target="R36P5IaH8ckpL3Td1BHd-217" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2009.9699999999998" y="-31778" as="sourcePoint" />
            <mxPoint x="2115.68" y="-31920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-289" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-217" target="R36P5IaH8ckpL3Td1BHd-211" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2125.81" y="-31787" as="sourcePoint" />
            <mxPoint x="2165.68" y="-32140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-290" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-227" target="R36P5IaH8ckpL3Td1BHd-211" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1915.6799999999998" y="-31860" as="sourcePoint" />
            <mxPoint x="1965.6799999999998" y="-31910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-291" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-237" target="R36P5IaH8ckpL3Td1BHd-235" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1936.9699999999998" y="-31347" as="sourcePoint" />
            <mxPoint x="1986.9699999999998" y="-31397" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-292" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-235" target="R36P5IaH8ckpL3Td1BHd-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1936.9699999999998" y="-31347" as="sourcePoint" />
            <mxPoint x="1986.9699999999998" y="-31397" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-293" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-223" target="R36P5IaH8ckpL3Td1BHd-221" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1936.9699999999998" y="-31347" as="sourcePoint" />
            <mxPoint x="1946.9699999999998" y="-31427" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-294" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-229" target="R36P5IaH8ckpL3Td1BHd-215" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425.1799999999999" y="-31885" as="sourcePoint" />
            <mxPoint x="475.1799999999999" y="-31935" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-295" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-215" target="R36P5IaH8ckpL3Td1BHd-211" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1915.6799999999998" y="-31630" as="sourcePoint" />
            <mxPoint x="2155.68" y="-32140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-296" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-213" target="R36P5IaH8ckpL3Td1BHd-215" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425.1799999999999" y="-31885" as="sourcePoint" />
            <mxPoint x="475.1799999999999" y="-31935" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-298" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-277" target="R36P5IaH8ckpL3Td1BHd-217" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1946.9699999999998" y="-31757" as="sourcePoint" />
            <mxPoint x="1996.9699999999998" y="-31807" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-300" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-275" target="R36P5IaH8ckpL3Td1BHd-211" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1625.6799999999998" y="-31600" as="sourcePoint" />
            <mxPoint x="2155.68" y="-32130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-301" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-225" target="R36P5IaH8ckpL3Td1BHd-275" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="135.1799999999999" y="-31855" as="sourcePoint" />
            <mxPoint x="185.1799999999999" y="-31905" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-302" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-225" target="R36P5IaH8ckpL3Td1BHd-215" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="135.1799999999999" y="-31855" as="sourcePoint" />
            <mxPoint x="185.1799999999999" y="-31905" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-303" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;处理@Autowired、@Value注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1171.2999999999997" y="-31770" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-304" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理@Resource、@PostConstruct、@PreDestroy注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1450.0900000000001" y="-31794.5" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-305" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理一些注解或者是AOP切面的动态代理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1532.75" y="-31247" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-306" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理Aware接口注入的&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2956.54" y="-31925" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-307" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理@Async注解&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2771.68" y="-31412" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-308" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;处理@Scheduled注解&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="575.1799999999998" y="-31787" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-309" value="&lt;div&gt;&lt;b&gt;BeanPostProcessor，中文名 Bean的后置处理器，在Bean创建的过程中起作用。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;BeanPostProcessor是Bean在创建过程中一个非常重要的扩展点，因为每个Bean在创建的各个阶段，都会回调BeanPostProcessor及其子接口的方法，传入正在创建的Bean对象，这样如果想对Bean创建过程中某个阶段进行自定义扩展，那么就可以自定义BeanPostProcessor来完成。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;说得简单点，BeanPostProcessor就是在Bean创建过程中留的口子，通过这个口子可以对正在创建的Bean进行扩展。只不过Bean创建的阶段比较多，然后BeanPostProcessor接口以及他的子接口InstantiationAwareBeanPostProcessor、DestructionAwareBeanPostProcessor就提供了很多方法，可以使得在不同的阶段都可以拿到正在创建的Bean进行扩展。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;，Spring Bean的很多注解的处理都是依靠BeanPostProcessor及其子类的实现来完成的 ,&lt;/b&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;处理@Autowired、@PostConstruct、@PreDestroy注解是如何起作用的，其实就是通过BeanPostProcessor，在Bean的不同阶段来调用对应的方法起作用的。&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="459.86" y="-32418" width="1960" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-310" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;BeanPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="464.04" y="-32510" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-311" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.112;entryY=-0.2;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-271" target="R36P5IaH8ckpL3Td1BHd-315" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="706.3600000000001" y="-26780" as="sourcePoint" />
            <mxPoint x="1054.1599999999994" y="-26840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-312" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-267" target="R36P5IaH8ckpL3Td1BHd-273" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1192.0800000000004" y="-26460" as="sourcePoint" />
            <mxPoint x="1242.0800000000004" y="-26510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-313" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-269" target="R36P5IaH8ckpL3Td1BHd-267" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1192.0800000000004" y="-26460" as="sourcePoint" />
            <mxPoint x="1242.0800000000004" y="-26510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-314" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-265" target="R36P5IaH8ckpL3Td1BHd-267" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1192.0800000000004" y="-26460" as="sourcePoint" />
            <mxPoint x="1242.0800000000004" y="-26510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R36P5IaH8ckpL3Td1BHd-315" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;BeanFactoryPostProcessor很容易就猜到是对BeanFactory，也就是Spring容器的处理。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;BeanFactoryPostProcessor是可以对Spring容器做处理的，方法的入参就是Spring的容器，通过这个接口，就对容器进行为所欲为的操作。&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="923.0700000000002" y="-26550" width="1020" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;EnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1283.27" y="-25917" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1076.35" y="-25800" width="251" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-4" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigFileApplicationListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1079.85" y="-25785" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1393.15" y="-25800" width="330.23" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigDataEnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1408.5500000000002" y="-25785" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="592.97" y="-25830" width="425.38" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DubboDefaultPropertiesEnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="590.0600000000002" y="-25815" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RandomValuePropertySourceEnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1713.6100000000001" y="-25985" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SpringApplicationJsonEnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="628.7500000000001" y="-25947" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SystemEnvironmentPropertySourceEnvironmentPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1727.35" y="-25877" width="510" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-17" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-12" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1097.35" y="-25770" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-18" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-7" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1097.35" y="-25770" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-19" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-3" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1097.35" y="-25770" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-20" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.545;exitY=0.028;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cr02tzGvcxmLTYikKdps-5" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1097.35" y="-25770" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-21" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=-0.001;exitY=0.578;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cr02tzGvcxmLTYikKdps-9" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1097.35" y="-25770" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-22" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.003;exitY=0.933;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cr02tzGvcxmLTYikKdps-13" target="cr02tzGvcxmLTYikKdps-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1717.35" y="-25840" as="sourcePoint" />
            <mxPoint x="1147.35" y="-25820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-23" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;EnvironmentPostProcessor是用来处理ConfigurableEnvironment的，也就是一些配置信息，SpringBoot所有的配置都是存在这个对象的。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;说这个类的主要原因，主要不是说扩展，而是他的一个实现类ConfigFileApplicationListener很关键。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个类的作用就是用来处理外部化配置文件的，也就是这个类是用来处理配置文件的，通过前面提到的PropertySourceLoader解析配置文件，放到ConfigurableEnvironment里面。&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="833.85" y="-25743.5" width="980" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-24" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ServletWebServerInitializedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1068.5799999999997" y="-22940" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-26" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;WebServerInitializedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1122.65" y="-23145" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-27" target="R36P5IaH8ckpL3Td1BHd-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.9099999999999" y="-23200" as="sourcePoint" />
            <mxPoint x="1488.9099999999999" y="-23250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-25" target="cr02tzGvcxmLTYikKdps-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.9099999999999" y="-23200" as="sourcePoint" />
            <mxPoint x="1488.9099999999999" y="-23250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-31" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1644.96" y="-23150" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-32" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationContextEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1666.4099999999999" y="-23140" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-33" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-31" target="R36P5IaH8ckpL3Td1BHd-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.9099999999999" y="-23210" as="sourcePoint" />
            <mxPoint x="1488.9099999999999" y="-23260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationContextInitializedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="583.36" y="-22925" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-35" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SpringApplicationEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="838.41" y="-23145" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-38" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-36" target="R36P5IaH8ckpL3Td1BHd-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.9099999999999" y="-23210" as="sourcePoint" />
            <mxPoint x="1228.9099999999999" y="-23270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-39" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-37" target="cr02tzGvcxmLTYikKdps-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1438.9099999999999" y="-23210" as="sourcePoint" />
            <mxPoint x="1488.9099999999999" y="-23260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-40" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1506.9" y="-23060" width="232.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-41" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2019.2999999999997" y="-23085" width="232.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-42" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1621.9899999999998" y="-22975" width="232.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-43" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1891.5099999999998" y="-22980" width="232.01" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ContextStartedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1527.15" y="-23045" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-45" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ContextRefreshedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2036.5499999999997" y="-23070" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ContextStoppedEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1641.2199999999998" y="-22960" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ContextClosedEvent&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&#x9;&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1903.2799999999997" y="-22960" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-40" target="cr02tzGvcxmLTYikKdps-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1458.9099999999999" y="-23150" as="sourcePoint" />
            <mxPoint x="1508.9099999999999" y="-23200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-42" target="cr02tzGvcxmLTYikKdps-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1458.9099999999999" y="-23150" as="sourcePoint" />
            <mxPoint x="1758.9099999999999" y="-23080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-50" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-43" target="cr02tzGvcxmLTYikKdps-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1458.9099999999999" y="-23150" as="sourcePoint" />
            <mxPoint x="1768.9099999999999" y="-23060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-41" target="cr02tzGvcxmLTYikKdps-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1458.9099999999999" y="-23150" as="sourcePoint" />
            <mxPoint x="1818.9099999999999" y="-23050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;在调用ConfigurableApplicationContext 接口中的refresh()方法时触发&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2011.4" y="-23015" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-53" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;在调用ConfigurableApplicationContext的start()方法时触发&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1456.29" y="-23012" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;在调用ConfigurableApplicationContext的stop()方法时触发&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1494.6" y="-22910" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-55" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当ApplicationContext被关闭时触发该事件，也就是调用close()方法触发&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1935.81" y="-22910" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-56" value="&lt;b&gt;Spring Event事件在Spring内部中运用很多，是解耦合的利器。在实际项目中，&lt;/b&gt;&lt;div&gt;&lt;b&gt;你既可以监听Spring/Boot内置的一些事件，进行相应的扩展，也可以基于这套模型在业务中自定义事件和相应的监听器，减少业务代码的耦合。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="299.37000000000006" y="-23530" width="790" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-57" value="&lt;b&gt;当web服务器启动完成之后，就发布ServletWebServerInitializedEvent事件&lt;/b&gt;&lt;div&gt;&lt;b&gt;然后不同的注册中心的实现都只需要监听这个事件，就知道web服务器已经创建好了，那么就可以往注册中心注册服务实例了&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="896.5899999999999" y="-22880" width="680" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-58" value="&lt;b&gt;SpringCloud提供了一个抽象类 AbstractAutoServiceRegistration，&lt;/b&gt;&lt;div&gt;&lt;b&gt;实现了对WebServerInitializedEvent（ServletWebServerInitializedEvent的父类）事件的监听&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1111.94" y="-23105" width="530" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-59" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Spring 命名空间&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="457" y="-33510" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-60" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;解析命名空间很简单，Spring都有配套的东西--NamespaceHandler接口，只要实现这个接口就行了。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 153, 255);&quot;&gt;但一般我们不直接实现 NamespaceHandler 接口，我们可以继承 NamespaceHandlerSupport 类，这个类实现了 NamespaceHandler 接口。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="487.28" y="-33448" width="780" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-62" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-259" target="R36P5IaH8ckpL3Td1BHd-249" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1242" y="-33023" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-63" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-249" target="R36P5IaH8ckpL3Td1BHd-263" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1562" y="-32963" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-64" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-251" target="R36P5IaH8ckpL3Td1BHd-249" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1562" y="-32963" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-65" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-261" target="R36P5IaH8ckpL3Td1BHd-249" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1562" y="-32963" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-67" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-255" target="R36P5IaH8ckpL3Td1BHd-263" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1562" y="-32963" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-68" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-247" target="R36P5IaH8ckpL3Td1BHd-263" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1562" y="-32963" as="sourcePoint" />
            <mxPoint x="1612" y="-33013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-69" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-257" target="R36P5IaH8ckpL3Td1BHd-249" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1360" y="-32950" as="sourcePoint" />
            <mxPoint x="1410" y="-33000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-70" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-245" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1360" y="-32950" as="sourcePoint" />
            <mxPoint x="1430" y="-33070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-71" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="R36P5IaH8ckpL3Td1BHd-253" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1360" y="-32950" as="sourcePoint" />
            <mxPoint x="1430" y="-33070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-102" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-669.5" y="-102" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-103" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeanFactory ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-633" y="-82" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-104" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-669.5" y="-215" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-105" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeanDefinitionRegistry ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-664.5" y="-195" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-106" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-668.5" y="-572" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-107" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanDefinitionReader&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-599.5" y="-552" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-108" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-668" y="-800" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-109" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;initialize ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-543" y="-780" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-110" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="-113.99999999999977" y="2811" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-111" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-40.87999999999991" y="2831" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-112" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-148" y="-217" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-113" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanDefinitionRegistryPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-138" y="-197" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-114" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-143" y="21" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-115" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-78" y="41" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-116" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-175.6199999999999" y="-800" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-117" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationContextInitializer&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-105.61999999999989" y="-778" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-142" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-673" y="1056" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-143" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessPropertyValues ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-632" y="1078" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-144" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-671.75" y="953" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-145" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessProperties ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-620.5" y="978" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-146" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-671" y="833" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-148" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-671.75" y="718" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-149" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInstantiation ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-637.75" y="738" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-150" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-670.5" y="593" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-151" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessMergedBeanDefinition ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-658.5" y="613" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-152" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-673" y="368" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-153" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;determineCandidateConstructors&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-653" y="383" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-154" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-672" y="258" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-156" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-671" y="138" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-157" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInstantiation ()&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-656" y="163" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-158" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-149.5" y="591" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-159" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MergedBeanDefinitionPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-129.5" y="611" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-160" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-1127" y="378" width="380" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-161" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;SmartInstantiationAwareBeanPostProcessor&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;与其他扩展点最明显的不同，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;就是在实际的业务开发场景中应用到的机会并不多，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;主要是在Spring内部应用。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;predictBeanType：&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;该触发点发生在postProcessBeforeInstantiation之前&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;(也就是在 InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;的方法之前&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;b style=&quot;font-size: 16px; color: rgb(255, 0, 0); background-color: transparent;&quot;&gt;用于预测Bean的类型&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;determineCandidateConstructors：&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;该触发点发生在postProcessBeforeInstantiation之后，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;用于决定使用哪个构造器构造Bean，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;返回的是该bean的所有构造函数列表&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;getEarlyBeanReference：&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;该触发点发生在postProcessAfterInstantiation&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;b style=&quot;font-size: 16px; color: rgb(255, 0, 0); background-color: transparent;&quot;&gt;之后，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;主要用于Spring循环依赖问题的解决，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;如果Spring中检测不到循环依赖，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;这个方法不会被调用&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1114" y="458" width="430" height="340" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-162" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-141.5" y="266" width="400" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-163" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-91.5" y="291" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-192" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="1510.5" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-193" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setBeanName ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-592.5" y="1530.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-194" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-673" y="1388" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-195" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;getEarlyBeanReference ()&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-625.5" y="1413" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-196" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-674.5" y="1278" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-198" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="1168" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-200" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-1082.75" y="2943" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-201" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;是在bean的初始化阶段，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果对一个方法标注了@PostConstruct，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;会先调用这个方法。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这里重点是要关注下这个标准的触发点，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个触发点是在postProcessBeforeInitialization之后，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;InitializingBean.afterPropertiesSet之前。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1095.5" y="3018" width="420" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-202" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-131.6199999999999" y="1833" width="565" height="715" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-203" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanPostProcessor 扩展接口的具体实现，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;但是该类内部却有6个扩展点可供实现 ，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这些扩展点的触发时机在bean实例化之后，初始化之前。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;该类用于执行各种驱动接口，在bean实例化之后，属性填充之后。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其内部有6个扩展点可供实现，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这几个接口都是Spring预留的重点扩展实现，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;与Spring的 Bean的生命周期 密切相关&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-105.61999999999989" y="2548" width="490" height="150" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-204" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;gradientColor=#ffd966;" parent="1" vertex="1">
          <mxGeometry x="-1104" y="1738" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-205" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanFactoryAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1029" y="1758" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-206" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="-131.5" y="1618" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-207" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanClassLoaderAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-41.50000000000003" y="1638" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-208" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" parent="1" vertex="1">
          <mxGeometry x="-1104" y="1510.5" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-209" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanNameAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1004" y="1530.5" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-210" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0); background-color: transparent;&quot;&gt;&lt;b&gt;在容器刷新refresh之前调用 此类的initialize方法。&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0); background-color: transparent;&quot;&gt;&lt;b&gt;这个接口的主要目的是在&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;&amp;nbsp;Spring 应用上下文初始化的早期阶段进行一些配置或调整，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;以便在上下文加载后可以使用这些配置&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;使用 ApplicationContextInitializer 来在应用上下文初始化时进行一些环境相关的配置，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;例如设置系统属性、加载外部配置文件等&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-111.5" y="-730" width="490" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-218" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在spring在读取beanDefinition信息之后，实例化bean之前。虽然此时不能再注册beanDefinition，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;但是可以趁着bean没有实例化，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;可以修改 Spring 容器启动时修改其内部的 BeanDefinition。通过实现 BeanFactoryPostProcessor 接口，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;开发者可以在 Bean 实例化之前修改 Bean 的定义元数据，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;例如Scope、依赖查找方式、初始化方法、修改属性值、添加额外的元数据等，进而影响初始化行为。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-143" y="106" width="600" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-220" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinitionRegistryPostProcessor为容器级后置处理器。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;容器级的后置处理器会在Spring容器初始化后、&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;刷新前执行一次，用于动态注册Bean到容器。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;通过 BeanFactoryPostProcessor 的子类 BeanDefinitionRegistryPostProcessor，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;可以注册一个你自己的BeanDefinition对象到容器中，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;等待容器内部依次调用进行对象实例化就能当bean用了。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinitionRegistryPostProcessor用于在bean解析后实例化之前&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;通过BeanDefinitionRegistry对BeanDefintion进行增删改查。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-148" y="-155" width="480" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-221" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanPostProcessor 接口定义了两个基本的Bean初始化回调方法，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在属性赋值前后执行。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;postProcessBeforeInitialization：在 Bean 初始化方法（如 @PostConstruct、&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;InitializingBean.afterPropertiesSet 或自定义初始化方法）&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;调用之前执行；返回的对象将是实际注入到容器中的 Bean，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果返回 null，则该 Bean 不会被注册。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;可用于创建代理类&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;postProcessAfterInitialization：初始化bean之后，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;返回的对象将是实际注入到容器中的 Bean，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果返回 null，则该 Bean 不会被注册。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-117.87999999999988" y="2888" width="460" height="190" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-222" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;InstantiationAwareBeanPostProcessor也属于Bean级的后置处理器&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;BeanPostProcessor接口只在bean的初始化阶段进行扩展（注入spring上下文前后），&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;而InstantiationAwareBeanPostProcessor接口在此基础上增加了3个方法，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;把可扩展的范围增加了实例化阶段和属性注入阶段。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-155.5" y="349" width="490" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-223" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInstantiationAwareBeanPostProcessor&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1116" y="398" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-224" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;MergedBeanDefinitionPostProcessor 继承自 BeanPostProcessor。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;调用的时机是，在实例化之后进行的调用，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;只要是收集bean上的属性的，比如收集标记了某些注解的字段或者方法，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;都可以基于MergedBeanDefinitionPostProcessor来进行扩展。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-144.5" y="666" width="410" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-225" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;是Aware扩展的一种，触发点在bean的初始化之前，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;也就是postProcessBeforeInitialization之前，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个类的触发点方法只有一个：setBeanName。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;用于让 Bean 获得其在 Spring 容器中的名称。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1079" y="1585.5" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-226" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;用于让一个 Bean 获取到加载它的 ClassLoader。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;实现这个接口的 Bean 会在其属性设置完成后、&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;初始化方法调用之前被注入 ClassLoader。该接口定义了一个方法：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;void setBeanClassLoader(ClassLoader classLoader)：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在某些需要动态加载类的场景中，&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;获取 ClassLoader 是非常有用的。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-111.5" y="1698" width="390" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-227" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个类只有一个触发点，发生在bean的实例化之后，注入属性之前，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;也就是Setter之前。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个类的扩展点方法为setBeanFactory，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;可以拿到BeanFactory这个属性，从而能够进行更复杂的 Bean 操作。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;例如，动态获取其他 Bean、检查 Bean 的状态等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1104" y="1813" width="400" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-229" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;@PostConstruct&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-987.75" y="2963" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-230" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-672" y="4624" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-231" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;@PreDestroy 注解的方法&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-607" y="4649" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-232" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="-673" y="4741" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-233" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;destroy()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-566.5" y="4761" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-234" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="2453" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-235" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setApplicationContext ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-628" y="2473" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-236" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="-676" y="2338" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-237" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setMessageSource ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-631" y="2365" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-238" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="2218" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-239" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setApplicationEventPublisher ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-650.5" y="2238" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-240" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="2098" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-241" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setResourceLoader ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-622.5" y="2118" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-242" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="1979" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-243" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setEmbeddedValueResolver ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-644" y="1999" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-244" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-674.5" y="1858" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-245" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setEnvironment ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-595.5" y="1883" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-246" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="1738" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-247" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setBeanFactory ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-595.5" y="1758" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-248" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-674.5" y="1618" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-249" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;setBeanClassLoader ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-592" y="1633" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-250" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="-149.5" y="4741" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-251" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DisposableBean&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-69.5" y="4771" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-252" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-1067" y="4624" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-253" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;@PreDestroy&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-977" y="4644" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-256" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-143.5" y="4394" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-257" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationRunner&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-68.5" y="4424" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-258" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-136.5" y="4273" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-259" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;CommandLineRunner&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-106.5" y="4293" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-260" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;gradientColor=#ea6b66;" parent="1" vertex="1">
          <mxGeometry x="-143.5" y="4046" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-261" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;FactoryBean&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-43.50000000000003" y="4066" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-262" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;gradientColor=#b3b3b3;" parent="1" vertex="1">
          <mxGeometry x="-1064" y="4158" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-263" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SmartInitializingSingleton&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1009.0000000000001" y="4188" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-264" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-117.87999999999988" y="3292" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-265" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;InitializingBean&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-30.879999999999995" y="3312" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-266" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;InitializingBean接口为bean提供了初始化方法的方式，它只在bean实例化、&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;属性注入后的提供了一个扩展点afterPropertiesSet方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;凡是继承该接口的类，在初始前、属性赋值后，都会执行该方法。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个扩展点的触发时机在postProcessAfterInitialization之前&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-116.87999999999988" y="3362" width="430" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-268" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;接口中只有一个方法afterSingletonsInstantiated，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其作用是是 在spring容器管理的所有单例对象&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;（非懒加载对象）初始化完成之后调用的回调接口。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其触发时机为postProcessAfterInitialization之后。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1032.75" y="4238" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-269" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Spring通过反射机制利用bean的class属性指定支线类去实例化bean，在某些情况下，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;实例化Bean过程比较复杂，如果按照传统的方式，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;则需要在bean中提供大量的配置信息。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Spring为此提供了一个org.springframework.bean.factory.FactoryBean的工厂类接口，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;用户可以通过实现该接口定制实例化Bean的逻辑。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;FactoryBean接口对于Spring框架来说占有重要的地位，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Spring自身就提供了70多个FactoryBean的实现。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;它们隐藏了实例化一些复杂bean的细节，给上层应用带来了便利。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-143.5" y="4116" width="500" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-270" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;接口触发时机为整个项目启动完毕后，自动执行。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果有多个CommandLineRunner，可以利用@Order来进行排序。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-136.5" y="4353" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-273" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;@PreDestroy 与@PostConstruct一样，是 Java EE 中的一个注解，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;用于在 Spring 容器销毁 Bean 之前执行特定的方法。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;这个注解通常用于释放资源、关闭连接、清理缓存等操作。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;与 @PostConstruct 类似，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;@PreDestroy 注解的方法会在 Bean 被销毁之前被调用。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1054.5" y="4694" width="390" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-274" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" parent="1" vertex="1">
          <mxGeometry x="-673" y="4274" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-275" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;run ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-553" y="4304" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-276" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="4151" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-277" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;afterSingletonsInstantiated ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-639.5" y="4171" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-278" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="-674.5" y="4026" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-279" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;getObject ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-567" y="4046" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-280" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-673" y="3405" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-282" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="3292" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-283" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;afterPropertiesSet ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-603.5" y="3312" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-284" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-676" y="3053" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-286" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="2943" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-287" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;@PostConstruct 注解的方法&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-623" y="2968" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-288" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="2811" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-290" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-676" y="2687" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-292" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-675.5" y="2563" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-293" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-649.5" y="2588" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cr02tzGvcxmLTYikKdps-295" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;只有一个方法：destroy()，其触发时机为当此对象销毁、&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Spring容器关闭时，会自动执行这个方法。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;比如说运行applicationContext.registerShutdownHook时，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;就会触发这个方法。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-141.6199999999999" y="4811" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-633.5" y="-689.5" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-906" y="-689.5" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-365.5" y="-689.5" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-633.5" y="-462" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-635.5" y="-337.5" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-637" y="478" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-640.5" y="3168" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-638" y="3908.5" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-637" y="4511" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-10" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;销毁destruction&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-577" y="4533.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-11" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;初始化instantiation&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-593" y="3925.5" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-12" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;属性赋值populate&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-580.5" y="3194" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-13" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;实例化instantiation&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-597" y="498" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-14" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;bean解析&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-558.5" y="-435" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-15" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanDefinition注册&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-595.5" y="-315" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-16" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;xml文件&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-826.9999999999999" y="-667" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-17" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;annotation注解&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-578.5" y="-667.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-18" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;configuration配置类&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-325.5" y="-667" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-19" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-670.5" y="23" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-20" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeanFactory()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-634" y="43" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-22" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInstantiation ()&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-651" y="278" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-29" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInstantiation ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-630" y="853" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-30" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessProperties ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-603.5" y="1193" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-31" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessPropertyValues ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-627" y="1298" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-33" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-646" y="2707" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-34" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-644.5" y="2831" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-35" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessBeforeInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-651" y="3073" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-36" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-626.75" y="3425" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-38" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="-673.5" y="3538" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-39" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-627.25" y="3558" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-40" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="-671.75" y="3663" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-41" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-625.5" y="3683" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-43" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" parent="1" vertex="1">
          <mxGeometry x="-671.75" y="4394" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-45" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;run ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-552.75" y="4414" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-108" target="1F31O4Q_xerzX_LfgKMW-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-332" as="sourcePoint" />
            <mxPoint x="-179.5" y="-382" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-2" target="cr02tzGvcxmLTYikKdps-106" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-512" as="sourcePoint" />
            <mxPoint x="-179.5" y="-562" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-48" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-1" target="cr02tzGvcxmLTYikKdps-106" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-512" as="sourcePoint" />
            <mxPoint x="-179.5" y="-562" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-3" target="cr02tzGvcxmLTYikKdps-106" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-512" as="sourcePoint" />
            <mxPoint x="-179.5" y="-562" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-50" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-106" target="1F31O4Q_xerzX_LfgKMW-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-332" as="sourcePoint" />
            <mxPoint x="-179.5" y="-382" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-4" target="1F31O4Q_xerzX_LfgKMW-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-332" as="sourcePoint" />
            <mxPoint x="-179.5" y="-382" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-5" target="cr02tzGvcxmLTYikKdps-104" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-152" as="sourcePoint" />
            <mxPoint x="-179.5" y="-202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-104" target="cr02tzGvcxmLTYikKdps-102" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="-152" as="sourcePoint" />
            <mxPoint x="-179.5" y="-202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-54" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-102" target="1F31O4Q_xerzX_LfgKMW-19" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="38" as="sourcePoint" />
            <mxPoint x="-179.5" y="-12" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-55" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-19" target="cr02tzGvcxmLTYikKdps-156" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="38" as="sourcePoint" />
            <mxPoint x="-179.5" y="-12" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-156" target="cr02tzGvcxmLTYikKdps-154" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="218" as="sourcePoint" />
            <mxPoint x="-179.5" y="168" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-154" target="cr02tzGvcxmLTYikKdps-152" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="218" as="sourcePoint" />
            <mxPoint x="-179.5" y="168" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-58" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-152" target="1F31O4Q_xerzX_LfgKMW-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="398" as="sourcePoint" />
            <mxPoint x="-179.5" y="348" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-59" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-6" target="cr02tzGvcxmLTYikKdps-150" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="578" as="sourcePoint" />
            <mxPoint x="-179.5" y="528" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-60" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-150" target="cr02tzGvcxmLTYikKdps-148" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="758" as="sourcePoint" />
            <mxPoint x="-179.5" y="708" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-61" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-148" target="cr02tzGvcxmLTYikKdps-146" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="758" as="sourcePoint" />
            <mxPoint x="-179.5" y="708" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-62" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-146" target="cr02tzGvcxmLTYikKdps-144" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1128" as="sourcePoint" />
            <mxPoint x="-179.5" y="1078" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-63" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-144" target="cr02tzGvcxmLTYikKdps-142" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1128" as="sourcePoint" />
            <mxPoint x="-179.5" y="1078" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-64" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-142" target="cr02tzGvcxmLTYikKdps-198" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1308" as="sourcePoint" />
            <mxPoint x="-179.5" y="1258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-65" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-198" target="cr02tzGvcxmLTYikKdps-196" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1308" as="sourcePoint" />
            <mxPoint x="-179.5" y="1258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-66" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-196" target="cr02tzGvcxmLTYikKdps-194" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1488" as="sourcePoint" />
            <mxPoint x="-179.5" y="1438" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-67" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-194" target="cr02tzGvcxmLTYikKdps-192" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1488" as="sourcePoint" />
            <mxPoint x="-179.5" y="1438" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-68" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-192" target="cr02tzGvcxmLTYikKdps-248" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1668" as="sourcePoint" />
            <mxPoint x="-179.5" y="1618" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-69" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-248" target="cr02tzGvcxmLTYikKdps-246" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1848" as="sourcePoint" />
            <mxPoint x="-179.5" y="1798" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-70" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-246" target="cr02tzGvcxmLTYikKdps-244" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="1848" as="sourcePoint" />
            <mxPoint x="-179.5" y="1798" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-71" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-244" target="cr02tzGvcxmLTYikKdps-242" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2038" as="sourcePoint" />
            <mxPoint x="-179.5" y="1988" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-72" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-242" target="cr02tzGvcxmLTYikKdps-240" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2398" as="sourcePoint" />
            <mxPoint x="-179.5" y="2348" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-73" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-240" target="cr02tzGvcxmLTYikKdps-238" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2398" as="sourcePoint" />
            <mxPoint x="-179.5" y="2348" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-74" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-238" target="cr02tzGvcxmLTYikKdps-236" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2398" as="sourcePoint" />
            <mxPoint x="-179.5" y="2348" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-236" target="cr02tzGvcxmLTYikKdps-234" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2578" as="sourcePoint" />
            <mxPoint x="-179.5" y="2528" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-76" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-234" target="cr02tzGvcxmLTYikKdps-292" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2578" as="sourcePoint" />
            <mxPoint x="-179.5" y="2528" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-77" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-292" target="cr02tzGvcxmLTYikKdps-290" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2758" as="sourcePoint" />
            <mxPoint x="-179.5" y="2708" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-78" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-290" target="cr02tzGvcxmLTYikKdps-288" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="2938" as="sourcePoint" />
            <mxPoint x="-179.5" y="2888" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-79" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-288" target="cr02tzGvcxmLTYikKdps-286" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3128" as="sourcePoint" />
            <mxPoint x="-179.5" y="3078" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-80" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-286" target="cr02tzGvcxmLTYikKdps-284" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3128" as="sourcePoint" />
            <mxPoint x="-179.5" y="3078" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-81" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-284" target="1F31O4Q_xerzX_LfgKMW-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3308" as="sourcePoint" />
            <mxPoint x="-179.5" y="3258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-82" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-7" target="cr02tzGvcxmLTYikKdps-282" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3488" as="sourcePoint" />
            <mxPoint x="-179.5" y="3438" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-83" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-282" target="cr02tzGvcxmLTYikKdps-280" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3488" as="sourcePoint" />
            <mxPoint x="-179.5" y="3438" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-84" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-280" target="1F31O4Q_xerzX_LfgKMW-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3668" as="sourcePoint" />
            <mxPoint x="-179.5" y="3618" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-85" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-38" target="1F31O4Q_xerzX_LfgKMW-40" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="3848" as="sourcePoint" />
            <mxPoint x="-179.5" y="3798" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-86" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.494;entryY=0.029;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-40" target="1F31O4Q_xerzX_LfgKMW-140" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4038" as="sourcePoint" />
            <mxPoint x="-512.5" y="3768" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-87" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-8" target="cr02tzGvcxmLTYikKdps-278" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4351" as="sourcePoint" />
            <mxPoint x="-179.5" y="4301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-88" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-278" target="cr02tzGvcxmLTYikKdps-276" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4351" as="sourcePoint" />
            <mxPoint x="-179.5" y="4301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-89" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-276" target="cr02tzGvcxmLTYikKdps-274" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4351" as="sourcePoint" />
            <mxPoint x="-179.5" y="4301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-90" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-274" target="1F31O4Q_xerzX_LfgKMW-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4351" as="sourcePoint" />
            <mxPoint x="-179.5" y="4301" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-91" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-43" target="1F31O4Q_xerzX_LfgKMW-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4531" as="sourcePoint" />
            <mxPoint x="-179.5" y="4481" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-92" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-9" target="cr02tzGvcxmLTYikKdps-230" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4711" as="sourcePoint" />
            <mxPoint x="-179.5" y="4661" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-93" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-230" target="cr02tzGvcxmLTYikKdps-232" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-229.5" y="4711" as="sourcePoint" />
            <mxPoint x="-179.5" y="4661" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-94" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#ffcc99;strokeColor=#FFB366;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-104" target="cr02tzGvcxmLTYikKdps-112" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="-12" as="sourcePoint" />
            <mxPoint x="-169.5" y="-62" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-95" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FFB366;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-102" target="cr02tzGvcxmLTYikKdps-112" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="-232" as="sourcePoint" />
            <mxPoint x="-169.5" y="-282" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-259.5" y="-67" />
              <mxPoint x="-259.5" y="-180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-96" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#97D077;" parent="1" source="cr02tzGvcxmLTYikKdps-108" target="cr02tzGvcxmLTYikKdps-116" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="-672" as="sourcePoint" />
            <mxPoint x="-169.5" y="-722" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#97D077;strokeWidth=3;" parent="1" source="1F31O4Q_xerzX_LfgKMW-19" target="cr02tzGvcxmLTYikKdps-114" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="-12" as="sourcePoint" />
            <mxPoint x="-169.5" y="-62" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-98" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" target="cr02tzGvcxmLTYikKdps-114" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-149.5" y="-182" as="sourcePoint" />
            <mxPoint x="-256.3800000000001" y="168" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-219.5" y="-182" />
              <mxPoint x="-219.5" y="58" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;继承&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-289.5" y="-52.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-100" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#cce5ff;strokeColor=#007FFF;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-156" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="658" as="sourcePoint" />
            <mxPoint x="-169.5" y="608" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="173" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#007FFF;strokeWidth=3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-148" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="658" as="sourcePoint" />
            <mxPoint x="-59.50000000000003" y="753" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="753" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-102" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-144" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="1098" as="sourcePoint" />
            <mxPoint x="-169.5" y="1048" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="988" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-142" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="1098" as="sourcePoint" />
            <mxPoint x="-169.5" y="1048" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="1091" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-104" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-292" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="2208" as="sourcePoint" />
            <mxPoint x="-169.5" y="2158" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="2598" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-105" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-280" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219.5" y="3318" as="sourcePoint" />
            <mxPoint x="-169.5" y="3268" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-229.5" y="3440" />
              <mxPoint x="-229.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-106" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#808080;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-154" target="cr02tzGvcxmLTYikKdps-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-659.5" y="588" as="sourcePoint" />
            <mxPoint x="-609.5" y="538" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="293" />
              <mxPoint x="-709.5" y="403" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-107" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.003;entryY=0.333;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#808080;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-152" target="cr02tzGvcxmLTYikKdps-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-659.5" y="838" as="sourcePoint" />
            <mxPoint x="-609.5" y="788" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-108" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.008;entryY=0.233;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#808080;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-146" target="cr02tzGvcxmLTYikKdps-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="868" as="sourcePoint" />
            <mxPoint x="-569.5" y="818" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="868" />
              <mxPoint x="-709.5" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-109" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.003;entryY=0.433;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#808080;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-198" target="cr02tzGvcxmLTYikKdps-223" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="1118" as="sourcePoint" />
            <mxPoint x="-569.5" y="1068" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="1203" />
              <mxPoint x="-709.5" y="398" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-110" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=4;strokeColor=#808080;" parent="1" source="cr02tzGvcxmLTYikKdps-196" target="cr02tzGvcxmLTYikKdps-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="868" as="sourcePoint" />
            <mxPoint x="-569.5" y="818" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="1313" />
              <mxPoint x="-709.5" y="398" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-111" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=4;strokeColor=#808080;" parent="1" source="cr02tzGvcxmLTYikKdps-194" target="cr02tzGvcxmLTYikKdps-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="868" as="sourcePoint" />
            <mxPoint x="-569.5" y="818" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="1423" />
              <mxPoint x="-709.5" y="403" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#808080;" parent="1" source="cr02tzGvcxmLTYikKdps-290" target="cr02tzGvcxmLTYikKdps-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="2118" as="sourcePoint" />
            <mxPoint x="-979.5" y="1628" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="2722" />
              <mxPoint x="-709.5" y="403" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-113" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#808080;" parent="1" source="1F31O4Q_xerzX_LfgKMW-38" target="cr02tzGvcxmLTYikKdps-160" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="2368" as="sourcePoint" />
            <mxPoint x="-1029.5" y="828" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-709.5" y="3573" />
              <mxPoint x="-709.5" y="398" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-114" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF6666;" parent="1" source="cr02tzGvcxmLTYikKdps-150" target="cr02tzGvcxmLTYikKdps-158" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="1118" as="sourcePoint" />
            <mxPoint x="-569.5" y="1068" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-115" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF6666;" parent="1" source="1F31O4Q_xerzX_LfgKMW-140" target="cr02tzGvcxmLTYikKdps-158" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-619.5" y="3368" as="sourcePoint" />
            <mxPoint x="-569.5" y="3318" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-269.5" y="3821" />
              <mxPoint x="-269.5" y="628" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-116" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;ApplicationContextAwareProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-44.62000000000003" y="1818" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-117" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-99.61999999999989" y="1858" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-118" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;EnvironmentAware&amp;nbsp;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-25.620000000000005" y="1883" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-119" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-94.61999999999989" y="1979" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-120" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;EmbeddedValueResolverAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-65.61999999999989" y="2004" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-121" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#009900;" parent="1" source="cr02tzGvcxmLTYikKdps-192" target="cr02tzGvcxmLTYikKdps-208" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-609.5" y="1498" as="sourcePoint" />
            <mxPoint x="-559.5" y="1448" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-122" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF8000;" parent="1" source="cr02tzGvcxmLTYikKdps-246" target="cr02tzGvcxmLTYikKdps-204" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-609.5" y="1788" as="sourcePoint" />
            <mxPoint x="-559.5" y="1738" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-123" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#6666FF;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-248" target="cr02tzGvcxmLTYikKdps-206" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-609.5" y="1788" as="sourcePoint" />
            <mxPoint x="-559.5" y="1738" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-124" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-91.61999999999989" y="2098" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-125" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ResourceLoaderAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-32.620000000000005" y="2123" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-126" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-94.61999999999989" y="2218" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-127" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationEventPublisherAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-70.61999999999989" y="2243" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-128" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-91.61999999999989" y="2338" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-129" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MessageSourceAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-27.620000000000005" y="2363" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-130" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-91.61999999999989" y="2453" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-131" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationContextAware&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-44.62000000000003" y="2473" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-132" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#0050ef;strokeColor=#001DBC;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-244" target="1F31O4Q_xerzX_LfgKMW-117" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2108" as="sourcePoint" />
            <mxPoint x="-339.5" y="2058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-133" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#0050ef;strokeColor=#001DBC;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-242" target="1F31O4Q_xerzX_LfgKMW-119" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2108" as="sourcePoint" />
            <mxPoint x="-339.5" y="2058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-134" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#0050ef;strokeColor=#001DBC;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-240" target="1F31O4Q_xerzX_LfgKMW-124" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2108" as="sourcePoint" />
            <mxPoint x="-339.5" y="2058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-135" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#0050ef;strokeColor=#001DBC;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-238" target="1F31O4Q_xerzX_LfgKMW-126" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2278" as="sourcePoint" />
            <mxPoint x="-339.5" y="2228" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-136" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;fillColor=#0050ef;strokeColor=#001DBC;" parent="1" source="cr02tzGvcxmLTYikKdps-236" target="1F31O4Q_xerzX_LfgKMW-128" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2278" as="sourcePoint" />
            <mxPoint x="-339.5" y="2228" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-137" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#0050ef;strokeColor=#001DBC;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-234" target="1F31O4Q_xerzX_LfgKMW-130" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="2278" as="sourcePoint" />
            <mxPoint x="-339.5" y="2228" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-138" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#CDA2BE;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-282" target="cr02tzGvcxmLTYikKdps-264" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-519.5" y="3568" as="sourcePoint" />
            <mxPoint x="-469.5" y="3518" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-140" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-670.5" y="3786" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-141" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;postProcessAfterInitialization ()&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-624.25" y="3806" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-142" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1F31O4Q_xerzX_LfgKMW-140" target="1F31O4Q_xerzX_LfgKMW-8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="3968" as="sourcePoint" />
            <mxPoint x="-339.5" y="3918" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-144" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#FFD966;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-200" target="cr02tzGvcxmLTYikKdps-286" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="3168" as="sourcePoint" />
            <mxPoint x="-339.5" y="3118" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-145" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#67AB9F;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-288" target="cr02tzGvcxmLTYikKdps-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="3168" as="sourcePoint" />
            <mxPoint x="-339.5" y="3118" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-146" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#67AB9F;strokeWidth=3;" parent="1" source="1F31O4Q_xerzX_LfgKMW-40" target="cr02tzGvcxmLTYikKdps-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-389.5" y="3368" as="sourcePoint" />
            <mxPoint x="-339.5" y="3318" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-209.5" y="3698" />
              <mxPoint x="-209.5" y="2846" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-147" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#A680B8;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-232" target="cr02tzGvcxmLTYikKdps-250" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-49.50000000000002" y="4518" as="sourcePoint" />
            <mxPoint x="0.5000000000000036" y="4468" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-148" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#999999;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-230" target="cr02tzGvcxmLTYikKdps-252" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-534.75" y="4666" as="sourcePoint" />
            <mxPoint x="137.75" y="4475" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-149" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FFD966;strokeWidth=4;" parent="1" source="cr02tzGvcxmLTYikKdps-274" target="cr02tzGvcxmLTYikKdps-258" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-49.50000000000002" y="4518" as="sourcePoint" />
            <mxPoint x="0.5000000000000036" y="4468" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-150" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FFD966;strokeWidth=4;" parent="1" source="1F31O4Q_xerzX_LfgKMW-43" target="cr02tzGvcxmLTYikKdps-256" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-249.5" y="4398" as="sourcePoint" />
            <mxPoint x="55.50000000000001" y="4397" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-151" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#B3B3B3;strokeWidth=5;" parent="1" target="cr02tzGvcxmLTYikKdps-262" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-669.5" y="4193" as="sourcePoint" />
            <mxPoint x="137.75" y="4195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-152" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF9999;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-278" target="cr02tzGvcxmLTYikKdps-260" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-49.50000000000002" y="3948" as="sourcePoint" />
            <mxPoint x="0.5000000000000036" y="3898" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-153" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF6666;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-284" target="cr02tzGvcxmLTYikKdps-158" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-49.50000000000002" y="3378" as="sourcePoint" />
            <mxPoint x="0.5000000000000036" y="3328" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-269.5" y="3088" />
              <mxPoint x="-269.5" y="628" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-154" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="cr02tzGvcxmLTYikKdps-160" target="cr02tzGvcxmLTYikKdps-162" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-49.50000000000002" y="808" as="sourcePoint" />
            <mxPoint x="0.5000000000000036" y="758" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-936.5000000000001" y="228" />
              <mxPoint x="58.50000000000001" y="228" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-155" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;继承&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-786" y="198" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-156" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-162" target="cr02tzGvcxmLTYikKdps-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-59.50000000000003" y="808" as="sourcePoint" />
            <mxPoint x="-79.5" y="2778" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-189.5" y="303" />
              <mxPoint x="-189.5" y="2848" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-157" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;继承&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-195.6199999999999" y="428" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-158" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cr02tzGvcxmLTYikKdps-158" target="cr02tzGvcxmLTYikKdps-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-59.50000000000003" y="1378" as="sourcePoint" />
            <mxPoint x="-119.5" y="2908" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-189.5" y="628" />
              <mxPoint x="-189.5" y="2848" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-159" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;继承&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-191.6199999999999" y="833" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-162" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="_SVDE998wCgmSqRCzLi5-66" target="cr02tzGvcxmLTYikKdps-116" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="590" y="-370" as="sourcePoint" />
            <mxPoint x="640" y="-420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-163" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractApplicationContext&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5290" y="929" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-164" value="&lt;b&gt;refresh（）&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5270" y="1011" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-165" value="&lt;b&gt;postProcessBeanFactory ()&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5230" y="1043" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-166" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PostProcessorRegistrationDelegate&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4950" y="929" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-167" value="&lt;b&gt;invokeBeanFactoryPostProcessors ()&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4955" y="1086" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-168" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4040" y="948" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-169" value="&lt;b&gt;AbstractBeanDefinition ()&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4040" y="1150" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-170" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4310" y="929" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-171" value="&lt;b&gt;getMergedBeanDefinition ()&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4310" y="1105" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-172" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractAutowireCapableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3750" y="948" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-173" value="&lt;b&gt;createBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3740" y="1198" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-174" value="&lt;b&gt;doCreateBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3735" y="1260" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-175" value="&lt;b&gt;initializeBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3735" y="1345" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-176" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;postProcessBeforeInitialization&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2540" y="938" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-178" value="&lt;b&gt;postProcessBeforeInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2520" y="1374" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-179" value="&lt;b&gt;applyBeanPostProcessorsBeforeInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3735" y="1378" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-180" value="&lt;b&gt;applyBeanPostProcessorsAfterInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2530" y="1497" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-181" value="&lt;b&gt;invokeInitMethods&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2525" y="1439" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-182" value="&lt;b&gt;populateBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3735" y="1298" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-183" value="&lt;b&gt;finishBeanFactoryInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5300" y="1550.5" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-184" value="&lt;b&gt;getSingleton&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4570" y="1580" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-186" value="&lt;b&gt;DefaultSingletonBeanRegistry&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4560" y="938" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-187" value="&lt;b&gt;doGetBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4365" y="1628" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-188" value="&lt;b&gt;invokeInitMethods&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2990" y="1721" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-189" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;InitDestroyAnnotationBeanPostProcessor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2945" y="948" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-190" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;postConstruct方法被调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2955" y="1756" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-191" value="&lt;b&gt;postProcessBeforeInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2985" y="1696" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-192" value="&lt;b&gt;applyBeanPostProcessorsBeforeInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3730" y="1643" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-193" value="&lt;b&gt;ApplicationContextAwareProcessor&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3290" y="953" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-194" value="&lt;b&gt;postProcessBeforeInitialization&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3308" y="1665" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-195" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Aware接口起作用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3250" y="1698" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-196" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;循环依赖起作用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4540" y="1610" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-197" value="invokeInitMethods" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3730" y="1833" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-198" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;InitializingBean接口起作用，afterPropertiesSet方法被调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3700" y="1873" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-199" value="invokeCustomInitMethod" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3721" y="1940" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-200" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;@Bean#initMethod()起作用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3680" y="1970" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-201" value="&lt;b&gt;close&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5335" y="2108" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-202" value="&lt;b&gt;destroyBean&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4880" y="2238" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-203" value="&lt;b&gt;postProcessBeforeDestruction&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2980" y="2130" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-204" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DisposableBeanAdapter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2225" y="938" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-205" value="&lt;b&gt;destroy&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2970" y="2088" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-207" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;DisposableBean接口起作用，destroy方法被调用了&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2980" y="2175.5" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-208" value="&lt;b&gt;invokeCustomDestroyMethod&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2365" y="2200" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1F31O4Q_xerzX_LfgKMW-209" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;@Bean#destroyMethod()起作用，destroyMethod方法被调用了&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2395" y="2230" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="H7hIbrW3htnUMstKq-qY-1" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinition的解析器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2020" y="-25002" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="H7hIbrW3htnUMstKq-qY-3" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ApplicationEventPublisher：让容器拥有发布应用上下文事件的功能，包括容器启动事件、关闭事件等。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;实现了 ApplicationListener 事件监听接口的 Bean 可以接收到容器事件 ， 并对事件进行响应处理 。&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;在 ApplicationContext 抽象实现类AbstractApplicationContext 中，我们可以发现存在一个 ApplicationEventMulticaster，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;它负责保存所有监听器，以便在容器产生上下文事件时通知这些事件监听者。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2128.33" y="-21660" width="690" height="70" as="geometry" />
        </mxCell>
        <mxCell id="H7hIbrW3htnUMstKq-qY-4" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;所 有 ApplicationContext 实现类都实现了类似于PathMatchingResourcePatternResolver 的功能，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;可以通过带前缀的 Ant 风格的资源文件路径装载 Spring 的配置文件。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2140" y="-21970" width="560" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-3" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;工厂模式定义了IOC容器的基本功能规范&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1282.12" y="-19782" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-4" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;父子级联 IoC 容器的接口，子容器可以通过接口方法访问父容器；&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;通过 HierarchicalBeanFactory 接口， Spring 的 IoC 容器可以建立父子层级关联的容器体系，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;子容器可以访问父容器中的 Bean，但父容器不能访问子容器的 Bean。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1267.15" y="-19607" width="530" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-5" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;定义了将容器中的 Bean 按某种规则（如按名字匹配、按类型匹配等）进行自动装配的方法；&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1446.96" y="-19218" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-6" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;向IOC容器手工注册 BeanDefinition 对象的方法&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3042.46" y="-24840" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2570" y="-24360" width="291.12" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-8" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;BeanDefinitionHolder&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2624.8599999999997" y="-24345" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-9" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinitionHolder 是BeanDefination的包装类，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;用来存储BeanDefinition，name以及aliases等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2551.95" y="-24290" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-10" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;为应用提供 i18n 国际化消息访问的功能；&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="651" y="-21810" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-12" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LifeCycle&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="927.5" y="-21550" width="182.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-13" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="OZDBB6FNwcegUENohpiK-266" target="Zfu1pSEzlug92QJOXgdT-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1490" y="-21430" as="sourcePoint" />
            <mxPoint x="1540" y="-21480" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1375" y="-21450" />
              <mxPoint x="1019" y="-21450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-14" value="&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;该接口是 Spring 2.0 加入的，该接口提供了 start()和 stop()两个方法，主要用于控制异步处理过程。&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;在具体使用时，该接口同时被 ApplicationContext 实现及具体 Bean 实现，&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ApplicationContext 会将 start/stop 的信息传递给容器中所有实现了该接口的 Bean，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;以达到管理和控制 JMX、任务调度等目的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="583" y="-21420" width="560" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-15" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;是初始化的时候就创建容器，往后的每次refresh都不会更改&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="804.61" y="-21021" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-16" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractRefreshableApplicationContext及子类的每次refresh都是先清除已有(如果不存在就创建)的容器，然后再重新创建；&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractRefreshableApplicationContext及子类无法做到GenericApplicationContext混合搭配从不同源头获取bean的定义信息&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1807.69" y="-21026" width="710" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-17" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;从文件系统下的一个或多个xml配置文件中加载上下文定义，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;也就是说系统盘符中加载xml配置文件。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1645.43" y="-20689" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-18" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;从类路径下的一个或多个xml配置文件中加载上下文定义，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;适用于xml配置的方式。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1234" y="-20689" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-19" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;从一个或多个基于java的配置类中加载上下文定义，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;适用于java注解的方式。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="253.5" y="-20680" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-20" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;扩展于 ApplicationContext，它新增加了两个主要的方法：&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;refresh()和 close()，让 ApplicationContext 具有启动、刷新和关闭应用上下文的能力。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在应用上下文关闭的情况下调用 refresh()即可启动应用上下文，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;在已经启动的状态下，调用 refresh()则清除缓存并重新装载配置信息，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;而调用close()则可关闭应用上下文。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1544.31" y="-21380" width="490" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-21" value="&lt;div&gt;&lt;b&gt;设计者在设计时AnnotationConfigApplicationContext为什么是继承GenericApplicationContext？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;因为基于注解的配置，是不太会被运行时修改的，这意味着不需要进行动态Bean配置和刷新容器，所以只需要GenericApplicationContext。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;而基于XML这种配置文件，这种文件是容易修改的，需要动态性刷新Bean的支持，所以XML相关的配置必然继承AbstractRefreshableApplicationContext；&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&amp;nbsp;且存在多种xml的加载方式（位置不同的设计），所以必然会设计出AbstractXmlApplicationContext, 其中包含对XML配置解析成BeanDefination的过程。&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="597" y="-20660" width="860" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 25px;&quot;&gt;Spring的IoC容器初始化过程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-6559.88" y="5885" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-23" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;IOC容器的初始化整体过程&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Spring是如何实现将资源配置（以xml配置为例）通过加载，解析，生成BeanDefination并注册到IoC容器中的？这主要会经过以下 4 步：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;从XML中读取配置文件，并将配置文件转换为Document&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;再将Document中的 bean标签解析成 BeanDefinition，如解析 property 元素， 并注入到 BeanDefinition 实例中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将 BeanDefinition 注册到容器 BeanDefinitionMap 中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanFactory 根据 BeanDefinition 的定义信息创建实例化和初始化 bean。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-6556" y="5915" width="1000" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-24" value="&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;启动的入口&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;对于xml配置的Spring应用，在main()方法中实例化ClasspathXmlApplicationContext即可创建一个IoC容器。可以从这个构造方法开始，探究一下IoC容器的初始化过程。&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px; visibility: visible;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// create and configure beans&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;ApplicationContext context =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ClassPathXmlApplicationContext(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;aspects.xml&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;daos.xml&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;services.xml&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;ClassPathXmlApplicationContext&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String... configLocations)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(configLocations,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, (ApplicationContext)&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;ClassPathXmlApplicationContext&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String[] configLocations,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;refresh, @Nullable ApplicationContext parent)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 设置Bean资源加载器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;super&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(parent);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 设置配置路径&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.setConfigLocations(configLocations);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 初始化容器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(refresh) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.refresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这里的作用就是加载了一个解析配置文件路径的加载器，然后通过系统环境变量拿到这个配置文件，进行一些配置文件的去空格，转换表达式等等操作(注意，这里没有进行解析)；最后通过 refresh方法 完成了几乎所有的工作。&lt;/span&gt;&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;设置资源解析器和环境&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;调用父类容器AbstractApplicationContext的构造方法(&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;super(parent)&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;方法)为容器设置好Bean资源加载器&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractApplicationContext&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(@Nullable ApplicationContext parent)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 默认构造函数初始化容器id, name, 状态 以及 资源解析器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 将父容器的Environment合并到当前容器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.setParent(parent);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;通过AbstractApplicationContext默认构造函数初始化容器id, name, 状态 以及 资源解析器&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractApplicationContext&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.logger = LogFactory.getLog(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getClass());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.id = ObjectUtils.identityToString(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.displayName = ObjectUtils.identityToString(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanFactoryPostProcessors =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ArrayList();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.active =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;AtomicBoolean();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.closed =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;AtomicBoolean();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.startupShutdownMonitor =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Object();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationStartup = ApplicationStartup.DEFAULT;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationListeners =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;LinkedHashSet();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.resourcePatternResolver =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getResourcePatternResolver();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Spring资源加载器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ResourcePatternResolver&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;getResourcePatternResolver&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;PathMatchingResourcePatternResolver(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;通过AbstractApplicationContext的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;setParent(parent)&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;方法将父容器的Environment合并到当前容器&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;setParent&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(@Nullable ApplicationContext parent)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.parent = parent;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(parent !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Environment parentEnvironment = parent.getEnvironment();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(parentEnvironment&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ConfigurableEnvironment) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment().merge((ConfigurableEnvironment)parentEnvironment);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;设置配置路径&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;在设置容器的资源加载器之后，接下来FileSystemXmlApplicationContet执行setConfigLocations方法通过调用其父类AbstractRefreshableConfigApplicationContext的方法进行对Bean定义资源文件的定位&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;setConfigLocations&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(@Nullable String... locations)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(locations !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Assert.noNullElements(locations,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Config locations must not be null&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.configLocations =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;String[locations.length];&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;i =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;; i &amp;lt; locations.length; ++i) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 解析配置路径&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.configLocations[i] =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.resolvePath(locations[i]).trim();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.configLocations =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;String&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;resolvePath&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String path)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 从上一步Environment中解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment().resolveRequiredPlaceholders(path);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-6825.5" y="6135" width="1500" height="2710" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-25" value="&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;启动的主体流程&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Spring IoC容器对Bean定义资源的载入是从refresh()函数开始的，refresh()是一个&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;模板方法&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;refresh()方法的作用是：在创建IoC容器前，如果已经有容器存在，则需要把已有的容器销毁和关闭，以保证在refresh之后使用的是新建立起来的IoC容器。refresh的作用类似于对IoC容器的重启，在新建立好的容器中对容器进行初始化，对Bean定义资源进行载入。&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;refresh&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException, IllegalStateException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;synchronized&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.startupShutdownMonitor) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StartupStep contextRefresh =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationStartup.start(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;spring.context.refresh&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//① 容器刷新前的准备工作&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; prepareRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//② 调用子类容器的refreshBeanFactory()方法，启动容器载入Bean定义资源文件的过程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//③ 准备Bean工厂&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; prepareBeanFactory(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//④ 子类扩展BeanFactory&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; postProcessBeanFactory(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StartupStep beanPostProcess =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationStartup.start(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;spring.context.beans.post-process&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑤ 执行增强方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; invokeBeanFactoryPostProcessors(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑥ 注册BeanPostProcessors，但没执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registerBeanPostProcessors(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanPostProcess.end();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑦ 执行国际化内容&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; initMessageSource();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑧ 创建了一个多播器，为添加`Listener`提供支持。&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; initApplicationEventMulticaster();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑨ 子类扩展&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; onRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑩ Check for listener beans and register them.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registerListeners();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑪ Instantiate all remaining (non-lazy-init) singletons.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; finishBeanFactoryInitialization(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Last step: publish corresponding event.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; finishRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(BeansException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isWarnEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.warn(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Exception encountered during context initialization - &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;cancelling refresh attempt: &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Destroy already created singletons to avoid dangling resources.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; destroyBeans();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Reset &#39;active&#39; flag.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cancelRefresh(ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Propagate exception to caller.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ex;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Reset common introspection caches in Spring&#39;s core, since we&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// might not ever need metadata for singleton beans anymore...&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; resetCommonCaches();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; contextRefresh.end();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;refresh&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException, IllegalStateException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;synchronized&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.startupShutdownMonitor) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StartupStep contextRefresh =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationStartup.start(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;spring.context.refresh&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//① 容器刷新前的准备工作&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; prepareRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//② 调用子类容器的refreshBeanFactory()方法，启动容器载入Bean定义资源文件的过程&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//③ 准备Bean工厂&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; prepareBeanFactory(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//④ 子类扩展BeanFactory&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; postProcessBeanFactory(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; StartupStep beanPostProcess =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationStartup.start(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;spring.context.beans.post-process&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑤ 执行增强方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; invokeBeanFactoryPostProcessors(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑥ 注册BeanPostProcessors，但没执行&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registerBeanPostProcessors(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanPostProcess.end();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑦ 执行国际化内容&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; initMessageSource();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑧ 创建了一个多播器，为添加`Listener`提供支持。&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; initApplicationEventMulticaster();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑨ 子类扩展&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; onRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑩ Check for listener beans and register them.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registerListeners();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//⑪ Instantiate all remaining (non-lazy-init) singletons.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; finishBeanFactoryInitialization(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Last step: publish corresponding event.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; finishRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(BeansException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isWarnEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.warn(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Exception encountered during context initialization - &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;cancelling refresh attempt: &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Destroy already created singletons to avoid dangling resources.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; destroyBeans();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Reset &#39;active&#39; flag.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cancelRefresh(ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Propagate exception to caller.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ex;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;finally&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Reset common introspection caches in Spring&#39;s core, since we&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// might not ever need metadata for singleton beans anymore...&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; resetCommonCaches();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; contextRefresh.end();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这里的设计上是一个非常典型的资源类加载处理型的思路，头脑中需要形成如下图的&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;顶层思路&lt;/strong&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;（而不是只停留在流水式的方法上面）：&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;模板方法设计模式&lt;/strong&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，模板方法中使用典型的&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;钩子方法&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;将&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;具体的初始化加载方法&lt;/strong&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;插入到钩子方法之间&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;将初始化的阶段封装，用来记录当前初始化到什么阶段；常见的设计是xxxPhase/xxxStage；&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;资源加载初始化有失败等处理，必然是&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;try/catch/finally&lt;/strong&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;...&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-5868.5" y="6125" width="1550" height="3130" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-26" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;① prepareRefresh 准备上下文环境&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;prepareRefresh&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//1、设置启动时间、一些标志位&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置容器的启动时间&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.startupDate = System.currentTimeMillis();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置容器的启动时间&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.closed.set(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置容器的激活标志位&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.active.set(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.logger.isDebugEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.logger.isTraceEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.logger.trace(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Refreshing &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.logger.debug(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Refreshing &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getDisplayName());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//2、初始化占位符属性源，留给子类实现&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.initPropertySources();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//3、验证并获取环境对象，验证需要的属性是否都已经放入环境对象中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment().validateRequiredProperties();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//4、判断刷新前的应用程序监听器集合是否为空，如果为空，则将监听器添加到此集合中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationListeners ==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationListeners =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;LinkedHashSet(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationListeners);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果不为空，清空集合&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationListeners.clear();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.applicationListeners.addAll(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationListeners);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationEvents =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;LinkedHashSet();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/h2&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4635.14" y="6115" width="680" height="990" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-27" value="&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;② obtainFreshBeanFactory 创建工厂&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这个方法主要就是创建了一个工厂&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactory&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，并且解析了配置文件，加载了&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;定义信息&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractApplicationContext的obtainFreshBeanFactory()方法调用子类容器的refreshBeanFactory()方法，启动容器载入Bean定义资源文件的过程，代码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ConfigurableListableBeanFactory&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;obtainFreshBeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 这里使用了委派设计模式，父类定义了抽象的refreshBeanFactory()方法，具体实现调用子类容器的refreshBeanFactory()方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; refreshBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;getBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractApplicationContext类中只抽象定义了refreshBeanFactory()方法，如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//org.springframework.context.support.AbstractApplicationContext#refreshBeanFactory&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;abstract&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;refreshBeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException, IllegalStateException&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;容器真正调用的是其子类AbstractRefreshableApplicationContext实现的refreshBeanFactory()方法；在创建IoC容器前，如果已经有容器存在，则需要把已有的容器销毁和关闭，以保证在refresh之后使用的是新建立起来的IoC容器。方法的源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;final&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;refreshBeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果已经有容器存在，则需要把已有的容器销毁和关闭，以保证在refresh之后使用的是新建立起来的IoC容器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(hasBeanFactory()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; destroyBeans();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; closeBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 创建DefaultListableBeanFactory，并调用loadBeanDefinitions(beanFactory)装载bean定义&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; DefaultListableBeanFactory beanFactory = createBeanFactory();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.setSerializationId(getId());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; customizeBeanFactory(beanFactory);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 对IoC容器进行定制化，如设置启动参数，开启注解的自动装配等&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; loadBeanDefinitions(beanFactory);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 调用载入Bean定义的方法，主要这里又使用了一个委派模式，在当前类中只定义了抽象的loadBeanDefinitions方法，具体的实现调用子类容器 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanFactory = beanFactory;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(IOException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ApplicationContextException(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;I/O error parsing bean definition source for &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ getDisplayName(), ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4072" y="6105" width="1550" height="1220" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-28" value="&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC9AZfKPArlOm5vGdNP2MHYuocxthP95Ca6TVtz8vlpVsTRsZC9c4Frg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;5&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC9AZfKPArlOm5vGdNP2MHYuocxthP95Ca6TVtz8vlpVsTRsZC9c4Frg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002368&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractRefreshableApplicationContext 中只定义了抽象的 loadBeanDefinitions 方法，容器真正调用的是其子类 AbstractXmlApplicationContext 对该方法的实现，AbstractXmlApplicationContext 的主要源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(DefaultListableBeanFactory beanFactory)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException, IOException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 创建XmlBeanDefinitionReader，即创建Bean读取器，并通过回调设置到容器中去，容器使用该读取器读取Bean定义资源 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; XmlBeanDefinitionReader beanDefinitionReader =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlBeanDefinitionReader(beanFactory);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 配置上下文的环境，资源加载器、解析器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanDefinitionReader.setEnvironment(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanDefinitionReader.setResourceLoader(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanDefinitionReader.setEntityResolver(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ResourceEntityResolver(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;));&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 为Bean读取器设置SAX xml解析器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 允许子类自行初始化（比如校验机制），并提供真正的加载方法&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; initBeanDefinitionReader(beanDefinitionReader);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 当Bean读取器读取Bean定义的Xml资源文件时，启用Xml的校验机制 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; loadBeanDefinitions(beanDefinitionReader);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(XmlBeanDefinitionReader reader)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeansException, IOException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 加载XML配置方式里的Bean定义的资源&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Resource[] configResources = getConfigResources();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(configResources !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reader.loadBeanDefinitions(configResources);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 加载构造函数里配置的Bean配置文件，即{&quot;aspects.xml&quot;, &quot;daos.xml&quot;, &quot;services.xml&quot;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; String[] configLocations = getConfigLocations();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(configLocations !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reader.loadBeanDefinitions(configLocations);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Xml Bean读取器(XmlBeanDefinitionReader)调用其父类AbstractBeanDefinitionReader的 reader.loadBeanDefinitions方法读取Bean定义资源。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;由于这里使用 ClassPathXmlApplicationContext 作为例子分析，因此 getConfigResources 的返回值为null，因此程序执行reader.loadBeanDefinitions(configLocations)分支。&lt;/span&gt;&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractBeanDefinitionReader读取Bean定义资源&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;AbstractBeanDefinitionReader的loadBeanDefinitions方法源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String location)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;loadBeanDefinitions(location,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String location, @Nullable Set&amp;lt;Resource&amp;gt; actualResources)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; ResourceLoader resourceLoader = getResourceLoader();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(resourceLoader ==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Cannot load bean definitions from location [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ location +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]: no ResourceLoader available&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 模式匹配类型的解析器，这种方式是加载多个满足匹配条件的资源&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(resourceLoader&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ResourcePatternResolver) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 获取到要加载的资源&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Resource[] resources = ((ResourcePatternResolver) resourceLoader).getResources(location);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count = loadBeanDefinitions(resources);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 委派调用其子类XmlBeanDefinitionReader的方法，实现加载功能 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(actualResources !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Collections.addAll(actualResources, resources);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isTraceEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.trace(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ count +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; bean definitions from location pattern [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ location +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(IOException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Could not resolve bean definition resource pattern [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ location +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 只能通过绝对路径URL加载单个资源.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Resource resource = resourceLoader.getResource(location);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count = loadBeanDefinitions(resource);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(actualResources !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; actualResources.add(resource);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isTraceEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.trace(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ count +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; bean definitions from location [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ location +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;从对AbstractBeanDefinitionReader的loadBeanDefinitions方法源码分析可以看出该方法做了以下两件事：&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;首先，调用资源加载器的获取资源方法resourceLoader.getResource(location)，获取到要加载的资源。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;其次，真正执行加载功能是其子类XmlBeanDefinitionReader的loadBeanDefinitions方法。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -2px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 15px 15px no-repeat scroll padding-box border-box transparent; width: 15px; height: 15px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 8px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(43, 43, 43); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;XmlBeanDefinitionReader加载Bean定义资源&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC6UCFJCmO2m7iaxUE1KFygPq91x4s5P2M1m9xmJnuh6aWtJyIQS2dVhg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;6&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC6UCFJCmO2m7iaxUE1KFygPq91x4s5P2M1m9xmJnuh6aWtJyIQS2dVhg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002371&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;XmlBeanDefinitionReader的loadBeanDefinitions方法主要是调用了 loadBeanDefinitions(Resource …) 方法，可以看到代表bean文件的资源定义以后的载入过程。&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/**&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;* 本质上是加载XML配置的Bean。&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;@param&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;inputSource the SAX InputSource to read from&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;@param&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;resource the resource descriptor for the XML file&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;doLoadBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(InputSource inputSource, Resource resource)&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Document doc = doLoadDocument(inputSource, resource);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 将Bean定义资源转换成Document对象&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count = registerBeanDefinitions(doc, resource);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isDebugEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.debug(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ count +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; bean definitions from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;count;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(BeanDefinitionStoreException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ex;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(SAXParseException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlBeanDefinitionStoreException(resource.getDescription(),&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Line &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ ex.getLineNumber() +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; in XML document from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; is invalid&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(SAXException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlBeanDefinitionStoreException(resource.getDescription(),&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;XML document from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot; is invalid&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(ParserConfigurationException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(resource.getDescription(),&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Parser configuration exception parsing XML from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(IOException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(resource.getDescription(),&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;IOException parsing XML document from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(Throwable ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(resource.getDescription(),&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Unexpected exception parsing XML document from &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ resource, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 使用配置的DocumentLoader加载XML定义文件为Document.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Document&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;doLoadDocument&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(InputSource inputSource, Resource resource)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Exception&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.documentLoader.loadDocument(inputSource, getEntityResolver(),&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.errorHandler,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getValidationModeForResource(resource), isNamespaceAware());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;通过源码分析，载入Bean定义资源文件的最后一步是将Bean定义资源转换为Document对象，该过程由documentLoader实现&lt;/span&gt;&lt;/p&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -2px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 15px 15px no-repeat scroll padding-box border-box transparent; width: 15px; height: 15px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 8px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(43, 43, 43); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;DocumentLoader将Bean定义资源转换为Document对象&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;DocumentLoader将Bean定义资源转换成Document对象的源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 使用标准的JAXP将载入的Bean定义资源转换成document对象&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Document&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;loadDocument&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(InputSource inputSource, EntityResolver entityResolver,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ErrorHandler errorHandler,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;validationMode,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;namespaceAware)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Exception&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 创建文件解析器工厂&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; DocumentBuilderFactory factory = createDocumentBuilderFactory(validationMode, namespaceAware);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isTraceEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.trace(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Using JAXP provider [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ factory.getClass().getName() +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 创建文档解析器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; DocumentBuilder builder = createDocumentBuilder(factory, entityResolver, errorHandler);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;builder.parse(inputSource);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;DocumentBuilderFactory&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;createDocumentBuilderFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;validationMode,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;namespaceAware)&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ParserConfigurationException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; factory.setNamespaceAware(namespaceAware);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 设置解析XML的校验&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(validationMode != XmlValidationModeDetector.VALIDATION_NONE) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; factory.setValidating(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(validationMode == XmlValidationModeDetector.VALIDATION_XSD) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Enforce namespace aware for XSD...&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; factory.setNamespaceAware(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; factory.setAttribute(SCHEMA_LANGUAGE_ATTRIBUTE, XSD_SCHEMA_LANGUAGE);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(IllegalArgumentException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ParserConfigurationException pcex =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ParserConfigurationException(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Unable to validate using XSD: Your JAXP provider [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ factory +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;] does not support XML Schema. Are you running on Java 1.4 with Apache Crimson? &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Upgrade to Apache Xerces (or Java 1.5) for full XSD support.&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pcex.initCause(ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;pcex;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;factory;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;该解析过程调用JavaEE标准的JAXP标准进行处理。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;至此Spring IoC容器根据定位的Bean定义资源文件，将其加载读入并转换成为Document对象过程完成。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;接下来继续分析Spring IoC容器将载入的Bean定义资源文件转换为Document对象之后，是如何将其解析为Spring IoC管理的Bean对象并将其注册到容器中的。&lt;/span&gt;&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;XmlBeanDefinitionReader解析载入的Bean定义资源文件&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCbPCS7aiaSgJgE7JfF0meDPH3eb4FgcK8GexTC7rOAEVyUFibscAv5iaag/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;7&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCbPCS7aiaSgJgE7JfF0meDPH3eb4FgcK8GexTC7rOAEVyUFibscAv5iaag/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002373&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;XmlBeanDefinitionReader类中的doLoadBeanDefinitions方法是从特定XML文件中实际载入Bean定义资源的方法，该方法在载入Bean定义资源之后将其转换为Document对象，接下来调用registerBeanDefinitions启动Spring IoC容器对Bean定义的解析过程，registerBeanDefinitions方法源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 按照Spring的Bean语义要求将Bean定义资源解析并转换为容器内部数据结构&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;registerBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Document doc, Resource resource)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; BeanDefinitionDocumentReader documentReader = createBeanDefinitionDocumentReader();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;countBefore = getRegistry().getBeanDefinitionCount();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 解析过程入口，这里使用了委派模式，具体的解析实现过程由实现类DefaultBeanDefinitionDocumentReader完成 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; documentReader.registerBeanDefinitions(doc, createReaderContext(resource));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;getRegistry().getBeanDefinitionCount() - countBefore; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 返回此次解析了多少个对象&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 创建BeanDefinitionDocumentReader对象，解析Document对象 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionDocumentReader&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;createBeanDefinitionDocumentReader&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanUtils.instantiateClass(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.documentReaderClass);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/**&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;* Create the {&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;@link&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlReaderContext} to pass over to the document reader.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlReaderContext&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;createReaderContext&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Resource resource)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;XmlReaderContext(resource,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.problemReporter,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.eventListener,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.sourceExtractor,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, getNamespaceHandlerResolver());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean定义资源的载入解析分为以下两个过程：&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;首先，通过调用XML解析器将Bean定义资源文件转换得到Document对象，但是这些Document对象并没有按照Spring的Bean规则进行解析。这一步是载入的过程&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;其次，在完成通用的XML解析之后，按照Spring的Bean规则对Document对象进行解析。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;在这个方法中很好地应用了面向对象中单一职责的原则，将逻辑处理委托给单一的类进行处理，而这个逻辑处理类就是BeanDefinitionDocumentReader。BeanDefinitionDocumentReader是一个接口，而实例化的工作是在createBeanDefinitionDocumentReader()中完成的，而通过此方法，BeanDefinitionDocumentReader真正的类型其实已经是DefaultBeanDefinitionDocumentReader了。按照Spring的Bean规则对Document对象解析的过程是在接口BeanDefinitionDocumentReader的实现类DefaultBeanDefinitionDocumentReader中实现的。&lt;/span&gt;&lt;/p&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -2px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 15px 15px no-repeat scroll padding-box border-box transparent; width: 15px; height: 15px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 8px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(43, 43, 43); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;DefaultBeanDefinitionDocumentReader对Bean定义的Document对象解析&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinitionDocumentReader接口通过registerBeanDefinitions方法调用其实现类DefaultBeanDefinitionDocumentReader对Document对象进行解析，解析的代码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;registerBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Document doc, XmlReaderContext readerContext)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.readerContext = readerContext;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; doRegisterBeanDefinitions(doc.getDocumentElement());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 注册&amp;lt;beans/&amp;gt;配置的Beans&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@SuppressWarnings&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;deprecation&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// for Environment.acceptsProfiles(String...)&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;doRegisterBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Element root)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Any nested &amp;lt;beans&amp;gt; elements will cause recursion in this method. In&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// order to propagate and preserve &amp;lt;beans&amp;gt; default-* attributes correctly,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// keep track of the current (parent) delegate, which may be null. Create&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// the new (child) delegate with a reference to the parent for fallback purposes,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// then ultimately reset this.delegate back to its original (parent) reference.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// this behavior emulates a stack of delegates without actually necessitating one.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; BeanDefinitionParserDelegate parent =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.delegate;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.delegate = createDelegate(getReaderContext(), root, parent);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.delegate.isDefaultNamespace(root)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//专门对 profile 标签进行解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; String profileSpec = root.getAttribute(PROFILE_ATTRIBUTE);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(StringUtils.hasText(profileSpec)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; String[] specifiedProfiles = StringUtils.tokenizeToStringArray(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; profileSpec, BeanDefinitionParserDelegate.MULTI_VALUE_ATTRIBUTE_DELIMITERS);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// We cannot use Profiles.of(...) since profile expressions are not supported&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// in XML config. See SPR-12458 for details.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!getReaderContext().getEnvironment().acceptsProfiles(specifiedProfiles)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isDebugEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.debug(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Skipped XML bean definition file due to specified profiles [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ profileSpec +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;] not matching: &quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ getReaderContext().getResource());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; preProcessXml(root);&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//解析前处理，留给子类实现&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; parseBeanDefinitions(root,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.delegate);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 从Document的根元素开始进行Bean定义的Document对象 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; postProcessXml(root);&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//解析后处理，留给子类实现&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.delegate = parent;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这里我们注意到在注册Bean的最开始是对PROFILE_ATTRIBUTE属性的解析，有了 profile 这个特性我们就可以同时在配置文件中部署两套配置来适用于生产环境和开发环境，这样可以方便的进行切换开发、部署环境，最常用的就是更换不同的数据库。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;首先程序会获取beans节点是否定义了profile属性，如果定义了则会需要到环境变量中去寻找，因为profile是可以同时指定多个的，需要程序对其拆分，并解析每个profile是都符合环境变量中所定义的，不定义则不会浪费性能去解析。&lt;/span&gt;&lt;/p&gt;&lt;blockquote style=&quot;-webkit-tap-highlight-color: transparent; margin: 20px 0px; padding: 10px 10px 10px 20px; outline: 0px; border-width: 1px; border-style: solid; border-color: rgba(64, 184, 255, 0.4); color: var(--weui-FG-1); font-size: 15px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; border-radius: 8px; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.1); width: auto; height: auto; box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px; overflow: auto; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; display: block; color: rgba(64, 184, 250, 0.5); font-size: 28px; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;❝&lt;/span&gt;&lt;/span&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; text-indent: 0em; color: rgb(59, 59, 59); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;注意：跟进 preProcessXml(root) 和 postProcessXml(root) 后发现代码是空的。 记住，一个类要么是面向继承设计，要么是final修饰的。而这个类并不是final修饰的，那么就是面向继承设计的，显然这里是用到了&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;模板方法设计模式&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，如果继承自DefaultBeanDefinitionDocumentReader的子类需要在Bean解析前后做一些处理的话，那么只需要重写这两个方法即可&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h4 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -2px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 15px 15px no-repeat scroll padding-box border-box transparent; width: 15px; height: 15px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCJZSkMkiaiabXaADVLwibDYSfiaxMrZacmFumibXeyjlBpTuf2HhBLE6OvPQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 8px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(43, 43, 43); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinitionParserDelegate解析Bean定义资源文件生成BeanDefinition&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;处理了profile后就可以进行XML的读取了，跟踪代码进入parseBeanDefinitions(root, this.delegate)。&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/**&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; * Parse the elements at the root level in the document:&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; * &quot;import&quot;, &quot;alias&quot;, &quot;bean&quot;.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; *&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;@param&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;root the DOM root element of the document&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; */&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;parseBeanDefinitions&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Element root, BeanDefinitionParserDelegate delegate)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.isDefaultNamespace(root)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; NodeList nl = root.getChildNodes();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;i =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;; i &amp;lt; nl.getLength(); i++) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Node node = nl.item(i);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(node&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Element) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Element ele = (Element) node;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.isDefaultNamespace(ele)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//对默认标签解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parseDefaultElement(ele, delegate);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//对默认自定义标签的解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; delegate.parseCustomElement(ele);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; delegate.parseCustomElement(root);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;上面的代码看起来逻辑还是蛮清晰的，因为在Spring的XML配置里面有两大类Bean声明，一个是默认的，如：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;lt;bean id=&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;test.TestBean&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;另一类就是自定义的，如：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;lt;tx:annotation-driven/&amp;gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;而两种方式的读取及解析差别是非常大的，如果采用Spring默认的配置，Spring当然知道该怎么做，但是如果是自定义的，那么就需要用户实现一些接口及配置了。对于根节点或者子节点如果是默认命名空间的话则采用parseDefaultElement方法进行解析，否则使用delegate.parseCustomElement方法对自定义命名空间进行解析。而判断是否默认命名空间还是自定义命名空间的办法其实是使用node.getNamespaceURI()获取命名空间，并与Spring中固定的命名空间&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;http://www.Springframework.org/schema/beans&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;进行比对。如果一致则认为是默认，否则就认为是自定义。&lt;/span&gt;&lt;/p&gt;&lt;h5 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;默认标签的解析&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;parseDefaultElement&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Element ele, BeanDefinitionParserDelegate delegate)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果元素节点是&amp;lt;Import&amp;gt;导入元素，进行导入解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.nodeNameEquals(ele, IMPORT_ELEMENT)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; importBeanDefinitionResource(ele);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果元素节点是&amp;lt;Alias&amp;gt;别名元素，进行别名解析&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.nodeNameEquals(ele, ALIAS_ELEMENT)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; processAliasRegistration(ele);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果元素节点&amp;lt;Bean&amp;gt;元素, 按照Spring的Bean规则解析元素 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.nodeNameEquals(ele, BEAN_ELEMENT)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; processBeanDefinition(ele, delegate);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果元素节点&amp;lt;Beans&amp;gt;元素，即它是嵌套类型的&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(delegate.nodeNameEquals(ele, NESTED_BEANS_ELEMENT)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 递归解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; doRegisterBeanDefinitions(ele);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;委托BeanDefinitionDelegate类的parseBeanDefinitionElement方法进行元素解析，返回BeanDefinitionHolder类型的实例bdHolder，经过这个方法后，bdHolder实例已经包含我们配置文件中配置的各种属性了，例如class、name、id、alias之类的属性。&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/**&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;* Process the given bean element, parsing the bean definition&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;* and registering it with the registry.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;processBeanDefinition&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(Element ele, BeanDefinitionParserDelegate delegate)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; BeanDefinitionHolder bdHolder = delegate.parseBeanDefinitionElement(ele);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(bdHolder !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bdHolder = delegate.decorateBeanDefinitionIfRequired(ele, bdHolder);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 注册最终的装饰实例&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; BeanDefinitionReaderUtils.registerBeanDefinition(bdHolder, getReaderContext().getRegistry());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(BeanDefinitionStoreException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getReaderContext().error(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Failed to register bean definition with name &#39;&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bdHolder.getBeanName() +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;&#39;&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, ele, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Send registration event.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getReaderContext().fireComponentRegistered(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanComponentDefinition(bdHolder));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;parseBeanDefinitionElement的解析方法 就不一一展开了，无非就是解析XML各种元素，来生成BeanDefinition。解析的过程与mybatis解析xml文件同理，详情可以看&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这篇文章&lt;/span&gt;&lt;/p&gt;&lt;h5 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.5em; letter-spacing: 0em; font-weight: bold; display: block; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;自定义标签的解析&lt;/span&gt;&lt;/span&gt;&lt;/h5&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;在实际项目中，较少进行自定义标签，因此这里不展开描述了。&lt;/span&gt;&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;解析过后的BeanDefinition在IoC容器中的注册&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Document对象的解析后得到封装 BeanDefinition 的 BeanDefinitionHold 对象，然后调用 BeanDefinitionReaderUtils 的 registerBeanDefinition 方法向IoC容器注册解析的Bean，BeanDefinitionReaderUtils的注册的源码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 通过BeanDefinitionRegistry将BeanDefinitionHolder注册到BeanFactory&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;static&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;registerBeanDefinition&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; BeanDefinitionHolder definitionHolder, BeanDefinitionRegistry registry)&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Register bean definition under primary name.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; String beanName = definitionHolder.getBeanName();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; registry.registerBeanDefinition(beanName, definitionHolder.getBeanDefinition());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Register aliases for bean name, if any.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; String[] aliases = definitionHolder.getAliases();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(aliases !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(String alias : aliases) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registry.registerAlias(beanName, alias);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;当调用BeanDefinitionReaderUtils向IoC容器注册解析的BeanDefinition时，真正完成注册功能的是DefaultListableBeanFactory。&lt;/span&gt;&lt;/p&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 38px 0px 10px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 18px; color: rgb(43, 43, 43); line-height: 2.4em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: inline-block; font-weight: bold; flex-direction: unset; float: unset; height: 38px; justify-content: unset; overflow: unset; text-align: center; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;DefaultListableBeanFactory向IoC容器注册解析后的BeanDefinition&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCf33EYBh8Mib4agPhX6uRgUiceLZ46fkKpCiao0O7S6nITDJ7IWluMffiaA/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;8&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCf33EYBh8Mib4agPhX6uRgUiceLZ46fkKpCiao0O7S6nITDJ7IWluMffiaA/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002374&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;IOC容器本质上就是一个beanDefinitionMap， 注册即将BeanDefinition put到map中&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;/** Map of bean definition objects, keyed by bean name. */&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Map&amp;lt;String, BeanDefinition&amp;gt; beanDefinitionMap =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ConcurrentHashMap&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;256&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;/** Map from bean name to merged BeanDefinitionHolder. */&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;private&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;final&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Map&amp;lt;String, BeanDefinitionHolder&amp;gt; mergedBeanDefinitionHolders =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ConcurrentHashMap&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;256&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;registerBeanDefinition&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String beanName, BeanDefinition beanDefinition)&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Assert.hasText(beanName,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Bean name must not be empty&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Assert.notNull(beanDefinition,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;BeanDefinition must not be null&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanDefinition&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;AbstractBeanDefinition) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ((AbstractBeanDefinition) beanDefinition).validate();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(BeanDefinitionValidationException ex) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionStoreException(beanDefinition.getResourceDescription(), beanName,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Validation of bean definition failed&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;, ex);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; BeanDefinition existingDefinition =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionMap.get(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 如果已经注册&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(existingDefinition !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 检查是否可以覆盖&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!isAllowBeanDefinitionOverriding()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;BeanDefinitionOverrideException(beanName, beanDefinition, existingDefinition);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(existingDefinition.getRole() &amp;lt; beanDefinition.getRole()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// e.g. was ROLE_APPLICATION, now overriding with ROLE_SUPPORT or ROLE_INFRASTRUCTURE&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isInfoEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.info(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Overriding user-defined bean definition for bean &#39;&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanName +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;&#39; with a framework-generated bean definition: replacing [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; existingDefinition +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;] with [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanDefinition +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!beanDefinition.equals(existingDefinition)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isDebugEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.debug(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Overriding bean definition for bean &#39;&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanName +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;&#39; with a different definition: replacing [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ existingDefinition +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;] with [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanDefinition +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(logger.isTraceEnabled()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logger.trace(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;Overriding bean definition for bean &#39;&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanName +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;&#39; with an equivalent definition: replacing [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ existingDefinition +&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;] with [&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;+ beanDefinition +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;]&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 覆盖&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionMap.put(beanName, beanDefinition);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(hasBeanCreationStarted()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Cannot modify startup-time collection elements anymore (for stable iteration)&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;synchronized&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionMap) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionMap.put(beanName, beanDefinition);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; List&amp;lt;String&amp;gt; updatedDefinitions =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ArrayList&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionNames.size() +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(209, 154, 102); line-height: 26px;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; updatedDefinitions.addAll(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionNames);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; updatedDefinitions.add(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionNames = updatedDefinitions;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; removeManualSingletonName(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Still in startup registration phase&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionMap.put(beanName, beanDefinition);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.beanDefinitionNames.add(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; removeManualSingletonName(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//重置所有已经注册过的BeanDefinition的缓存 &amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.frozenBeanDefinitionNames =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(existingDefinition !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;|| containsSingleton(beanName)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; resetBeanDefinition(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(isConfigurationFrozen()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; clearByTypeCache();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;至此，Bean定义资源文件中配置的Bean被解析过后，已经注册到IoC容器中，被容器管理起来，真正完成了IoC容器初始化所做的全部工作。现在IoC容器中已经建立了整个Bean的配置信息，这些 BeanDefinition 信息已经可以使用，并且可以被检索，IoC容器的作用就是对这些注册的Bean定义信息进行处理和维护。这些的注册的Bean定义信息是IoC容器控制反转的基础，正是有了这些注册的数据，容器才可以进行依赖注入。&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;h3 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 50% 50% / 30px 30px no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; width: auto; height: auto; align-items: unset; box-shadow: none; display: flex; flex-direction: unset; float: unset; justify-content: center; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCvKJ9Vc4pxxFHnJJZHoCCKNsPa51sA7ibTORiawdQOBpP3Dicnsjk4Ewyg/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-tool=&quot;mdnice编辑器&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/h3&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-4213.35" y="7385" width="1550" height="12310" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-29" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;IOC容器初始化的基本步骤&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;初始化的入口在容器实现中的 refresh()调用来完成&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;对 bean 定义载入 IOC 容器使用的方法是 loadBeanDefinition，其中的大致过程如下：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过 ResourceLoader 来完成资源文件位置的定位，DefaultResourceLoader 是默认的实现，同时上下文本身就给出了 ResourceLoader 的实现，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;可以从类路径，文件系统, URL 等方式来定为资源位置。如果是 XmlBeanFactory作为 IOC 容器，那么需要为它指定 bean 定义的资源，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;也就是说 bean 定义文件时通过抽象成 Resource 来被 IOC 容器处理的&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;通过 BeanDefinitionReader来完成定义信息的解析和 Bean 信息的注册,&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;往往使用的是XmlBeanDefinitionReader 来解析 bean 的 xml 定义文件 — 实际的处理过程是委托给 BeanDefinitionParserDelegate 来完成的，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;从而得到 bean 的定义信息，这些信息在 Spring 中使用 BeanDefinition 对象来表示&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;容器解析得到 BeanDefinition 以后，需要把它在 IOC 容器中注册，这由 IOC 实现 BeanDefinitionRegistry 接口来实现。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;注册过程就是在 IOC 容器内部维护的一个HashMap 来保存得到的 BeanDefinition 的过程。这个 HashMap 是 IoC 容器持有 bean 信息的场所，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;以后对 bean 的操作都是围绕这个HashMap 来实现的.&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;最后可以通过 BeanFactory 和 ApplicationContext 来享受到 Spring IOC 的服务了，在使用 IOC 容器的时候，除了少量粘合代码，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;绝大多数以正确 IoC 风格编写的应用程序代码完全不用关心如何到达工厂，因为容器将把这些对象与容器管理的其他对象钩在一起。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;基本的策略是把工厂放到已知的地方，最好是放在对预期使用的上下文有意义的地方，以及代码将实际需要访问工厂的地方。&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Spring 本身提供了对声明式载入 web 应用程序用法的应用程序上下文，并将其存储在ServletContext 中的框架实现。&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-3845.05" y="5840" width="810" height="250" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-30" value="&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;③ prepareBeanFactory 准备Bean工厂&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;为&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactory&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;准备一些环境，方便在实例化的时候使用，同时添加容器自己的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// org.springframework.context.support.AbstractApplicationContext#prepareBeanFactory&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;prepareBeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(ConfigurableListableBeanFactory beanFactory)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置bean工厂使用上下文的类加载器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.setBeanClassLoader(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getClassLoader());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置bean表达式解析器，默认可以使用#{bean.xxx}的形式来调用相关属性值&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.setBeanExpressionResolver(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;StandardBeanExpressionResolver(beanFactory.getBeanClassLoader()));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//设置属性编辑器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.addPropertyEditorRegistrar(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ResourceEditorRegistrar(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment()));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//添加BeanPostProcessor -&amp;gt; Applicat ionContextAwareProcessor&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// AppLicationContextAwareProcessor在 postProcessBeforeInitialization()方法调用invokeAwareInterfaces(bean)&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 主要外理实现Aware接的bean在被初始化之前能够获取一些对应的资源，如ApplicationContext. ResourceLoader、 Environment&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.addBeanPostProcessor(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ApplicationContextAwareProcessor(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//忽略以下接口的自动装配依赖，因为前面的ApplicationContextAwareProcessor已经实现了类似功能&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(EnvironmentAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(EmbeddedValueResolverAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(ResourceLoaderAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(ApplicationEventPublisherAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(MessageSourceAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.ignoreDependencyInterface(ApplicationContextAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.registerResolvableDependency(BeanFactory&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;beanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.registerResolvableDependency(ResourceLoader&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.registerResolvableDependency(ApplicationEventPublisher&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.registerResolvableDependency(ApplicationContext&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//添加BeanPostProcessor&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; beanFactory.addBeanPostProcessor(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ApplicationListenerDetector(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanFactory.containsBean(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;loadTimeWeaver&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.addBeanPostProcessor(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;LoadTimeWeaverAwareProcessor(beanFactory));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.setTempClassLoader(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ContextTypeMatchClassLoader(beanFactory.getBeanClassLoader()));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//注册默认环境bean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!beanFactory.containsLocalBean(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.registerSingleton(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!beanFactory.containsLocalBean(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;systemProperties&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.registerSingleton(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;systemProperties&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment().getSystemProperties());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!beanFactory.containsLocalBean(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;systemEnvironment&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.registerSingleton(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;systemEnvironment&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getEnvironment().getSystemEnvironment());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;④ postProcessBeanFactory 子类扩展BeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;postProcessBeanFactory&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(ConfigurableListableBeanFactory beanFactory)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑤ invokeBeanFactoryPostProcessors 执行增强的方法&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这个类，涉及到了两个接口。&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinitionRegistryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;接口，这个接口是&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;的子接口，&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;它的优先级比&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;更高&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;它的总体执行流程是：先执行&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinitionRegistryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，然后再执行&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;下图是&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinitionRegistryPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;接口的处理过程：&lt;/span&gt;&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC1cdictBM107Fmic4EsmSVm1rMrMAVunAewlZEMD3S6r2Ck6MwUqibUSvw/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;10&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC1cdictBM107Fmic4EsmSVm1rMrMAVunAewlZEMD3S6r2Ck6MwUqibUSvw/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002370&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanFactoryPostProcessor的处理逻辑&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;总逻辑就是先分类，已经处理过的直接跳过，没有处理过的，分类处理，逻辑和上面的相同。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;执行BeanFactoryPostProcessor后置处理器的postProcessBeanFactory()增强方法&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;invokeBeanFactoryPostProcessors&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(ConfigurableListableBeanFactory beanFactory)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 1.拿到当前应用上下文beanFactoryPostProcessors变量中的值&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 2.实例化并调用所有已注册的BeanFactoryPostProcessor&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(beanFactory,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.getBeanFactoryPostProcessors());&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanFactory.getTempClassLoader() ==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;amp;&amp;amp; beanFactory.containsBean(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(152, 195, 121); line-height: 26px;&quot;&gt;&quot;loadTimeWeaver&quot;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.addBeanPostProcessor(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;LoadTimeWeaverAwareProcessor(beanFactory));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanFactory.setTempClassLoader(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ContextTypeMatchClassLoader(beanFactory.getBeanClassLoader()));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑥ registerBeanPostProcessors&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这个方法的逻辑和上面的一样，只不过上面是直接执行了BeanFactoryPostProcessor，而这个仅仅注册没执行。&lt;/span&gt;&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCf2zfDicGzxOlMDxQ3muFHMPCn3vAZvJe0h76kcAaZLckjAdVBHy2akw/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;11&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCf2zfDicGzxOlMDxQ3muFHMPCn3vAZvJe0h76kcAaZLckjAdVBHy2akw/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002377&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;首先拿到工厂中所有的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;类型的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，然后分类处理，排序注册。&lt;/span&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑦ initMessageSource()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;执行国际化内容&lt;/span&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑧ initApplicationEventMulticaster&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;创建了一个多播器，为添加&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Listener&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;提供支持。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;主要逻辑：&lt;/strong&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;容器中是否存在&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;applicationEventMulticaster&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，如果存在直接注册&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;如果不存在，创建一个&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;SimpleApplicationEventMulticaster&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，注册到容器中。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑨ onRefresh()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;子类扩展&lt;/span&gt;&lt;/p&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑩ registerListeners()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;观察者模式的实现&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;registerListeners&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 拿到当前容器中的监听器，注册到多播器中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(ApplicationListener &amp;lt;? &amp;gt; listener: getApplicationListeners()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getApplicationEventMulticaster().addApplicationListener(listener);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//拿到容器中为监听器的Bean，注册&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; String[] listenerBeanNames = getBeanNamesForType(ApplicationListener&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(String listenerBeanName: listenerBeanNames) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getApplicationEventMulticaster().addApplicationListenerBean(listenerBeanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 清空开始的事件，到广播器中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Set &amp;lt; ApplicationEvent &amp;gt; earlyEventsToProcess =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationEvents;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlyApplicationEvents =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(earlyEventsToProcess !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(ApplicationEvent earlyEvent: earlyEventsToProcess) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getApplicationEventMulticaster().multicastEvent(earlyEvent);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2652" y="6185" width="1050" height="3370" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-31" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑪ finishBeanFactoryInitialization&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;/**&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;* Finish the initialization of this context&#39;s bean factory,&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;* initializing all remaining singleton beans.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;在上下文工厂中完成所有Bean 的初始化&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;finishBeanFactoryInitialization&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(ConfigurableListableBeanFactory beanFactory)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 初始化上下文转换服务Bean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanFactory.containsBean(CONVERSION_SERVICE_BEAN_NAME) &amp;amp;&amp;amp;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.isTypeMatch(CONVERSION_SERVICE_BEAN_NAME, ConversionService&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;))&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.setConversionService(&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.getBean(CONVERSION_SERVICE_BEAN_NAME, ConversionService&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;))&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果不存在前入值解析器，则注册一个默认的嵌入值解析器，主要是注解属性解析&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!beanFactory.hasEmbeddedValueResolver()) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.addEmbeddedValueResolver(strVal - &amp;gt; getEnvironment().resolvePlaceholders(strVal));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 初始化LoadTimeWeaverAware&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;String[] weaverAwareNames = beanFactory.getBeanNamesForType(LoadTimeWeaverAware&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(230, 192, 123); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(String weaverAwareName: weaverAwareNames) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;getBean(weaverAwareName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Stop using the temporary ClassLoader for type matching.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.setTempClassLoader(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Allow for caching all bean definition metadata, not expecting further changes.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.freezeConfiguration();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Instantiate all remaining (non-lazy-init) singletons.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//实例化，重点&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;beanFactory.preInstantiateSingletons();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;下图是创建Bean的主要流程&lt;/strong&gt;&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCPtgPdqaIVLwuPAQs1bcAQDOmr2RzicHyLtEUZicdl5A8xkhHVGt8rQtQ/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;12&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCPtgPdqaIVLwuPAQs1bcAQDOmr2RzicHyLtEUZicdl5A8xkhHVGt8rQtQ/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002379&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;按照途中的序号一个一个说：&lt;/strong&gt;&lt;/p&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;是否需要合并。&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;根据不同类型的配置文件信息，会将&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;封装到不同的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;信息定义类中。比如我们常用的配置文件版的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;GenericBeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;；注解扫描版的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;ScannedGenericBeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;等等。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;而在这个过程中就出现了，&lt;/span&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;父定义和子定义&lt;/strong&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，我们需要在实际处理定义信息的时候进行合并处理，主要有一下三个方面&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;存在父定义信息，使用父定义信息创建一个&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;RootBeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;，然后将自定义信息作为参数传入。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;不存在父定义信息，并且当前&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefinition&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;是&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;RootBeanDefintion&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;类型的，直接返回一份&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;RootBeanDefintion&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;的克隆&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;不存在父定义信息，并且当前&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefintion&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;不是&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;RootBeanDefintiton&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;类型的，直接通过该&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;BeanDefintion&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;构建一个&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;RootBeanDefintion&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;返回&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;上面的流程也是源码中的执行流程&lt;/strong&gt;&lt;/p&gt;&lt;figure style=&quot;-webkit-tap-highlight-color: transparent; margin: 10px 0px; padding: 0px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;img style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px auto; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; vertical-align: bottom; height: auto !important; display: block; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 8px; object-fit: fill; box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px; visibility: visible !important; width: auto !important;&quot; data-fail=&quot;0&quot; src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCMlenIia5JA1eChPgXnTHUJSVia047wCC8u75tbjCia5FP1gWv5z6RnOpA/640?wx_fmt=other&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; alt=&quot;图片&quot; crossorigin=&quot;anonymous&quot; data-index=&quot;13&quot; data-original-style=&quot;display: block;margin-top: 0px;margin-right: auto;margin-bottom: 0px;margin-left: auto;max-width: 100%;border-top-style: none;border-bottom-style: none;border-left-style: none;border-right-style: none;border-top-width: 3px;border-bottom-width: 3px;border-left-width: 3px;border-right-width: 3px;border-top-color: rgba(0, 0, 0, 0.4);border-bottom-color: rgba(0, 0, 0, 0.4);border-left-color: rgba(0, 0, 0, 0.4);border-right-color: rgba(0, 0, 0, 0.4);border-top-left-radius: 8px;border-top-right-radius: 8px;border-bottom-right-radius: 8px;border-bottom-left-radius: 8px;object-fit: fill;box-shadow: rgb(153, 153, 153) 2px 4px 8px 0px;&quot; data-type=&quot;other&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVCMlenIia5JA1eChPgXnTHUJSVia047wCC8u75tbjCia5FP1gWv5z6RnOpA/640?wx_fmt=other&amp;amp;from=appmsg&quot; data-imgfileid=&quot;100002378&quot; class=&quot;rich_pages wxw-img&quot;&gt;&lt;/span&gt;&lt;/figure&gt;&lt;ol style=&quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px 0px 0px 25px; outline: 0px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; font-size: 16px; text-align: left; text-wrap: wrap; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;-webkit-tap-highlight-color: transparent; margin: 5px 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(89, 89, 89); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;isFactoryBean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;。判断是否为&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;FactoryBean&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; color: rgb(53, 148, 247); background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgba(0, 0, 0, 0.4); border-radius: 0px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;简单介绍一下：&lt;/strong&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;FactoryBean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;是让开发者创建自己需要&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;接口。内部提供了三个方法&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;T&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;getObject&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Exception&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//返回的Bean信息&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Class&amp;lt;?&amp;gt; getObjectType();&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//返回的Bean类型&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;default&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;isSingleton&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;;}&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//是否单例&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;当我们通过&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;GetBean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;直接该&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;的时候，获取到的是该工厂指定返回的&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;类型。如果想要获取该&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;Bean&lt;/span&gt;&lt;/code&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;本身，需要通过一个前缀获得&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 2px; padding: 2px 4px; outline: 0px; max-width: 100%; overflow-wrap: break-word; color: rgb(53, 148, 247); line-height: 1.8em; letter-spacing: 0em; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(27, 31, 35, 0.05); width: auto; height: auto; border-style: none; border-width: 3px; border-color: rgb(0, 0, 0) rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.4); border-radius: 4px; font-family: &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, Menlo, monospace; word-break: break-all; box-sizing: border-box !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;@Override&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;isFactoryBean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String name)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;NoSuchBeanDefinitionException&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; String beanName = transformedBeanName(name);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//解析真正的BeanName&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Object beanInstance = getSingleton(beanName,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//获取容器中的bean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanInstance !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果容器中存在，直接返回该Bean是否为FactoryBea类型&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(beanInstance&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;FactoryBean);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//没有Bean信息，检查这个Bean信息&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(!containsBeanDefinition(beanName) &amp;amp;&amp;amp; getParentBeanFactory()&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;instanceof&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ConfigurableBeanFactory) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 从父工厂中获取&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;((ConfigurableBeanFactory) getParentBeanFactory()).isFactoryBean(name);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//MergedBeanDefinition来检查beanName对应的Bean是否为FactoryBean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;isFactoryBean(beanName, getMergedLocalBeanDefinition(beanName));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;再来看一个点，这个就是从容器中获取Bean的主要方法，也是解决循环依赖的逻辑，这部分内容详情看&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这篇文章&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;Object&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;getSingleton&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(String beanName,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;allowEarlyReference)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//查看当前容器中是否存在该Bean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; Object singletonObject =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.singletonObjects.get(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果不存在，且当前Bean正在被创建&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(singletonObject ==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;amp;&amp;amp; isSingletonCurrentlyInCreation(beanName)) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;synchronized&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.singletonObjects) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//从早期的容器中获取Bean&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; singletonObject =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlySingletonObjects.get(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果早期容器也没有且允许创建早期引用&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(singletonObject ==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;amp;&amp;amp; allowEarlyReference) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//获取该Bean的ObjectFactory工厂&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ObjectFactory &amp;lt;? &amp;gt; singletonFactory =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.singletonFactories.get(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//如果当前工厂不为空&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;(singletonFactory !=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;) {&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//创建一个对象实例，此时处于半初始化状态&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; singletonObject = singletonFactory.getObject();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//添加到早期引用中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.earlySingletonObjects.put(beanName, singletonObject);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;//移除创建早期引用的工厂，因为该Bean已经创建且添加到了早期容器中，不需要再次进行创建了。&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;.singletonFactories.remove(beanName);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;singletonObject;&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&quot;-webkit-tap-highlight-color: transparent; margin: 30px 0px 15px; padding: 0px; outline: 0px; font-weight: 400; font-size: 16px; max-width: 100%; font-family: Optima, PingFangSC-light, serif; text-align: left; text-wrap: wrap; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(64, 184, 250); align-items: unset; border-style: none none solid; border-width: 1px 1px 4px; border-radius: 0px; box-shadow: none; flex-direction: unset; float: unset; height: auto; justify-content: unset; line-height: 1.5em; overflow: unset; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -25px; padding: 0px; outline: 0px; max-width: 100%; background: url(&amp;quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 0% 0% / 20px 20px no-repeat scroll padding-box border-box transparent; width: 20px; height: 20px; align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: unset; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/Ftjp8CozjWb9XaaHrROx97kPrwc3eMVC4t6Od10uJnmicCRiad9Z4AksqAR9EWhvE6OLniaSrCZWePFVWzsYA3QhQ/640?wx_fmt=png&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px 0px 25px; padding: 0px; outline: 0px; max-width: 100%; font-size: 20px; color: rgb(64, 184, 250); line-height: 1.5em; letter-spacing: 0em; align-items: unset; background: none 0% 0% / auto no-repeat scroll padding-box border-box transparent; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 0px; box-shadow: none; display: flex; font-weight: bold; flex-direction: unset; float: unset; height: auto; justify-content: unset; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: auto; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;⑫ finishRefresh&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: -10px 0px 0px; padding: 0px; outline: 0px; max-width: 100%; background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(64, 184, 250, 0.5); align-items: unset; border-style: none; border-width: 1px; border-color: rgb(0, 0, 0); border-radius: 20px 0px 0px; box-shadow: none; display: flex; font-size: 22px; font-weight: bold; flex-direction: unset; float: right; height: 10px; justify-content: unset; letter-spacing: 0px; line-height: 1.5em; overflow: unset; text-indent: 0em; text-shadow: none; transform: none; width: 200px; -webkit-box-reflect: unset; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;这个方法进行了一系列的资源清理&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;-webkit-tap-highlight-color: transparent; margin-top: 10px; margin-bottom: 10px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; text-align: left; background-color: rgb(255, 255, 255); border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px 0px -7px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; display: block; background: url(&amp;quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&amp;amp;tp=webp&amp;amp;wxfrom=15&amp;amp;wx_lazy=1&amp;quot;) 10px 10px / 40px no-repeat rgb(40, 44, 52); height: 30px; width: 657px; border-radius: 5px;&quot; data-fail=&quot;0&quot; class=&quot;&quot; data-lazy-bgimg=&quot;https://mmbiz.qpic.cn/mmbiz_svg/dx4Y70y9XctuCmZG4QEHVfJ54Bbib2WPVUQB9KzxrmLOnsOBZ9nrlepfXS8zrHdhOwaOGFsMW5wyvG6azwm6gP9JQyxVwKicia8/640?wx_fmt=svg&amp;amp;from=appmsg&quot; data-remoteid=&quot;&quot; data-cacheurl=&quot;&quot;&gt;&lt;/span&gt;&lt;code style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 15px 16px 16px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; overflow-x: auto; color: rgb(171, 178, 191); background: rgb(40, 44, 52); border-radius: 5px; display: -webkit-box; font-family: Consolas, Monaco, Menlo, monospace; font-size: 12px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;protected&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(97, 174, 238); line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;finishRefresh&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; line-height: 26px;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;{&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 清空上下文资源缓存&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; clearResourceCaches();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 初始化生命周期处理器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; initLifecycleProcessor();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 将已经刷新完毕的处理器传播（扔到）生命周期处理器中&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; getLifecycleProcessor().onRefresh();&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// 推送上下文刷新完毕的时间到相应的监听器&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; publishEvent(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;ContextRefreshedEvent(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;));&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(92, 99, 112); font-style: italic; line-height: 26px;&quot;&gt;// Participate in LiveBeansView MBean, if active.&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp; LiveBeansView.registerApplicationContext(&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; color: rgb(198, 120, 221); line-height: 26px;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;);&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 8px 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; font-family: Optima, PingFangSC-light, serif; text-align: left; text-indent: 0em; text-wrap: wrap; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-size: 14px; line-height: 1.8em; letter-spacing: 0.02em; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span style=&quot;-webkit-tap-highlight-color: transparent; margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;initLifecycleProcessor，这个方法极具简单，就看一下当前Bean中是否存在生命周期处理器，如果存在直接使用这个，如果不存在则创建一个默认的，并且注册为一个单例的扔到容器中。&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1942" y="6205" width="1550" height="3250" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ClassPathXmlApplicationContext&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-25.619999999999997" y="5975" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-36" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;getBeanFactory()&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1143" y="7000" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;refreshBeanFactory()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1143.5" y="6840" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;设置启动时间、一些标志位&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="776.29" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;判断刷新前的应用程序监听器集合&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1789.5" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-40" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;验证并获取环境对象&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1442.12" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-41" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;初始化占位符属性源，留给子类实现&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1125.02" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-42" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;finishRefresh()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="383.49999999999994" y="9458.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-43" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;finishBeanFactoryInitialization()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="385.5" y="9004.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;registerListeners()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="385.5" y="8801.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-45" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;onRefresh()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="386.49" y="8641.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;initApplicationEventMulticaster()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="387.69" y="8402.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;initMessageSource()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="387.68999999999994" y="8118.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-48" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;registerBeanPostProcessors()&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="389" y="7843.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-49" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;invokeBeanFactoryPostProcessors()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="361.15" y="7469" width="321.09" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-50" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;postProcessBeanFactory()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="386.69" y="7319" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareBeanFactory()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="388.03" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-52" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;obtainFreshBeanFactory()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="388.4" y="6840" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-53" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;prepareRefresh()&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="388.75000000000006" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-54" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;createBeanFactory()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1803.74" y="6840" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-55" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;customizeBeanFactory&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2132.12" y="6840" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-56" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;都没有实现&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="2230" y="7563" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-57" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;实现了Ordered接口&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="2232.15" y="7469" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;实现了PriorityOrdered接口&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2232.15" y="7389" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-59" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;从beanFatory中获取所有BeanDefinitionRegistryPostProcessor的bean&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1807" y="7469" width="313" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;遍历List&amp;lt;BeanFactoryPostProcessor&amp;gt; beanFactory处理器&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1470" y="7469" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-61" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;当前beanFactory 是否为BeanDefinitionRegistry实例&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1141.1499999999999" y="7469" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-62" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PostProcessorRegistrationDelegate&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;.invokeBeanFactoryPostProcessors()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="768.62" y="7469" width="290.88" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;子类扩展BeanFactory&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="774.7899999999998" y="7319" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-64" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;注册默认环境bean&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2873.6600000000003" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-65" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;添加BeanPostProcessor&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2540.23" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-66" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;忽略一些接口的自动装配依赖&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2194.88" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-67" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;添加BeanPostProcessor -&amp;gt; Applicat ionContextAwareProcessor&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1848.89" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-68" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;设置属性编辑器&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="1490.55" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-69" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;设置bean表达式解析器&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="1139.55" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-70" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;设置bean工厂使用上下文的类加载器&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="782.05" y="7179" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-71" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将创建的beanfactory设置到当前上下文对象中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="2474.53" y="6945" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;loadBeanDefinitions&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2474.53" y="6840" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;不存在，创建一个SimpleApplicationEventMulticaster，注册到容器中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1076.91" y="8402.5" width="309.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;beanFactory是否包含applicationEventMulticaster的bean&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="733" y="8402.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-75" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;beanFactory.registerSingleton()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;注册messageSource的bean&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" parent="1" vertex="1">
          <mxGeometry x="768.6199999999999" y="8220" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-76" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hms.setParentMessageSource()设置父类messageSource属性&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="1489.8899999999999" y="8118.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取并判断messageSource 是否是 HierarchicalMessageSource的实例&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="1116.35" y="8118.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-78" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是否包含messageSource的bean&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="768.7500000000005" y="8118.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-79" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;registerBeanPostProcessors()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="3352.5900000000006" y="7846" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-80" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;sortPostProcessors()对bean进行排序&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="2992.4900000000002" y="7846" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-81" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;internalPostProcessors.add()添加到这个集合&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="2624.8600000000006" y="7846" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;是否为MergedBeanDefinitionPostProcessor的实例&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="2270.01" y="7846" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-83" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nonOrderedPostProcessorNames.add()添加到这个集合&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1854.3700000000001" y="7940" width="357.21" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-84" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;orderedPostProcessorNames.add()添加到这个集合&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1850.28" y="7846" width="315.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-85" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;priorityOrderedPostProcessors.add()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;添加到这个集合&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1850" y="7766" width="310.15" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;beanFactory.getBeanNamesForType()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;从beanFactory获取所有beanPostprocessor&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1132.5" y="7846" width="336.88" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PostProcessorRegistrationDelegate&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;.registerBeanPostProcessors()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="753.05" y="7846" width="306.95" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-88" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;currentRegistryProcessors.clear()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;清空集合&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="3730" y="7468" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;invokeBeanDefinitionRegistryPostProcessors&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;直接执行所有beanFactory实例&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="3290" y="7468" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-90" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;registryProcessors.addAll()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;添加到集合&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2956.54" y="7468" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-91" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;sortPostProcessors()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;排序&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2619.11" y="7468" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-92" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;beanNames存放了工厂所有bean信息&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2985.37" y="8910" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-93" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanFactory.preInstantiateSingletons()实例化&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2610" y="8997.5" width="302.13" height="75" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-94" value="&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanFactory.freezeConfiguration()&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;缓存所有beanDefinition元数据，设置不做改变&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="2225" y="8990" width="270" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-95" value="&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanFactory.setTempClassLoader(null)&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;停止使用临时类加载器&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1785" y="9004.5" width="335" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-96" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;nbsp;初始化LoadTimeWeaverAware&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1429.0900000000001" y="9004.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-97" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanFactory&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;.addEmbeddedValueResolver(）&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;不存在前入值解析器，则注册一个默认的嵌入值解析器，主要是注解属性解析&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1103.47" y="8970" width="270" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-98" value="&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;beanFactory.setConversionService()&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;初始化上下文转换服务conversionService的Bean&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="764.41" y="8985" width="270" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-99" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;如果应用上下文环境属性存在spring.liveBeansView.mbeanDomain，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;注册LiveBeansView的bean&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2197.8900000000003" y="9458.5" width="324.22" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-100" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;推送上下文刷新完毕的事件到相应的监听器&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1831.2200000000003" y="9458.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-101" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将已经刷新完毕的处理器传播（扔到）生命周期处理器中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1464.5" y="9457" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-102" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;初始化生命周期处理器&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1087.13" y="9458.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-103" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;清空上下文资源缓存&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="742.8700000000002" y="9458.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-104" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;清空开始的事件，到广播器中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1455" y="8801.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-105" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取容器中为监听器的Bean，注册到多播器中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1113.5" y="8801.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-106" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;获取当前容器中的监听器，注册到多播器中&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="771.9900000000002" y="8801.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;this.beanDefinitionMap.put(beanName, beanDefinition)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="10092.5" y="6543" width="305" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-108" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultListableBeanFactory.registerBeanDefinition()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="8580" y="6673" width="431.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-109" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;解析每个profile&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="7020" y="6775" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-110" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;返回ConfigurableListableBeanFactory对象&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="1476.29" y="7000" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-111" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;super() 创建了一个资源加载器，&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;用于接下来加载配置文件&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-10" y="6080" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-112" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;setConfigurations() 设置系统环境变量，解析配置文件的名字&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置文件存在多个，或者存在表达式&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-50" y="6240" width="350" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-113" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;refresh&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-10.620000000000003" y="6390" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-114" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;调用父类容器AbstractApplicationContext的构造方法(super(parent)方法)为容器设置好Bean资源加载器，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;通过AbstractApplicationContext默认构造函数初始化容器id, name, 状态 以及 资源解析器，&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;通过AbstractApplicationContext的setParent(parent)方法将父容器的Environment合并到当前容器&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-410.5" y="6160" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-115" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;FileSystemXmlApplicationContet执行setConfigLocations方法通过调用&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;其父类AbstractRefreshableConfigApplicationContext的方法进行对Bean定义资源文件的定位&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-405.5" y="6320" width="530" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-116" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="Zfu1pSEzlug92QJOXgdT-33" target="Zfu1pSEzlug92QJOXgdT-111" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="6260" as="sourcePoint" />
            <mxPoint x="110" y="6210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;" parent="1" source="Zfu1pSEzlug92QJOXgdT-111" target="Zfu1pSEzlug92QJOXgdT-112" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="6260" as="sourcePoint" />
            <mxPoint x="110" y="6210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-118" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-112" target="Zfu1pSEzlug92QJOXgdT-113" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="6260" as="sourcePoint" />
            <mxPoint x="110" y="6210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-122" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-53" target="Zfu1pSEzlug92QJOXgdT-52" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="6630" as="sourcePoint" />
            <mxPoint x="50" y="6580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-123" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-113" target="Zfu1pSEzlug92QJOXgdT-53" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="6630" as="sourcePoint" />
            <mxPoint x="50" y="6580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-124" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-52" target="Zfu1pSEzlug92QJOXgdT-51" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-0.7200000000000006" y="7280" as="sourcePoint" />
            <mxPoint x="49.28" y="7230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-125" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-51" target="Zfu1pSEzlug92QJOXgdT-50" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-0.7200000000000006" y="7479" as="sourcePoint" />
            <mxPoint x="49.28" y="7429" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-126" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-50" target="Zfu1pSEzlug92QJOXgdT-49" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-0.7200000000000006" y="7479" as="sourcePoint" />
            <mxPoint x="49.28" y="7429" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-127" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-49" target="Zfu1pSEzlug92QJOXgdT-48" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-0.7200000000000006" y="7479" as="sourcePoint" />
            <mxPoint x="49.28" y="7429" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-128" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-48" target="Zfu1pSEzlug92QJOXgdT-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2.5" y="8038.5" as="sourcePoint" />
            <mxPoint x="52.5" y="7988.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-129" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-47" target="Zfu1pSEzlug92QJOXgdT-46" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2.5" y="8328.5" as="sourcePoint" />
            <mxPoint x="52.5" y="8278.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-130" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-46" target="Zfu1pSEzlug92QJOXgdT-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2.5" y="8442.5" as="sourcePoint" />
            <mxPoint x="52.5" y="8392.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-131" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-45" target="Zfu1pSEzlug92QJOXgdT-44" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2.5" y="8681.5" as="sourcePoint" />
            <mxPoint x="52.5" y="8631.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-132" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-44" target="Zfu1pSEzlug92QJOXgdT-43" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1" y="8701.5" as="sourcePoint" />
            <mxPoint x="49" y="8651.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-133" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-43" target="Zfu1pSEzlug92QJOXgdT-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1" y="8924.5" as="sourcePoint" />
            <mxPoint x="49" y="8874.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-134" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;准备上下文环境&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="384.5" y="6460" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-135" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;创建工厂&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="393.31999999999994" y="6915" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-136" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;初始化工厂&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="402.28" y="7239" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-137" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;子类拓展beanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="379.28" y="7389" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-138" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;执行所有BeanFactoryPostProcessors&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="287.28" y="7533" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-139" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;注册所有的BeanPostProcessors （并没有执行）&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="231" y="7903.5" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-140" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;国际化处理&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="422" y="8178.5" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-141" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;初始化事件监听多路广播器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="346.54" y="8462.5" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-142" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;子类实现&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="431.12" y="8701.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-143" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;注册监听器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="414.5" y="8861.5" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-144" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;实例化对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="415.5" y="9064.5" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-145" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;清理资源信息，发布监听事件&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="345.5" y="9518.5" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-148" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#9933FF;" parent="1" source="Zfu1pSEzlug92QJOXgdT-38" target="Zfu1pSEzlug92QJOXgdT-41" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="217.79000000000002" y="6915" as="sourcePoint" />
            <mxPoint x="267.79" y="6865" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-149" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#9933FF;" parent="1" source="Zfu1pSEzlug92QJOXgdT-41" target="Zfu1pSEzlug92QJOXgdT-40" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="214.41000000000003" y="6905" as="sourcePoint" />
            <mxPoint x="264.41" y="6855" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-150" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#9933FF;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-40" target="Zfu1pSEzlug92QJOXgdT-39" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="214.41000000000003" y="6905" as="sourcePoint" />
            <mxPoint x="264.41" y="6855" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-151" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#9933FF;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-53" target="Zfu1pSEzlug92QJOXgdT-38" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="6530" as="sourcePoint" />
            <mxPoint x="530" y="6480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-152" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#CC6600;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-52" target="Zfu1pSEzlug92QJOXgdT-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="7100" as="sourcePoint" />
            <mxPoint x="1790" y="7050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-153" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-37" target="Zfu1pSEzlug92QJOXgdT-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="7100" as="sourcePoint" />
            <mxPoint x="1790" y="7050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-154" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractApplicationContext的obtainFreshBeanFactory()方法调用&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;子类容器的refreshBeanFactory()方法，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;启动容器载入Bean定义资源文件的过程&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;在创建IoC容器前，如果已经有容器存在，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;则需要把已有的容器销毁和关闭，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;以保证在refresh之后使用的是新建立起来的IoC容器。&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="884.12" y="6900" width="390" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-156" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;检查上下文中是否存在工厂，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;如果存在清除，重新创建&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1520.35" y="6840" width="216.22" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-157" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-37" target="Zfu1pSEzlug92QJOXgdT-156" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="7310" as="sourcePoint" />
            <mxPoint x="1590" y="7260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-158" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;创建DefaultListableBeanFactory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1773.29" y="6915" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-159" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;定制化设置beanFactory属性：allowBeanDefinitionOverriding，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;allowCircularReferences，是否允许bean重复定义，是否允许循环依赖&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2116" y="6905" width="410" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-160" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加载bean定义信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2574.53" y="6915" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-162" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-156" target="Zfu1pSEzlug92QJOXgdT-54" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1970" y="6880" as="sourcePoint" />
            <mxPoint x="2020" y="6830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-163" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#CC6600;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-54" target="Zfu1pSEzlug92QJOXgdT-55" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1870" y="6980" as="sourcePoint" />
            <mxPoint x="1920" y="6930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-164" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#CC6600;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-55" target="Zfu1pSEzlug92QJOXgdT-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1870" y="6980" as="sourcePoint" />
            <mxPoint x="1920" y="6930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Zfu1pSEzlug92QJOXgdT-72" target="Zfu1pSEzlug92QJOXgdT-71" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2390" y="6930" as="sourcePoint" />
            <mxPoint x="2620" y="6951" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-166" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-36" target="Zfu1pSEzlug92QJOXgdT-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1570" y="7000" as="sourcePoint" />
            <mxPoint x="1620" y="6950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-167" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#9933FF;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-39" target="Zfu1pSEzlug92QJOXgdT-53" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1290" y="7220" as="sourcePoint" />
            <mxPoint x="1450" y="7220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1925" y="6560" />
              <mxPoint x="591" y="6560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-168" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-71" target="Zfu1pSEzlug92QJOXgdT-36" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1400" y="6530" as="sourcePoint" />
            <mxPoint x="1560" y="6530" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1346" y="6980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-169" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" parent="1" source="Zfu1pSEzlug92QJOXgdT-110" target="Zfu1pSEzlug92QJOXgdT-52" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1080" y="6980" as="sourcePoint" />
            <mxPoint x="1240" y="6980" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1611" y="7080" />
              <mxPoint x="760" y="7080" />
              <mxPoint x="590" y="7080" />
              <mxPoint x="591" y="6920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-170" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;异常报错&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="9440" y="6563" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-171" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;nbsp;this.beanDefinitionMap.put(beanName, beanDefinition)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="9785" y="6678" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-172" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;默认标签的解析&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;委托BeanDefinitionDelegate类的parseBeanDefinitionElement方法进行元素解析&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" parent="1" vertex="1">
          <mxGeometry x="7970" y="6673" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-173" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;postProcessXml(root)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="7670" y="6553" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-174" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;parseBeanDefinitions(root, this.delegate)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="7670" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-175" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;preProcessXml(root)&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="7335" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-176" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultBeanDefinitionDocumentReader&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;.doRegisterBeanDefinitions()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="6616" y="6675" width="324" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-177" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;DefaultBeanDefinitionDocumentReader&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;.registerBeanDefinitions()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="6240" y="6675" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-178" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;documentReader.registerBeanDefinitions()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="5800" y="6675" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-179" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;createBeanDefinitionDocumentReader()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;返回BeanDefinitionDocumentReader对象&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="5400" y="6675" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-180" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;registerBeanDefinitions()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="5020" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-181" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;doLoadDocument 加载返回一个Document对象&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="4660" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-182" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;doLoadBeanDefinitions() 读取bean定义信息&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="4279" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-183" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行加载功能是其子类XmlBeanDefinitionReader的loadBeanDefinitions方法&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="3920" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-184" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;resourceLoader.getResource(location)，获取到要加载的资源。&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3519.11" y="6675" width="320.89" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-185" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Xml Bean读取器(XmlBeanDefinitionReader)调用reader.loadBeanDefinitions方法&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="3179.11" y="6665" width="270" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-186" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;AbstractXmlApplicationContext&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;.loadBeanDefinitions()&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2824.9999999999995" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-187" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XmlBeanDefinitionReader&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2475.81" y="6675" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-189" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractRefreshableApplicationContext 中只定义了抽象的 loadBeanDefinitions 方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;容器真正调用的是其子类 AbstractXmlApplicationContext 对该方法的实现&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2526" y="6880" width="510" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-190" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" parent="1" source="Zfu1pSEzlug92QJOXgdT-72" target="Zfu1pSEzlug92QJOXgdT-187" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="2540" y="6740" as="sourcePoint" />
            <mxPoint x="2700" y="6740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Zfu1pSEzlug92QJOXgdT-191" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;创建XmlBeanDefinitionReader 用于读取xml文件中定义信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2500" y="6743" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-187" target="Zfu1pSEzlug92QJOXgdT-186">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2870" y="6850" as="sourcePoint" />
            <mxPoint x="2920" y="6800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-2" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-186" target="Zfu1pSEzlug92QJOXgdT-185">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2870" y="6850" as="sourcePoint" />
            <mxPoint x="2920" y="6800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-3" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Xml Bean读取器(XmlBeanDefinitionReader)调用其父类&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AbstractBeanDefinitionReader的 reader.loadBeanDefinitions方法&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;读取Bean定义资源。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3143.66" y="6743" width="390" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-5" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-185" target="Zfu1pSEzlug92QJOXgdT-184">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3130" y="7000" as="sourcePoint" />
            <mxPoint x="3180" y="6950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-6" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-184" target="Zfu1pSEzlug92QJOXgdT-183">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3130" y="7000" as="sourcePoint" />
            <mxPoint x="3180" y="6950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-7" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;XmlBeanDefinitionReader类中的doLoadBeanDefinitions方法是从特定XML文件中实际载入Bean定义资源的方法，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;该方法在载入Bean定义资源之后将其转换为Document对象，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;接下来调用registerBeanDefinitions启动Spring IoC容器对Bean定义的解析过程&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="4710" y="6780" width="650" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-9" value="&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Bean定义资源的载入解析分为以下两个过程：&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;首先，通过调用XML解析器将Bean定义资源文件转换得到Document对象，但是这些Document对象并没有按照Spring的Bean规则进行解析。这一步是载入的过程&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;其次，在完成通用的XML解析之后，按照Spring的Bean规则对Document对象进行解析。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;在这个方法中很好地应用了面向对象中单一职责的原则，将逻辑处理委托给单一的类进行处理，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;而这个逻辑处理类就是BeanDefinitionDocumentReader。BeanDefinitionDocumentReader是一个接口，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;而实例化的工作是在createBeanDefinitionDocumentReader()中完成的，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;而通过此方法，BeanDefinitionDocumentReader真正的类型其实已经是DefaultBeanDefinitionDocumentReader了。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;按照Spring的Bean规则对Document对象解析的过程是在接口BeanDefinitionDocumentReader的实现类DefaultBeanDefinitionDocumentReader中实现的。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="5400" y="6765" width="890" height="140" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-10" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#CC6600;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-183" target="Zfu1pSEzlug92QJOXgdT-182">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-182" target="Zfu1pSEzlug92QJOXgdT-181">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-12" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-181" target="Zfu1pSEzlug92QJOXgdT-180">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-13" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-180" target="Zfu1pSEzlug92QJOXgdT-179">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-14" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-179" target="Zfu1pSEzlug92QJOXgdT-178">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-15" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-178" target="Zfu1pSEzlug92QJOXgdT-177">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5130" y="7040" as="sourcePoint" />
            <mxPoint x="5180" y="6990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-16" value="&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;在注册Bean的最开始是对PROFILE_ATTRIBUTE属性的解析，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;有了 profile 这个特性我们就可以同时在配置文件中部署两套配置来适用于生产环境和开发环境，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;这样可以方便的进行切换开发、部署环境，最常用的就是更换不同的数据库。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;首先程序会获取beans节点是否定义了profile属性，如果定义了则会需要到环境变量中去寻找，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;因为profile是可以同时指定多个的，需要程序对其拆分，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;并解析每个profile是都符合环境变量中所定义的，不定义则不会浪费性能去解析。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="6513" y="6745" width="530" height="110" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取beans节点是否定义了profile属性&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="7035" y="6665" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-19" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-17" target="Zfu1pSEzlug92QJOXgdT-109">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="6745" y="6750" as="sourcePoint" />
            <mxPoint x="6795" y="6700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-20" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-17" target="Zfu1pSEzlug92QJOXgdT-175">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="6745" y="6750" as="sourcePoint" />
            <mxPoint x="6795" y="6700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-21" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-176" target="HeerhwPCHteDlkhQBVJt-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="6780" y="6850" as="sourcePoint" />
            <mxPoint x="6830" y="6800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-177" target="Zfu1pSEzlug92QJOXgdT-176">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="6780" y="6850" as="sourcePoint" />
            <mxPoint x="6830" y="6800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-23" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-109" target="Zfu1pSEzlug92QJOXgdT-175">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="7040" y="6840" as="sourcePoint" />
            <mxPoint x="7090" y="6790" as="targetPoint" />
            <Array as="points">
              <mxPoint x="7470" y="6800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-24" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinitionParserDelegate解析Bean定义资源文件生成BeanDefinition&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="7255" y="6745" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-25" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;对于根节点或者子节点如果是默认命名空间的话则采用parseDefaultElement方法进行解析，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;否则使用delegate.parseCustomElement方法对自定义命名空间进行解析。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;而判断是否默认命名空间还是自定义命名空间的办法其实是使用node.getNamespaceURI()获取命名空间，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;并与Spring中固定的命名空间http://www.Springframework.org/schema/beans进行比对。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果一致则认为是默认，否则就认为是自定义。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="7710" y="6743" width="590" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-26" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-175" target="Zfu1pSEzlug92QJOXgdT-174">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="8030" y="7090" as="sourcePoint" />
            <mxPoint x="8080" y="7040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-174" target="Zfu1pSEzlug92QJOXgdT-173">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="8030" y="7090" as="sourcePoint" />
            <mxPoint x="8040" y="6705" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-29" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-174" target="Zfu1pSEzlug92QJOXgdT-172">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="6630" y="6700" as="sourcePoint" />
            <mxPoint x="6680" y="6650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-30" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&amp;nbsp;// 如果元素节点是&amp;lt;Import&amp;gt;导入元素，进行导入解析&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;// 如果元素节点是&amp;lt;Alias&amp;gt;别名元素，进行别名解析&amp;nbsp;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;// 如果元素节点&amp;lt;Bean&amp;gt;元素, 按照Spring的Bean规则解析元素&amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;// 如果元素节点&amp;lt;Beans&amp;gt;元素，即它是嵌套类型的&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="7390" y="6590" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-32" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;委托BeanDefinitionDelegate类的parseBeanDefinitionElement方法进行元素解析，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;返回BeanDefinitionHolder类型的实例bdHolder，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;经过这个方法后，bdHolder实例已经包含我们配置文件中配置的各种属性了，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;例如class、name、id、alias之类的属性。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;parseBeanDefinitionElement的解析方法 就不一一展开了，无非就是解析XML各种元素，&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;来生成BeanDefinition。解析的过程与mybatis解析xml文件同理&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="7960" y="6533" width="500" height="100" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-33" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BeanDefinitionReaderUtils 的 registerBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="8279.25" y="6675" width="233" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-34" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;Document对象的解析后得到封装 BeanDefinition 的 BeanDefinitionHold 对象，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;然后调用 BeanDefinitionReaderUtils 的 registerBeanDefinition 方法向IoC容器注册解析的Bean&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="8460" y="6740" width="550" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-35" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-172" target="HeerhwPCHteDlkhQBVJt-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="7860" y="6700" as="sourcePoint" />
            <mxPoint x="7910" y="6650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-36" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;当调用BeanDefinitionReaderUtils向IoC容器注册解析的BeanDefinition时，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;真正完成注册功能的是DefaultListableBeanFactory。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="8430.75" y="6585" width="430" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-37" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-33" target="Zfu1pSEzlug92QJOXgdT-108">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="8610.75" y="6645" as="sourcePoint" />
            <mxPoint x="8660.75" y="6595" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;this.beanDefinitionMap.get(beanName)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="9070" y="6673" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&amp;nbsp;// 如果已经注册,&amp;nbsp; &amp;nbsp;// 检查是否可以覆盖&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;isAllowBeanDefinitionOverriding&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="9475" y="6668" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-40" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-108" target="HeerhwPCHteDlkhQBVJt-38">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="8610.75" y="6635" as="sourcePoint" />
            <mxPoint x="8660.75" y="6585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-41" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-38" target="HeerhwPCHteDlkhQBVJt-39">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="9390" y="6696" as="sourcePoint" />
            <mxPoint x="9515" y="6883" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-39" target="Zfu1pSEzlug92QJOXgdT-171">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10055" y="6833" as="sourcePoint" />
            <mxPoint x="9775" y="6723" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-39" target="Zfu1pSEzlug92QJOXgdT-170">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10055" y="6833" as="sourcePoint" />
            <mxPoint x="10105" y="6783" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-46" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;hasBeanCreationStarted是否开始实例化&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="10115" y="6668" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;this.beanDefinitionMap.put(beanName, beanDefinition)&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="10435" y="6678" width="313" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-48" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-46" target="HeerhwPCHteDlkhQBVJt-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="9965" y="6843" as="sourcePoint" />
            <mxPoint x="10015" y="6793" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-49" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;加锁更新beanDefinitionsNames信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10455" y="6743" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-50" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-171" target="HeerhwPCHteDlkhQBVJt-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="9965" y="6843" as="sourcePoint" />
            <mxPoint x="10015" y="6793" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-46" target="Zfu1pSEzlug92QJOXgdT-107">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10405" y="6623" as="sourcePoint" />
            <mxPoint x="10455" y="6573" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-52" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;添加beanDefinition信息到容器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10260" y="6613" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-53" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;Bean定义资源文件中配置的Bean被解析过后，已经注册到IoC容器中，被容器管理起来，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;真正完成了IoC容器初始化所做的全部工作。现在IoC容器中已经建立了整个Bean的配置信息，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;这些 BeanDefinition 信息已经可以使用，并且可以被检索，IoC容器的作用就是对这些注册的Bean定义信息进行处理和维护。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;这些的注册的Bean定义信息是IoC容器控制反转的基础，正是有了这些注册的数据，容器才可以进行依赖注入。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10415" y="6533" width="690" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-54" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="5500" y="6720" as="sourcePoint" />
            <mxPoint x="5660" y="6720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-55" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#CC6600;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-47" target="Zfu1pSEzlug92QJOXgdT-72">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="10680" y="6870" as="sourcePoint" />
            <mxPoint x="2831.99951171875" y="7010" as="targetPoint" />
            <Array as="points">
              <mxPoint x="10592" y="6880" />
              <mxPoint x="9330" y="6880" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-57" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-51" target="Zfu1pSEzlug92QJOXgdT-70">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1960" y="7620" as="sourcePoint" />
            <mxPoint x="2120" y="7620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-58" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-70" target="Zfu1pSEzlug92QJOXgdT-69">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-59" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-69" target="Zfu1pSEzlug92QJOXgdT-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-60" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-68" target="Zfu1pSEzlug92QJOXgdT-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-61" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-67" target="Zfu1pSEzlug92QJOXgdT-66">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-62" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-66" target="Zfu1pSEzlug92QJOXgdT-65">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-63" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-65" target="Zfu1pSEzlug92QJOXgdT-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1960" y="7430" as="sourcePoint" />
            <mxPoint x="2010" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-65" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=4;strokeColor=#B5739D;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-64" target="Zfu1pSEzlug92QJOXgdT-51">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1740" y="7060" as="sourcePoint" />
            <mxPoint x="1900" y="7060" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3009" y="7280" />
              <mxPoint x="591" y="7280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-66" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#B3B3B3;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-50" target="Zfu1pSEzlug92QJOXgdT-63">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1800" y="7370" as="sourcePoint" />
            <mxPoint x="1850" y="7320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;invokeBeanFactoryPostProcessors()直接执行所有beanFacotry实例&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1130.17" y="7374" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-69" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;1.拿到当前应用上下文beanFactoryPostProcessors变量中的值&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&amp;nbsp;2.实例化并调用所有已注册的BeanFactoryPostProcessor&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;invokeBeanFactoryPostProcessors 执行增强的方法&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;涉及到了两个接口。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;BeanFactoryPostProcessor&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;BeanDefinitionRegistryPostProcessor接口，这个接口是BeanFactoryPostProcessor的子接口，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;它的优先级比BeanFactoryPostProcessor更高&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;它的总体执行流程是：&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;先执行BeanDefinitionRegistryPostProcessor的BeanFactoryPostProcessor，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;b&gt;然后再执行BeanFactoryPostProcessor&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="741.37" y="7535" width="550" height="170" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-70" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-49" target="Zfu1pSEzlug92QJOXgdT-62">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="7510" as="sourcePoint" />
            <mxPoint x="950" y="7460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-71" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-62" target="Zfu1pSEzlug92QJOXgdT-61">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="7630" as="sourcePoint" />
            <mxPoint x="950" y="7580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-61" target="Zfu1pSEzlug92QJOXgdT-60">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="7630" as="sourcePoint" />
            <mxPoint x="950" y="7580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-73" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-61" target="HeerhwPCHteDlkhQBVJt-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1520" y="7630" as="sourcePoint" />
            <mxPoint x="1570" y="7580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-74" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1283.38" y="7438" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-75" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1410" y="7498" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-76" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-60" target="Zfu1pSEzlug92QJOXgdT-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1520" y="7510" as="sourcePoint" />
            <mxPoint x="1570" y="7460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-77" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.741;exitY=-0.004;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-59" target="Zfu1pSEzlug92QJOXgdT-58">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1760" y="7540" as="sourcePoint" />
            <mxPoint x="2150" y="7430" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2040" y="7420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-78" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-59" target="Zfu1pSEzlug92QJOXgdT-56">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1760" y="7700" as="sourcePoint" />
            <mxPoint x="1810" y="7650" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2042" y="7594" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-79" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-59" target="Zfu1pSEzlug92QJOXgdT-57">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1760" y="7700" as="sourcePoint" />
            <mxPoint x="1810" y="7650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-81" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-56" target="Zfu1pSEzlug92QJOXgdT-91">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7850" as="sourcePoint" />
            <mxPoint x="3130" y="7800" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2754" y="7593" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-82" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-58" target="Zfu1pSEzlug92QJOXgdT-91">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7520" as="sourcePoint" />
            <mxPoint x="3130" y="7470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2754" y="7420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-83" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-57" target="Zfu1pSEzlug92QJOXgdT-91">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7520" as="sourcePoint" />
            <mxPoint x="3130" y="7470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-84" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-91" target="Zfu1pSEzlug92QJOXgdT-90">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7520" as="sourcePoint" />
            <mxPoint x="3130" y="7470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-85" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-90" target="Zfu1pSEzlug92QJOXgdT-89">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7520" as="sourcePoint" />
            <mxPoint x="3130" y="7470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-86" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-89" target="Zfu1pSEzlug92QJOXgdT-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3080" y="7520" as="sourcePoint" />
            <mxPoint x="3130" y="7470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;先执行&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2515" y="7378" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-88" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;后执行&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2509.11" y="7460" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;最后执行&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2526" y="7563" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-91" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00CC00;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-88" target="Zfu1pSEzlug92QJOXgdT-62">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1490" y="7350" as="sourcePoint" />
            <mxPoint x="1650" y="7350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3865" y="7670" />
              <mxPoint x="987" y="7660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-92" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;都没有实现&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="1518.88" y="7940" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-93" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;实现了Ordered接口&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1521.0300000000002" y="7846" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-94" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;实现了PriorityOrdered接口&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1521.0300000000002" y="7766" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-96" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-87" target="Zfu1pSEzlug92QJOXgdT-86">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-86" target="HeerhwPCHteDlkhQBVJt-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-98" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-86" target="HeerhwPCHteDlkhQBVJt-92">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1301" y="7966" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-99" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-86" target="HeerhwPCHteDlkhQBVJt-94">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1301" y="7796" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-100" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-94" target="Zfu1pSEzlug92QJOXgdT-85">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-93" target="Zfu1pSEzlug92QJOXgdT-84">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-102" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="HeerhwPCHteDlkhQBVJt-92" target="Zfu1pSEzlug92QJOXgdT-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="7956" as="sourcePoint" />
            <mxPoint x="1940" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-85" target="Zfu1pSEzlug92QJOXgdT-82">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7956" as="sourcePoint" />
            <mxPoint x="2650" y="7906" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2425" y="7796" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-104" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-82" target="Zfu1pSEzlug92QJOXgdT-81">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7966" as="sourcePoint" />
            <mxPoint x="2650" y="7916" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-105" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#0066CC;strokeWidth=3;" edge="1" parent="1" target="Zfu1pSEzlug92QJOXgdT-80">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2500" y="7840" as="sourcePoint" />
            <mxPoint x="2650" y="7916" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2500" y="7806" />
              <mxPoint x="3127" y="7806" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-106" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-82" target="Zfu1pSEzlug92QJOXgdT-80">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7966" as="sourcePoint" />
            <mxPoint x="2650" y="7916" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2503" y="7966" />
              <mxPoint x="3127" y="7966" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-107" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-81" target="Zfu1pSEzlug92QJOXgdT-80">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7966" as="sourcePoint" />
            <mxPoint x="2650" y="7916" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-108" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-80" target="Zfu1pSEzlug92QJOXgdT-79">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7966" as="sourcePoint" />
            <mxPoint x="2650" y="7916" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-109" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-84" target="Zfu1pSEzlug92QJOXgdT-82">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2600" y="7956" as="sourcePoint" />
            <mxPoint x="2650" y="7906" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-110" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0066CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-83" target="Zfu1pSEzlug92QJOXgdT-82">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2900" y="7956" as="sourcePoint" />
            <mxPoint x="2950" y="7906" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2425" y="7970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-111" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0066CC;strokeWidth=3;" edge="1" parent="1" target="Zfu1pSEzlug92QJOXgdT-87">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659" y="7876.5" as="sourcePoint" />
            <mxPoint x="2040" y="7743" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-112" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2570" y="7838" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-113" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2510" y="7778" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-114" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2495" y="7970" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-115" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;首先拿到工厂中所有的BeanPostProcessor类型的Bean，然后分类处理，排序注册。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="701.83" y="7930" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-116" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#EA6B66;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-47" target="Zfu1pSEzlug92QJOXgdT-78">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="8340" as="sourcePoint" />
            <mxPoint x="970" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-117" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#EA6B66;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-78" target="Zfu1pSEzlug92QJOXgdT-75">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320" y="8340" as="sourcePoint" />
            <mxPoint x="1370" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#EA6B66;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-78" target="Zfu1pSEzlug92QJOXgdT-77">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320" y="8340" as="sourcePoint" />
            <mxPoint x="1370" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-119" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#EA6B66;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-77" target="Zfu1pSEzlug92QJOXgdT-76">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1320" y="8340" as="sourcePoint" />
            <mxPoint x="1370" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-120" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1040" y="8108" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-121" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="912.5" y="8183" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-123" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#EA6B66;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-76" target="Zfu1pSEzlug92QJOXgdT-47">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="970" y="8250" as="sourcePoint" />
            <mxPoint x="1130" y="8250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1625" y="8300" />
              <mxPoint x="590" y="8300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-124" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#EA6B66;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-75" target="Zfu1pSEzlug92QJOXgdT-47">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="980.46" y="8398.57" as="sourcePoint" />
            <mxPoint x="1140.46" y="8398.57" as="targetPoint" />
            <Array as="points">
              <mxPoint x="904" y="8300" />
              <mxPoint x="590" y="8300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-125" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;创建了一个多播器，为添加Listener提供支持。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;主要逻辑：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;容器中是否存在applicationEventMulticaster，如果存在直接注册&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果不存在，创建一个SimpleApplicationEventMulticaster，注册到容器中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="721.77" y="8472.5" width="440" height="100" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-127" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FFD966;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-46" target="Zfu1pSEzlug92QJOXgdT-74">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="940" y="8290" as="sourcePoint" />
            <mxPoint x="1100" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-128" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FFD966;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-74" target="Zfu1pSEzlug92QJOXgdT-73">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="940" y="8290" as="sourcePoint" />
            <mxPoint x="1100" y="8290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-129" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FFD966;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-73" target="Zfu1pSEzlug92QJOXgdT-46">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="940" y="8580" as="sourcePoint" />
            <mxPoint x="1100" y="8580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1232" y="8530" />
              <mxPoint x="590" y="8530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-130" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;子类扩展&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;gradientColor=#b3b3b3;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="783.36" y="8641.5" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-131" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#B3B3B3;strokeWidth=3;" edge="1" parent="1" target="HeerhwPCHteDlkhQBVJt-130" source="Zfu1pSEzlug92QJOXgdT-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="665.5700000000002" y="8671.5" as="sourcePoint" />
            <mxPoint x="1858.57" y="8642.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-133" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00FFFF;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-44" target="Zfu1pSEzlug92QJOXgdT-106">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1180" y="8860" as="sourcePoint" />
            <mxPoint x="1340" y="8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-134" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#00FFFF;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-106" target="Zfu1pSEzlug92QJOXgdT-105">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1180" y="8860" as="sourcePoint" />
            <mxPoint x="1340" y="8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-135" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00FFFF;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-105" target="Zfu1pSEzlug92QJOXgdT-104">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1180" y="8860" as="sourcePoint" />
            <mxPoint x="1340" y="8860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-136" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#00FFFF;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-104" target="Zfu1pSEzlug92QJOXgdT-44">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1180" y="9030" as="sourcePoint" />
            <mxPoint x="1340" y="9030" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1590" y="8900" />
              <mxPoint x="588" y="8900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-137" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;看一下当前Bean中是否存在生命周期处理器，如果存在直接使用这个，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果不存在则创建一个默认的，并且注册为一个单例的扔到容器中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1045.8" y="9532" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-138" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000CC;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-42" target="Zfu1pSEzlug92QJOXgdT-103">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="9437" as="sourcePoint" />
            <mxPoint x="1430" y="9437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-139" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0000CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-103" target="Zfu1pSEzlug92QJOXgdT-102">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="9437" as="sourcePoint" />
            <mxPoint x="1430" y="9437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-140" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#0000CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-102" target="Zfu1pSEzlug92QJOXgdT-101">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="9437" as="sourcePoint" />
            <mxPoint x="1430" y="9437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-141" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#0000CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-101" target="Zfu1pSEzlug92QJOXgdT-100">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="9437" as="sourcePoint" />
            <mxPoint x="1430" y="9437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-142" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#0000CC;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-100" target="Zfu1pSEzlug92QJOXgdT-99">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="9437" as="sourcePoint" />
            <mxPoint x="1430" y="9437" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeerhwPCHteDlkhQBVJt-143" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#0000CC;strokeWidth=3;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-99" target="Zfu1pSEzlug92QJOXgdT-42">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1530" y="9467" as="sourcePoint" />
            <mxPoint x="590" y="9607" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2360" y="9597" />
              <mxPoint x="519" y="9597" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-1" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-43" target="Zfu1pSEzlug92QJOXgdT-98">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1490" y="9060" as="sourcePoint" />
            <mxPoint x="770" y="9035" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-2" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-98" target="Zfu1pSEzlug92QJOXgdT-97">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1250" y="9090" as="sourcePoint" />
            <mxPoint x="1410" y="9090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-3" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-97" target="Zfu1pSEzlug92QJOXgdT-96">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1250" y="9090" as="sourcePoint" />
            <mxPoint x="1410" y="9090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-4" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-96" target="Zfu1pSEzlug92QJOXgdT-95">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1250" y="9090" as="sourcePoint" />
            <mxPoint x="1410" y="9090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-5" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-95" target="Zfu1pSEzlug92QJOXgdT-94">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1770" y="9080" as="sourcePoint" />
            <mxPoint x="1930" y="9080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-6" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-94" target="Zfu1pSEzlug92QJOXgdT-93">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1770" y="9080" as="sourcePoint" />
            <mxPoint x="1930" y="9080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-7" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;遍历所有beanNames&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3322.46" y="8910" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-8" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getMergedLocalBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="3640" y="8910" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-9" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是否为FactoryBean&lt;/b&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="3960" y="8900" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-10" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getBean() 获取所有的Bean&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="4250" y="8910" width="191" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-11" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;遍历所有beanNames&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" vertex="1" parent="1">
          <mxGeometry x="4540" y="8910" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-12" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getSingleton(beanName) 获取bean信息&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0a30a;fontColor=#000000;strokeColor=#BD7000;" vertex="1" parent="1">
          <mxGeometry x="4910" y="8910" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;是否为SmartInitializingSingleton的实例&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="5230" y="8910" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行smartSingleton.afterSingletonsInstantiated()&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="5536" y="8910" width="344" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-16" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.543;exitY=0.069;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-93" target="Zfu1pSEzlug92QJOXgdT-92">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3110" y="8930" as="sourcePoint" />
            <mxPoint x="3160" y="8880" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2774" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-17" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="Zfu1pSEzlug92QJOXgdT-92" target="aSReEV5Opm9Btbn-QTs3-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3110" y="8930" as="sourcePoint" />
            <mxPoint x="3160" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-18" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-7" target="aSReEV5Opm9Btbn-QTs3-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3110" y="8930" as="sourcePoint" />
            <mxPoint x="3160" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-19" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-8" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3640" y="8930" as="sourcePoint" />
            <mxPoint x="3690" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-9" target="aSReEV5Opm9Btbn-QTs3-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3640" y="8930" as="sourcePoint" />
            <mxPoint x="3690" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-21" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;isEagerInit是否需要立即加载&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="3931.25" y="8801.5" width="207.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-9" target="aSReEV5Opm9Btbn-QTs3-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4130" y="8930" as="sourcePoint" />
            <mxPoint x="4180" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-23" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-10" target="aSReEV5Opm9Btbn-QTs3-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4200" y="8930" as="sourcePoint" />
            <mxPoint x="4250" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-11" target="aSReEV5Opm9Btbn-QTs3-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4200" y="8930" as="sourcePoint" />
            <mxPoint x="4250" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-25" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-12" target="aSReEV5Opm9Btbn-QTs3-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5010" y="8930" as="sourcePoint" />
            <mxPoint x="5060" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-14" target="aSReEV5Opm9Btbn-QTs3-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5010" y="8930" as="sourcePoint" />
            <mxPoint x="5060" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-21" target="aSReEV5Opm9Btbn-QTs3-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4330" y="8900" as="sourcePoint" />
            <mxPoint x="4380" y="8850" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4346" y="8832" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-28" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.539;exitY=1.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-15" target="Zfu1pSEzlug92QJOXgdT-93">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3170" y="8830" as="sourcePoint" />
            <mxPoint x="3330" y="8830" as="targetPoint" />
            <Array as="points">
              <mxPoint x="5651" y="9030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-29" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;BeanDefinition是否需要合并。BeanDefinition根据不同类型的配置文件信息，会将Bean封装到不同的Bean信息定义类中。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;比如我们常用的配置文件版的GenericBeanDefinition；注解扫描版的ScannedGenericBeanDefinition等等。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;而在这个过程中就出现了，父定义和子定义，我们需要在实际处理定义信息的时候进行合并处理，主要有一下三个方面&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;存在父定义信息，使用父定义信息创建一个RootBeanDefinition，然后将自定义信息作为参数传入。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;不存在父定义信息，并且当前BeanDefinition是RootBeanDefintion类型的，直接返回一份RootBeanDefintion的克隆&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;不存在父定义信息，并且当前BeanDefintion不是RootBeanDefintiton类型的，直接通过该BeanDefintion构建一个RootBeanDefintion返回&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2953.66" y="8572.5" width="770" height="110" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-31" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当前bean是否存在合并缓存中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="3675" y="8577.5" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-32" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3790" y="8790" as="sourcePoint" />
            <mxPoint x="3766" y="8850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-34" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3840" y="8486" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-35" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-31" target="aSReEV5Opm9Btbn-QTs3-57">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3785" y="8556" as="sourcePoint" />
            <mxPoint x="3755" y="8526" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-37" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;克隆RootBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="3640" y="8208.5" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-38" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-57" target="aSReEV5Opm9Btbn-QTs3-44">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3785" y="8546" as="sourcePoint" />
            <mxPoint x="3835" y="8496" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-39" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3717" y="8516" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-41" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3862" y="8816.5" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-44" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当前beanDefinition是否为RootBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="3650" y="8316" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-46" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-44" target="aSReEV5Opm9Btbn-QTs3-37">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3785" y="8536" as="sourcePoint" />
            <mxPoint x="3835" y="8486" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-47" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-44" target="aSReEV5Opm9Btbn-QTs3-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3898.5" y="8356" as="sourcePoint" />
            <mxPoint x="3958.5" y="8356" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-48" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3715" y="8274" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-49" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3880" y="8326" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-51" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;创建RootBeanDefinition&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3968.5" y="8326" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-53" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-31" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry x="0.0045" width="160" relative="1" as="geometry">
            <mxPoint x="3730" y="8740" as="sourcePoint" />
            <mxPoint x="3890" y="8740" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3910" y="8608" />
              <mxPoint x="3910" y="8832" />
              <mxPoint x="3910" y="8940" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-54" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-37" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3940" y="8720" as="sourcePoint" />
            <mxPoint x="4100" y="8720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3910" y="8239" />
              <mxPoint x="3910" y="8463" />
              <mxPoint x="3910" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-55" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3725" y="8417.5" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-56" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-51" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3940" y="8720" as="sourcePoint" />
            <mxPoint x="4100" y="8720" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4094" y="8410" />
              <mxPoint x="3910" y="8410" />
              <mxPoint x="3910" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-57" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;父定义是否存在&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3670" y="8444" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-59" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;父定义的beanName&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;与当前beanName相同&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="3949.75" y="8444" width="268.75" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-60" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-57" target="aSReEV5Opm9Btbn-QTs3-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3994" y="8769.5" as="sourcePoint" />
            <mxPoint x="4044" y="8719.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-62" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;当前bean是否存在合并缓存中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="3658" y="8785" width="204" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getMergedBeanDefinition()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;执行合并逻辑&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="3645" y="8686.5" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-64" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-62" target="aSReEV5Opm9Btbn-QTs3-63">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3950" y="8540" as="sourcePoint" />
            <mxPoint x="4000" y="8490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-65" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-63" target="aSReEV5Opm9Btbn-QTs3-31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3950" y="8740" as="sourcePoint" />
            <mxPoint x="4000" y="8690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-66" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-62" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3890" y="8710" as="sourcePoint" />
            <mxPoint x="4050" y="8710" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3910" y="8815" />
              <mxPoint x="3910" y="8940" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-67" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-59" target="aSReEV5Opm9Btbn-QTs3-63">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4060" y="8630" as="sourcePoint" />
            <mxPoint x="4110" y="8580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4084" y="8717" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-68" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="4035" y="8524" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;new RootBeanDefinition(pbd)&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;使用父定义创建&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="4260" y="8454" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-70" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;mbd.overrideForm（bd）自定义覆写&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0a30a;fontColor=#000000;strokeColor=#BD7000;" vertex="1" parent="1">
          <mxGeometry x="4270" y="8554" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-71" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-59" target="aSReEV5Opm9Btbn-QTs3-69">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4060" y="8730" as="sourcePoint" />
            <mxPoint x="4110" y="8680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-69" target="aSReEV5Opm9Btbn-QTs3-70">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4060" y="8710" as="sourcePoint" />
            <mxPoint x="4110" y="8660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-73" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-70" target="aSReEV5Opm9Btbn-QTs3-9">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="4010" y="8680" as="sourcePoint" />
            <mxPoint x="4170" y="8680" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4360" y="8640" />
              <mxPoint x="3910" y="8640" />
              <mxPoint x="3910" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-74" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;isFactoryBean。判断是否为FactoryBean&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;FactoryBean是让开发者创建自己需要Bean接口&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;内部提供了三个方法&lt;/div&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;T getObject() throws Exception;//返回的Bean信息&lt;/div&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;Class&amp;lt;?&amp;gt; getObjectType();//返回的Bean类型&lt;/div&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;default boolean isSingleton() {return true;}//是否单例&lt;/div&gt;&lt;div style=&quot;color: rgb(255, 0, 0); font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当我们通过GetBean直接该Bean的时候，获取到的是该工厂指定返回的Bean类型。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;如果想要获取该Bean本身，需要通过一个前缀获得&amp;amp;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3730" y="8980" width="470" height="160" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-75" value="&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;transformedBeanName()&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;解析真正的BeanName&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6d8764;fontColor=#ffffff;strokeColor=#3A5431;" vertex="1" parent="1">
          <mxGeometry x="3928.75" y="9140" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-76" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getSingleton()&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;获取容器中的bean&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#647687;fontColor=#ffffff;strokeColor=#314354;" vertex="1" parent="1">
          <mxGeometry x="3928.75" y="9240" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;如果容器中存在，直接返回该Bean是否为FactoryBea类型&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" vertex="1" parent="1">
          <mxGeometry x="3913.75" y="9341" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-78" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;getParentBeanFactory().isFactoryBean()&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;没有Bean信息，检查这个Bean是否是ConfigurableBeanFactory实例,从父工厂中获取&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;" vertex="1" parent="1">
          <mxGeometry x="3858.75" y="9440" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-79" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;isFactoryBean(）MergedBeanDefinition&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;来检查beanName对应的Bean是否为FactoryBean&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" vertex="1" parent="1">
          <mxGeometry x="3868.75" y="9555" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-80" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-9" target="aSReEV5Opm9Btbn-QTs3-75">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4010" y="9080" as="sourcePoint" />
            <mxPoint x="4060" y="9030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-81" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-75" target="aSReEV5Opm9Btbn-QTs3-76">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4010" y="9270" as="sourcePoint" />
            <mxPoint x="4060" y="9220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-82" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-76" target="aSReEV5Opm9Btbn-QTs3-77">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4010" y="9370" as="sourcePoint" />
            <mxPoint x="4060" y="9320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-83" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-77" target="aSReEV5Opm9Btbn-QTs3-78">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4010" y="9370" as="sourcePoint" />
            <mxPoint x="4060" y="9320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-84" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-78" target="aSReEV5Opm9Btbn-QTs3-79">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4010" y="9470" as="sourcePoint" />
            <mxPoint x="4060" y="9420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-85" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-77" target="aSReEV5Opm9Btbn-QTs3-10">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3950" y="9250" as="sourcePoint" />
            <mxPoint x="4310" y="9180" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4220" y="9371" />
              <mxPoint x="4220" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-87" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;strokeWidth=3;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-78" target="aSReEV5Opm9Btbn-QTs3-10">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="4160" y="9350" as="sourcePoint" />
            <mxPoint x="4320" y="9350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4220" y="9470" />
              <mxPoint x="4220" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-88" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-79" target="aSReEV5Opm9Btbn-QTs3-10">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="4160" y="9350" as="sourcePoint" />
            <mxPoint x="4320" y="9350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="4220" y="9585" />
              <mxPoint x="4220" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;查看当前单例池中是否存在该Bean，存在直接返回&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="3710" y="9240" width="175" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-90" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;如果不存在，且当前Bean正在被创建，从earlySingletonObjects中获取Bean&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="3449.1099999999997" y="9230" width="207.59" height="80" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-91" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;如果早期容器也没有且允许创建早期引用，获取该Bean的ObjectFactory工厂&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="3170" y="9240" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-92" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;如果当前工厂不为空，创建一个对象实例，添加到早期引用earlySingletonObjects中&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="2900" y="9240" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-93" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;从引用的工厂singletonFactories移除该bean&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="2650" y="9240" width="186.81" height="60" as="geometry" />
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-94" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-76" target="aSReEV5Opm9Btbn-QTs3-89">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3390" y="9340" as="sourcePoint" />
            <mxPoint x="3440" y="9290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-95" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-89" target="aSReEV5Opm9Btbn-QTs3-90">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3390" y="9340" as="sourcePoint" />
            <mxPoint x="3440" y="9290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-96" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-90" target="aSReEV5Opm9Btbn-QTs3-91">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3390" y="9340" as="sourcePoint" />
            <mxPoint x="3440" y="9290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-91" target="aSReEV5Opm9Btbn-QTs3-92">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3350" y="9340" as="sourcePoint" />
            <mxPoint x="3400" y="9290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-98" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-92" target="aSReEV5Opm9Btbn-QTs3-93">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3350" y="9340" as="sourcePoint" />
            <mxPoint x="3400" y="9290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-99" value="" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#FF0000;" edge="1" parent="1" source="aSReEV5Opm9Btbn-QTs3-93" target="aSReEV5Opm9Btbn-QTs3-76">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="3340" y="9320" as="sourcePoint" />
            <mxPoint x="3500" y="9320" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2808" y="9320" />
              <mxPoint x="3910" y="9320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="aSReEV5Opm9Btbn-QTs3-100" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;从容器中获取Bean的主要方法，也是解决循环依赖的逻辑&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3560" y="9327.5" width="330" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="rpEaD6Np3iaf7Zxh5g_y" name="SpringCloud">
    <mxGraphModel dx="4279" dy="2604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-128" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="842" y="1360" width="210" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-68" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="474.5" y="720" width="447.5" height="210" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-9" y="2338" width="190" height="120.5" as="geometry" />
        </mxCell>
        <mxCell id="SVxHG66HbYDkKFJ2KTPA-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;SpringCloud配置中心的核心原理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-938" y="-180" width="350" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SVxHG66HbYDkKFJ2KTPA-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-112" y="680" width="434" height="220" as="geometry" />
        </mxCell>
        <mxCell id="SVxHG66HbYDkKFJ2KTPA-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="-518" y="580" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;@RefreshScope&amp;nbsp; bean属性动态刷新的原理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1060" y="1860" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-245" y="2368" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-224" y="2714.5" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="277" y="2338" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-922" y="2371.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-375" y="2493.25" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-8" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-229" y="2582.5" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-179" y="2454" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0a30a;fontColor=#000000;strokeColor=#BD7000;" vertex="1" parent="1">
          <mxGeometry x="-952" y="2492.25" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="-685" y="2397.75" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-685" y="2492.25" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-14" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置中心服务端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="267" y="2353" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置中心客户端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="31.5" y="2383" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RefreshEvent&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-189" y="2469" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-17" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;RefreshEventListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-199" y="2597.5" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ContextRefresher&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-199" y="2732.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-19" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;拉取最新配置&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-375" y="2508.25" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-20" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;UserService真正对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-680" y="2412.75" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-21" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;UserService代理对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-947" y="2512.25" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-22" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;UserService新创建的对象&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-675" y="2507.25" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-23" value="&lt;b&gt;@Autowired等注入&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-927" y="2386.75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-24" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-1060" y="2492.25" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-25" value="&lt;b&gt;使用&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1020" y="2529.25" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-26" value="&lt;b&gt;调用&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-750" y="2542.25" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-27" value="&lt;b&gt;注入最新属性&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-425" y="2556" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-28" value="&lt;b&gt;&lt;font&gt;配置变化&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="231" y="2413" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-29" value="&lt;b&gt;拉取配置&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="195" y="2344.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-30" value="&lt;b&gt;发布事件&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-109" y="2527.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-31" value="&lt;b&gt;监听&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-169" y="2537.5" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-34" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySourceLocator&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-200" y="2383" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-35" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-5" target="8bbkrGhFxS0-G9X_UQBX-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-29" y="2444.5" as="sourcePoint" />
            <mxPoint x="21" y="2394.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-36" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-5" target="8bbkrGhFxS0-G9X_UQBX-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219" y="2544.5" as="sourcePoint" />
            <mxPoint x="-169" y="2494.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-37" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-4" target="8bbkrGhFxS0-G9X_UQBX-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219" y="2544.5" as="sourcePoint" />
            <mxPoint x="-169" y="2494.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-38" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-9" target="8bbkrGhFxS0-G9X_UQBX-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219" y="2544.5" as="sourcePoint" />
            <mxPoint x="-169" y="2494.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-39" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-8" target="8bbkrGhFxS0-G9X_UQBX-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-219" y="2644.5" as="sourcePoint" />
            <mxPoint x="-169" y="2594.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-40" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-3" target="8bbkrGhFxS0-G9X_UQBX-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-165" y="2659.25" as="sourcePoint" />
            <mxPoint x="-115" y="2609.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-41" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-2" target="8bbkrGhFxS0-G9X_UQBX-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-165" y="2659.25" as="sourcePoint" />
            <mxPoint x="-115" y="2609.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-42" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-7" target="8bbkrGhFxS0-G9X_UQBX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-405" y="2485.5" as="sourcePoint" />
            <mxPoint x="-365" y="2560.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-24" target="8bbkrGhFxS0-G9X_UQBX-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-610" y="2499.25" as="sourcePoint" />
            <mxPoint x="-560" y="2449.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-10" target="8bbkrGhFxS0-G9X_UQBX-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-610" y="2499.25" as="sourcePoint" />
            <mxPoint x="-560" y="2449.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-45" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.x;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" vertex="1" parent="1">
          <mxGeometry x="-515" y="2431.75" width="30" height="37" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-47" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-6" target="8bbkrGhFxS0-G9X_UQBX-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-610" y="2499.25" as="sourcePoint" />
            <mxPoint x="-560" y="2449.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-48" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当配置中心客户端发现服务端的配置有变化，需要发送一个RefreshEvent事件来告诉SpringCloud配置有变动&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;SpringCloud会去监听这个事件，按照项目启动的方式重新拉取配置中心最新的属性配置&lt;/span&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;当拉取完属性配置之后，就会销毁所有的第二个Bean&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;真正对象&lt;/span&gt;&lt;span style=&quot;background-color: initial; color: rgb(0, 127, 255);&quot;&gt;，也就是真正被使用的Bean&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;之后当第一个Bean（动态代理的Bean）需要使用这个第二个Bean&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;真正对象&lt;/span&gt;&lt;span style=&quot;background-color: initial; color: rgb(0, 127, 255);&quot;&gt;时，就会重新创建这个第二个Bean&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;真正对象&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;&lt;b&gt;此时由于已经有最新的配置了，那么创建的这个第二个Bean就会被注入最新的属性，这样就实现了属性的”刷新“&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1047" y="1940" width="660" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-49" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;@RefreshScope注解是个衍生注解，真正起作用的就是@Scope注解&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;@Scope注解并不陌生，他其实是定义Bean的作用域&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;比如多例（原型），就可以加上@Scope(&quot;prototype&quot;)注解&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;@RefreshScope也可以看做是一种Bean的作用域，名字叫做refresh&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;这些除了单例和多例之外的作用域的底层实现逻辑都是一样的&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;这些带有作用域的Bean相比于普通的单例Bean主要有以下几点不同：&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;会注册两个Bean，这个前面已经提到过&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;保存的地方不同，比如单例Bean最终会存在三级缓存中的第一级缓存中，而不同作用域的Bean是存在不同的地方的&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;先说会注册两个Bean，还是以前面提到的UserService举个例子，这两个Bean分别是&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;第一个Bean的Bean名称为userService，Bean class为ScopedProxyFactoryBean.class，这个scope为默认，也就是单例&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;，最终会生成一个代理对象，并且由于是单例的，所以最终这个对象会被放到一级缓存中，我们使用时注入的也就是这个对象&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;第二个Bean的Bean名称为scopedTarget.userService，Bean class为UserService.class，scope为refresh（如果是session作用域就是session）&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;生成的就是真正的UserService对象，但是由于scope为refresh，所以不会存在第一级缓存中&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1060" y="2060" width="810" height="230" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-53" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;prepareEnviorment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-483" y="595" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-55" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="572" y="530" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-56" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-31" y="775" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-57" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="-31" y="515" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-58" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="-518" y="760" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-59" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="571.5" y="1050" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-60" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1152" y="800" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-61" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="343" y="330" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-63" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="572.5" y="750" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-64" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="524.5" y="1200" width="370" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-65" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;gradientColor=#97d077;" vertex="1" parent="1">
          <mxGeometry x="570.5" y="850" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-69" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="567.5" y="1560" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-70" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1171" y="1100" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-71" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="1132" y="950" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-72" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="567.5" y="1380" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-73" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;EventPulishingRunListener&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-22" y="700" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SimpleApplicationEventMulticaster&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-42" y="790" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-75" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SpringApplicationRunListener&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1" y="530" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationContext&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;跟配置中心交互的容器&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="639" y="1055" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-78" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ConfigFileApplicationListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="582.5" y="765" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-79" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;BootstrapApplicationListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="600.5" y="860" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-80" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;键为@BootstrapConfiguration注解&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;全限定名对应的配置类&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1162" y="960" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-81" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Bootstrap配置文件&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1228" y="1115" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySourceBootstrapConfiguration&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="553" y="1215" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-83" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;PropertySourceLocator&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="602.5" y="1389" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-84" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Environment&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="657.5" y="1580" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-85" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;spring.factory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1222" y="815" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;spring.factory&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="408" y="340" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-87" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="652" y="545" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-89" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;listeners.enviormentPrepared&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-508" y="775" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-93" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.512;entryY=0.067;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="SVxHG66HbYDkKFJ2KTPA-6" target="8bbkrGhFxS0-G9X_UQBX-89">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="507" y="860" as="sourcePoint" />
            <mxPoint x="557" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-94" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-318" y="688" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-96" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-213" y="810" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-97" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-61" target="8bbkrGhFxS0-G9X_UQBX-57">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="582" y="600" as="sourcePoint" />
            <mxPoint x="632" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-98" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;加载&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="248" y="420" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-99" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;加载&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="553" y="450" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-100" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.568;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-61" target="8bbkrGhFxS0-G9X_UQBX-55">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="582" y="600" as="sourcePoint" />
            <mxPoint x="632" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-55" target="8bbkrGhFxS0-G9X_UQBX-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="582" y="850" as="sourcePoint" />
            <mxPoint x="632" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-102" value="实现" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="653" y="628" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-103" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-57" target="SVxHG66HbYDkKFJ2KTPA-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="582" y="850" as="sourcePoint" />
            <mxPoint x="632" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-104" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;唯一实现&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="7" y="608" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-105" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-58" target="SVxHG66HbYDkKFJ2KTPA-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="242" y="610" as="sourcePoint" />
            <mxPoint x="292" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-106" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.003;entryY=0.473;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-55" target="8bbkrGhFxS0-G9X_UQBX-74">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="242" y="810" as="sourcePoint" />
            <mxPoint x="292" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-107" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;添加到&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="382" y="635" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-108" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="SVxHG66HbYDkKFJ2KTPA-2" target="8bbkrGhFxS0-G9X_UQBX-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="242" y="810" as="sourcePoint" />
            <mxPoint x="292" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-109" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;触发监听&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="337" y="878" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-110" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-68" target="8bbkrGhFxS0-G9X_UQBX-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="242" y="1410" as="sourcePoint" />
            <mxPoint x="292" y="1360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-111" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;某个阶段调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="819" y="1128" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-59" target="8bbkrGhFxS0-G9X_UQBX-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="226.5" y="1400" as="sourcePoint" />
            <mxPoint x="276.5" y="1350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-60" target="8bbkrGhFxS0-G9X_UQBX-71">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="93.5" y="900" as="sourcePoint" />
            <mxPoint x="143.5" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-118" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-71" target="8bbkrGhFxS0-G9X_UQBX-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="232" y="920" as="sourcePoint" />
            <mxPoint x="282" y="870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-119" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-70" target="8bbkrGhFxS0-G9X_UQBX-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="232" y="920" as="sourcePoint" />
            <mxPoint x="282" y="870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-120" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-64" target="8bbkrGhFxS0-G9X_UQBX-72">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="424.5" y="1420" as="sourcePoint" />
            <mxPoint x="474.5" y="1370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-121" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调用&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="739.5" y="1318" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-122" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-72" target="8bbkrGhFxS0-G9X_UQBX-69">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="417" y="1160" as="sourcePoint" />
            <mxPoint x="467" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-123" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;加载&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1228" y="900" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-124" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;加载&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1082" y="1080" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-125" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;创建一个跟配置中心相关的Spring容器&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;跟配置中心交互的Spring容器最最主要就是干两件事：&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;加载bootstrap配置文件&lt;/div&gt;&lt;div style=&quot;&quot;&gt;加载所有的spring.factories中的键为&lt;/div&gt;&lt;div style=&quot;&quot;&gt;org.springframework.cloud.bootstrap.BootstrapConfiguration对应的配置类&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="282" y="1058" width="450" height="100" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-126" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;加载bootstrap配置文件和所有的spring.factories中的键为&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;org.springframework.cloud.bootstrap.BootstrapConfiguration对应的配置类&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1077" y="1030" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-127" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;调用这个容器中所有的PropertySourceLocator对象，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;从配置中心获取配置&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="582" y="1440" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-129" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置中心客户端&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="873" y="1389" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-130" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="1202" y="1353.5" width="220" height="101" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-131" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;配置中心服务器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1238" y="1393.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-133" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-130" target="8bbkrGhFxS0-G9X_UQBX-128">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1172" y="1290" as="sourcePoint" />
            <mxPoint x="1222" y="1240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-134" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;从配置中心获取配置&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1052" y="1370" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-136" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;配置放到Environment中&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;在ApplicationContext的刷新阶段就可以使用到配置中心的配置&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="512" y="1633" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-137" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;这个配置类中会注入这么一个集合对象&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;PropertySourceLocator&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="705" y="1260" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-138" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;在BootstrapApplicationListener中，他首先也会创建一个SpringApplication去执行&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;本质上就是创建一个Spring容器，也就是ApplicationContext&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="572.5" y="930" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-139" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;BootstrapImportSelectorConfiguration，&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;会通过@Import注解导入另一个配置类&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;BootstrapImportSelector，BootstrapImportSelector实现了（间接）ImportSelector接口&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;容器在启动的时候，就会调用BootstrapImportSelector的selectImports方法的实现获取到一些配置类&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;会加载所有的spring.factories中的键为org.springframework.cloud.bootstrap.BootstrapConfiguration的配置类&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1412" y="860" width="590" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-140" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;gradientColor=#7ea6e0;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-950" y="580" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-141" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="-940" y="815" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-142" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;gradientColor=#ea6b66;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-950" y="1075" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-143" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationContext刷新前&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-910" y="595" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-144" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ApplicationContext刷新阶段&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-920" y="830" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-145" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ApplicationContext刷新后&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-920" y="1088" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-146" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="8bbkrGhFxS0-G9X_UQBX-140">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-815" y="405" as="sourcePoint" />
            <mxPoint x="-110" y="725" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-147" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-140" target="8bbkrGhFxS0-G9X_UQBX-141">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160" y="975" as="sourcePoint" />
            <mxPoint x="-110" y="925" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-148" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-141" target="8bbkrGhFxS0-G9X_UQBX-142">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160" y="975" as="sourcePoint" />
            <mxPoint x="-110" y="925" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-149" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-142">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-160" y="975" as="sourcePoint" />
            <mxPoint x="-815" y="1275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-150" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8bbkrGhFxS0-G9X_UQBX-140" target="SVxHG66HbYDkKFJ2KTPA-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-168" y="790" as="sourcePoint" />
            <mxPoint x="-118" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-151" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ApplicationContext刷新前阶段，这个阶段主要也干三件事&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;准备Environment&amp;nbsp; &amp;nbsp;也就是准备SpringBoot的整个外部化配置的对象&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;创建一个ApplicationContext&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;为ApplicationContext做一些准备工作&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-958" y="640" width="390" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-152" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;调用ApplicationContext#refresh方法来刷新容器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-960" y="890" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-154" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;这个阶段其实就是收尾的阶段，这个过程其实没有什么非常核心的事&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-948" y="1145" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-155" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;prepareEnvironment方法的实现，是拉取配置的核心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-493" y="648" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-156" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;加载spring.factories中的一些对象，其中就包括：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;org.springframework.context.ApplicationListener键对应的ApplicationListener的实现&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="413" y="400" width="500" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-157" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;org.springframework.boot.SpringApplicationRunListener键对应的SpringApplicationRunListener的实现类&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-28" y="478" width="620" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-158" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;SpringApplicationRunListener仅仅只有一个实现EventPublishingRunListener&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-68" y="718" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-159" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;会创建一个SimpleApplicationEventMulticaster，再将加载的ApplicationListener添加进去&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-136" y="845" width="520" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-160" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;会发布一个ApplicationEnvironmentPreparedEvent事件&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;而对这个事件有两个特别重要的监听器：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ConfigFileApplicationListener&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;BootstrapApplicationListener&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;这些监听器都是通过前置操作从spring.factories配置文件中加载的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ConfigFileApplicationListener，用来处理配置文件的，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;他会解析配置文件的配置，放到Environment中&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;BootstrapApplicationListener这个跟本文探讨的主题相关了，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;它是用来专门来跟配置中心交互的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="799" y="595" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="8bbkrGhFxS0-G9X_UQBX-161" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;准备Environment，也就是prepareEnvironment方法的实现，是拉取配置的核心&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;在SpringApplication创建的时候，会去加载spring.factories中的一些对象，其中就包括：&lt;span style=&quot;background-color: initial;&quot;&gt;org.springframework.context.ApplicationListener键对应的ApplicationListener的实现&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;org.springframework.boot.SpringApplicationRunListener键对应的SpringApplicationRunListener的实现类&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;SpringApplicationRunListener仅仅只有一个实现EventPublishingRunListener，会&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;创建一个SimpleApplicationEventMulticaster，再将加载的ApplicationListener添加进去&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;之后会执行这么一行方法&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;listeners.environmentPrepared(environment);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;这个方法最终会走到这个方法&lt;span style=&quot;background-color: initial;&quot;&gt;EventPublishingRunListener#environmentPrepared&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;这个方法最终会发布一个ApplicationEnvironmentPreparedEvent事件&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;而对这个事件有两个特别重要的监听器：&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ConfigFileApplicationListener&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;BootstrapApplicationListener&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;这些监听器都是通过前置操作从spring.factories配置文件中加载的&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;ConfigFileApplicationListener，用来处理配置文件的，他会解析配置文件的配置，放到Environment中&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;BootstrapApplicationListener这个跟本文探讨的主题相关了，它是用来专门来跟配置中心交互的&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;在BootstrapApplicationListener中，他首先也会创建一个SpringApplication去执行&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;本质上就是创建一个Spring容器，也就是ApplicationContext&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这个容器非常重要，这个容器是专门用来跟配置中心交互的，&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这个容器在创建的时候会给它两个比较重要的配置&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;第一个就是设置这个容器所用的配置文件的名称，&lt;/b&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;默认就是bootstrap，&lt;/span&gt;&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这就解释了为什么配置中心的配置信息需要写在bootstrap配置文件中&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;第二个就是会加入一个配置类。&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;BootstrapImportSelectorConfiguration&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;这个配置类又会通过@Import注解导入另一个配置类&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;BootstrapImportSelector&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;BootstrapImportSelector实现了（间接）ImportSelector接口，&lt;span style=&quot;background-color: initial;&quot;&gt;那么这个容器在启动的时候，就会调用BootstrapImportSelector的selectImports方法的实现获取到一些配置类&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;会加载所有的spring.factories中的键为org.springframework.cloud.bootstrap.BootstrapConfiguration的配置类&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;@BootstrapConfiguration会导入一个很重要的配置类&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;PropertySourceBootstrapConfiguration，&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;这个配置类中会注入这么一个集合对象&lt;/span&gt;&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;PropertySourceLocator&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;这个接口的作用就是用配置中心获取配置的，&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;当注入完PropertySourceLocator集合之后，在某个阶段会调用所有的PropertySourceLocator，获取配置中心中的配置&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;之后在把这些配置放到Environment中&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;这样在ApplicationContext的刷新阶段就可以使用到配置中心的那些配置了&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-850" y="-120" width="980" height="520" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="qiQ9v1aWT242CUDRwwvC" name="Sentinel">
    <mxGraphModel dx="2327" dy="820" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="moMJ4k46cWSwz-kuLB0w-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Sentinel的核心原理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-650" y="80" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-2" value="&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Sentinel会为每个资源创建一个处理链条，就是一个责任链，第一次访问这个资源的时候创建，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;之后就一直复用，所以这个处理链条每个资源有且只有一个。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;SphU.entry(..)会调用责任链来完成对资源的检查逻辑。&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;这个责任链条中每个处理节点被称为ProcessorSlot，中文意思就是处理器槽&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ProcessorSlot有很多实现，但是Sentinel的核心就下面这8个：&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;默认情况下，节点是按照如下的顺序进行排序的&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;NodeSelectorSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ClusterBuilderSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;LogSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;StatisticSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;AuthoritySlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;SystemSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;FlowSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;DegradeSlot&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;这些实现会通过SPI机制加载，然后按照一定的顺序组成一个责任链。&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;如果想扩展，只要实现ProcessorSlot，按照SPI的规定配置一下就行。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-640" y="142" width="610" height="270" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-25" y="500" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-10" y="660" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="10" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="10" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-8" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="10" y="1050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" vertex="1" parent="1">
          <mxGeometry x="10" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;fontColor=#000000;strokeColor=#B09500;" vertex="1" parent="1">
          <mxGeometry x="10" y="1370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-11" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="10" y="1530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-12" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-3" target="moMJ4k46cWSwz-kuLB0w-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="780" as="sourcePoint" />
            <mxPoint x="340" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-13" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-4" target="moMJ4k46cWSwz-kuLB0w-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="780" as="sourcePoint" />
            <mxPoint x="340" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-14" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="moMJ4k46cWSwz-kuLB0w-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="460" as="sourcePoint" />
            <mxPoint x="340" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-15" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SphU.entry(..)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="440" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;NodeSelectorSlot&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="515" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-19" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;DegradeSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="1545" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-20" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;FlowSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="20" y="1385" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-21" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;SystemSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="15" y="1225" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-22" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;AuthoritySlot&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="1060" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-23" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;StatisticSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="10" y="935" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-24" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;LogSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" y="815" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-25" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;ClusterBuilderSlot&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="675" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-26" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-6" target="moMJ4k46cWSwz-kuLB0w-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="820" as="sourcePoint" />
            <mxPoint x="330" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-7" target="moMJ4k46cWSwz-kuLB0w-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1020" as="sourcePoint" />
            <mxPoint x="330" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-8" target="moMJ4k46cWSwz-kuLB0w-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1020" as="sourcePoint" />
            <mxPoint x="330" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-9" target="moMJ4k46cWSwz-kuLB0w-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1220" as="sourcePoint" />
            <mxPoint x="330" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-30" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-10" target="moMJ4k46cWSwz-kuLB0w-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="1320" as="sourcePoint" />
            <mxPoint x="330" y="1270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-31" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;设置当前资源对应的入口的统计Node,&lt;/b&gt;&lt;span style=&quot;color: rgb(0, 127, 255); background-color: initial;&quot;&gt;&lt;b&gt;一般一个资源就一个入口，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;比如一个http接口一般只能通过http访问，但是Sentinel支持多入口，&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;你可以不用，但是Sentinel有。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所以NodeSelectorSlot的作用就是选择资源在当前调用入口的统计Node，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这样就实现了统计同一个资源在不同入口访问数据&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;资源的入口可以在进入资源之前通过ContextUtil.enter(&quot;入口名&quot;, origin)来指定，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;如果不指定，那么入口名称默认就是sentinel_default_context。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;在SpringMVC环境底下，所有的http接口资源，默认的入口都是sentinel_spring_web_context&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="180" y="425" width="530" height="130" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-32" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ClusterBuilderSlot的作用跟NodeSelectorSlot其实是差不多的，也是用来选择统计Node，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;但是选择的Node的统计维护跟NodeSelectorSlot不一样。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ClusterBuilderSlot会选择两个统计Node：&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;第一个统计Node是资源的所有入口的统计数据之和，就是资源访问的总数据&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;第二个统计Node就是统计资源调用者对资源访问数据&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;通过ContextUtil.enter(&quot;入口名&quot;, origin)来指定，这个方法的第二个参数origin就是代表服务名的意思，默认是空。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;所以ContextUtil.enter(..)可以同时指定资源的入口和调用者，一个资源一定有入口，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;因为不指定入口默认就是sentinel_default_context，但是调用者不指定就会没有。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;对于一个http请求来说，Sentinel默认服务名需要放到S-user这个请求头中，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;所以如果你想知道接口的调用服务，需要在调用方发送请求的时候将服务名设置到S-user请求头中。&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;当资源所在的服务接收到请求时，Sentinel就会从S-user请求头获取到服务名，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;之后再通过ContextUtil.enter(&quot;入口名&quot;, &quot;调用者名&quot;)来设置当前资源的调用者&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-650" y="585" width="630" height="220" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-33" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;用来打印日志的,当发生异常，就会打印日志。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="140" y="785" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-34" value="&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;NodeSelectorSlot和ClusterBuilderSlot，他们的作用就是根据资源当前的入口和调用来源来选择对应的统计Node,&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;StatisticSlot就是对这些统计Node进行实际的统计，比如加一下资源的访问线程数，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;资源的请求数量等&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="910" width="630" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-35" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;对资源调用者进行授权，就是黑白名单控制。&lt;span style=&quot;background-color: initial;&quot;&gt;可以通过控制台来添加授权规则&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;AuthoritySlot中会去获取资源的调用者，之后会跟授权规则中的资源应用这个选项进行匹配，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;之后就会出现有以下2种情况：&lt;span style=&quot;background-color: initial;&quot;&gt;授权类型是黑名单，匹配上了，&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;说明在黑名单内，那么这个服务就不能访问这个资源，没匹配上就可以访问&lt;/div&gt;&lt;div style=&quot;&quot;&gt;授权类型是白名单。匹配上了，说明在白名单内，那么这个服务就可以访问这个资源，没匹配上就不可以访问&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="1040" width="600" height="90" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-36" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;根据整个系统运行的统计数据来限流的，防止当前系统负载过高。&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;它支持入口qps、线程数、响应时间、cpu使用率、负载5个限流的维度。&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-420" y="1215" width="410" height="40" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-37" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;据预设的规则，结合前面的统计出来的实时信息进行流量控制&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;针对来源，来源就是前面说的调用方，这个配置表明，这个规则适用于哪个调用方，默认是default，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#007fff&quot;&gt;&lt;b&gt;就是指规则适用于所有调用方，如果指定了调用方，那么这个规则仅仅对指定的调用方生效。&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;阈值类型，就是限流条件，当资源的qps或者访问的线程数到达设置的单机阈值，就会触发限流。&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;是否集群，这个作用是用来对集群控制的，因为一个服务可能在很多台机器上，&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;而这个的作用就是将整个集群看成一个整体来限流，这里就不做深入讨论。&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;流控模式，这个流控模式的选项仅仅对阈值类型为qps有效，当阈值类型线程数时无效。&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;这个配置就比较有意思了，分为直接、关联、链路三种模式。&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;直接模式的意思就是当未设置针对来源时，资源的ClusterNode统计数据统计达到了阈值，就会触发限流。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;关联模式下需要填写关联的资源名称,&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;当关联资源的ClusterNode统计的qps达到了设置的阈值时，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;就会触发当前资源的限流操作。&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;链路模式也一样，它需要关联一个入口资源&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;当访问资源的实际入口跟关联入口是一样的时候，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;就会根据这个入口对应的DefaultNode的统计数据来判断是否需要限流。&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;最后一个配置项，流控效果，这个就是如果是通过qps来限流，并且达到了限流的条件之后会做什么，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;如果是线程数，就直接抛出BlockException异常&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;也有三种方式，快速失败、Warm Up、排队等待&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;快速失败的意思就是指一旦触发限流了，那么直接抛出BlockException异常&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Warm Up的作用就是为了防止系统流量突然增加时出现瞬间把系统压垮的情况。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;通过&quot;冷启动&quot;，让通过的流量缓慢增加，在一定时间内逐渐增加到阈值上限。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;排队等待，很好理解，意思当出现限流了，不是抛异常，而是去排队等待一定时间，&lt;/div&gt;&lt;div style=&quot;&quot;&gt;其实就是让请求均匀速度通过，内部使用的是传说中的漏桶算法。&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-600" y="1370" width="610" height="340" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-38" value="&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;用来熔断降级的。&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;Sentinel支持三种熔断策略：慢调用比例、异常比例 、异常数&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="1540" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-39" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;熔断器的工作流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="1840" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-40" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;Sentinel会为每个设置的规则都创建一个熔断器，熔断器有三种状态，OPEN(打开)、HALF_OPEN(半开)、CLOSED(关闭)&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当处于CLOSED状态时，可以访问资源，访问之后会进行慢调用比例、异常比例、异常数的统计，一旦达到了设置的阈值，就会将熔断器的状态设置为OPEN&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当处于OPEN状态时，会去判断是否达到了熔断时间，如果没到，拒绝访问，如果到了，那么就将状态改成HALF_OPEN，然后访问资源，&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;访问之后会对访问结果进行判断，符合规则设置的要求，直接将熔断器设置为CLOSED，关闭熔断器，不符合则还是改为OPEN状态&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当处于HALF_OPEN状态时，直接拒绝访问资源&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-560" y="1880" width="880" height="90" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-41" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-42" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" vertex="1" parent="1">
          <mxGeometry x="-510" y="2120" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-43" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-44" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="-20" y="2120" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
          <mxGeometry x="-480" y="2250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-46" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-260" y="2240" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;gradientColor=#ffd966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry y="2250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-48" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;gradientColor=#97d077;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-50" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-305" y="2640" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-52" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e6d0de;gradientColor=#d5739d;strokeColor=#996185;" vertex="1" parent="1">
          <mxGeometry x="-70" y="2380" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-53" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-15" y="2650" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-54" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-41" target="moMJ4k46cWSwz-kuLB0w-44">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-55" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-41" target="moMJ4k46cWSwz-kuLB0w-43">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-56" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-41" target="moMJ4k46cWSwz-kuLB0w-42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-42" target="moMJ4k46cWSwz-kuLB0w-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-59" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-43" target="moMJ4k46cWSwz-kuLB0w-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-60" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-44" target="moMJ4k46cWSwz-kuLB0w-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2320" as="sourcePoint" />
            <mxPoint x="-90" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-61" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-46" target="moMJ4k46cWSwz-kuLB0w-45">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2420" as="sourcePoint" />
            <mxPoint x="-90" y="2370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-62" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-46" target="moMJ4k46cWSwz-kuLB0w-48">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2420" as="sourcePoint" />
            <mxPoint x="-90" y="2370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-63" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-48" target="moMJ4k46cWSwz-kuLB0w-49">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2520" as="sourcePoint" />
            <mxPoint x="-90" y="2470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-64" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-49" target="moMJ4k46cWSwz-kuLB0w-50">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2520" as="sourcePoint" />
            <mxPoint x="-90" y="2470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-65" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-47" target="moMJ4k46cWSwz-kuLB0w-52">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2420" as="sourcePoint" />
            <mxPoint x="-90" y="2370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-66" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-52" target="moMJ4k46cWSwz-kuLB0w-53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2520" as="sourcePoint" />
            <mxPoint x="-90" y="2470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-67" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;熔断器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-225" y="2010" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-68" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;OPEN(打开)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-235" y="2135" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-69" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HALF_OPEN(半开)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-500" y="2135" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-70" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;CLOSED(关闭)&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry y="2135" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-71" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;拒绝访问资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-480" y="2270" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-72" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将状态改成&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;HALF_OPEN&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-245" y="2385" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-73" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;访问资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-240" y="2535" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;是否达到&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;熔断时间&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-240" y="2255" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-75" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将熔断器设置&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;为CLOSED&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-250" y="2785" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-76" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;访问资源&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="20" y="2265" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-77" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;将熔断器的状态&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;设置为OPEN&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="2660" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-78" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是否成功/响应时间&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;低于最大响应时间&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-270" y="2655" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-79" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-50" target="moMJ4k46cWSwz-kuLB0w-51">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2690" as="sourcePoint" />
            <mxPoint x="-90" y="2640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-80" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;是否成功/响应时间&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;低于最大响应时间&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;并且大于阈值&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-10" y="2390" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-81" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="moMJ4k46cWSwz-kuLB0w-50" target="moMJ4k46cWSwz-kuLB0w-53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="2690" as="sourcePoint" />
            <mxPoint x="-90" y="2640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;是&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-190" y="2720" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-83" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;否&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-75" y="2680" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-84" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;失败/高于最大响应时间&lt;br&gt;并且大于阈值&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-55" y="2515" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-85" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;否&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-320" y="2290" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="moMJ4k46cWSwz-kuLB0w-86" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;是&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-185" y="2330" width="40" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YViNBW6Mx3rO0wQZnAEL" name="xxl-job">
    <mxGraphModel dx="2927" dy="3486" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-65" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1230.5" y="-45" width="460" height="380" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-46" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1140" y="694" width="1260" height="700" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="150" y="700" width="725" height="700" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;XXL-JOB 任务调度全过程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="113" y="-1420" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-10" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;调用中心是用来控制定时任务的触发逻辑&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;div style=&quot;text-align: left;&quot;&gt;调度中心是一个单独的Web服务，用来触发定时任务的执行&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;它提供了一些页面操作，管理这些定时任务的触发逻辑&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;调度中心依赖数据库，所以数据都是存在数据库中的&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;调度中心也支持集群模式，但是它们所依赖的数据库必须是同一个&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;所以同一个集群中的调度中心实例之间是没有任何通信的，数据都是通过数据库共享的&lt;/div&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1286.5" y="524" width="480" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-15" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="205" y="797" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-16" value="&lt;b&gt;&lt;font&gt;@XxlJob注解的Bean&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="205" y="897" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="205" y="987" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-18" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3c800;strokeColor=#B09500;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="205" y="1087" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-20" value="&lt;b&gt;&lt;font&gt;Spring容器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="220" y="802" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-21" value="&lt;b&gt;MethodJobHandler&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="205" y="997" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-22" value="&lt;b&gt;JobHandler&lt;/b&gt;&lt;div&gt;&lt;b&gt;Map缓存&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="215" y="1097" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-26" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;成员变量&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="345" y="1087" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-17" target="ANlJ96FJJQ0399WOkpuZ-18" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="555" y="1057" as="sourcePoint" />
            <mxPoint x="605" y="1007" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-16" target="ANlJ96FJJQ0399WOkpuZ-17" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="555" y="1057" as="sourcePoint" />
            <mxPoint x="605" y="1007" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-29" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-15" target="ANlJ96FJJQ0399WOkpuZ-16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="555" y="1057" as="sourcePoint" />
            <mxPoint x="605" y="1007" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-30" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;扫描所有加了该注解的bean&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="190" y="855" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-31" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;封装&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="250" y="946.5" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-32" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;添加&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="255" y="1045" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-35" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="420" y="786" width="330" height="604" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-36" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="796" y="942" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-37" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1190" y="860" width="300" height="430" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-38" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ExecutorBizClient&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1190" y="885" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-39" value="&lt;b&gt;Http服务端&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="821" y="957" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-40" value="&lt;b&gt;ExecutorBizImpl&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="440" y="797" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-41" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;发送http请求&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="965" y="966" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-42" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;将请求交给&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="740" y="946.5" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-37" target="ANlJ96FJJQ0399WOkpuZ-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1095" y="926" as="sourcePoint" />
            <mxPoint x="1145" y="966" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="866" y="932" as="sourcePoint" />
            <mxPoint x="746" y="978" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-48" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;接收来自调度中心的请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="816" y="1002" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-49" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;所有调度中心的请求都是这里处理的&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="440" y="832" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-50" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;执行器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="145" y="665" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-51" value="&lt;span style=&quot;font-size: 19px;&quot;&gt;&lt;b&gt;调度中心&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1189" y="654" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-52" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;当执行器启动的时候，会启动一个注册线程，这个线程会往调度中心注册当前执行器的信息，包括两部分数据&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;执行器的名字，也就是设置的appname&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;执行器所在机器的ip和端口，这样调度中心就可以访问到这个执行器提供的Http接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;每个服务实例都会对应一个执行器实例，所以调用中心会保存每个执行器实例的地址&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="225" y="615" width="600" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-53" value="&lt;div&gt;&lt;b&gt;1.&amp;nbsp; 当执行器启动的时候，会启动一个注册线程，这个线程会往调度中心注册当前执行器的信息，包括两部分数据&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;执行器的名字，也就是设置的appname&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;执行器所在机器的ip和端口，这样调度中心就可以访问到这个执行器提供的Http接口&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;前面提到每个服务实例都会对应一个执行器实例，所以调用中心会保存每个执行器实例的地址&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="113" y="-1330" width="620" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-54" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="121.5" y="-95" width="275" height="230" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="121.5" y="215" width="275" height="230" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-56" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;执行器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="126.5" y="-95" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-57" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;执行器&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="121.5" y="215" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XxlJob-Demo&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="186.5" y="-55" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-59" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XxlJob-Demo&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="186.5" y="255" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-60" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;192.168.0.101:9999&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="166.5" y="315" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-61" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;192.168.0.100：9999&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="161.5" y="5" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-62" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;192.168.0.100：9999&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1351.5" y="95" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-63" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;192.168.0.101:9999&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1356.5" y="139" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-64" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;XxlJob-Demo&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1360.5" y="45" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-66" value="&lt;b&gt;&lt;font style=&quot;font-size: 19px;&quot;&gt;调度中心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1240.5" y="-35" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-67" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#007FFF;entryX=0.01;entryY=0.591;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-55" target="ANlJ96FJJQ0399WOkpuZ-65" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="981.5" y="251" as="sourcePoint" />
            <mxPoint x="1001.5" y="211" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-68" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#007FFF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-54" target="ANlJ96FJJQ0399WOkpuZ-65" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="981.5" y="251" as="sourcePoint" />
            <mxPoint x="1031.5" y="201" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-69" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;启动一个注册线程往调度中心注册当前执行器的信息，包括两部分数据&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;执行器的名字，也就是设置的appname，&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;执行器所在机器的ip和端口&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="426.5" y="120" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-70" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;注册执行器应用名，ip和端口号&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="501.5" y="45" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-71" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;注册执行器应用名，ip和端口号&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="606.5" y="285" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-72" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=0.962;exitY=-0.004;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#007FFF;exitPerimeter=0;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-45" target="ANlJ96FJJQ0399WOkpuZ-65" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="1750" as="sourcePoint" />
            <mxPoint x="950" y="1700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-73" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1414" y="-45" width="205" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-74" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;dashboard&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1430" y="-35" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-75" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="ANlJ96FJJQ0399WOkpuZ-73" edge="1" source="ANlJ96FJJQ0399WOkpuZ-76">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1450" y="-100" as="sourcePoint" />
            <mxPoint x="1200.5" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-76" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="1496" y="-180" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-77" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;提供了一些页面操作管理这些定时任务的触发逻辑&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1551" y="-25" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-78" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2301.5" y="40.5" width="150" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-80" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-65" target="ANlJ96FJJQ0399WOkpuZ-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1150.5" y="-125" as="sourcePoint" />
            <mxPoint x="1200.5" y="-175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-81" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-99" target="ANlJ96FJJQ0399WOkpuZ-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1179" y="1454" as="sourcePoint" />
            <mxPoint x="1229" y="1404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-82" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;数据库&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2341.5" y="250.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-83" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;注册执行器应用名，ip和端口号&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="636.5" y="-60" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-85" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;调度中心依赖数据库，所以数据都是存在数据库中的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;调度中心也支持集群模式，但是它们所依赖的数据库必须是同一个&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;所以同一个集群中的调度中心实例之间是没有任何通信的，数据都是通过数据库共享的&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2461.5" y="-50.5" width="480" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-86" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调度中心依赖数据库&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;增删查改任务触发规则数据&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1711" y="95" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-87" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;尝试加锁&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2295" y="360" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-88" value="&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;2。 初始化JobHandler就是指，执行器启动的时候会去Spring容器中找到加了@XxlJob注解的Bean&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;解析注解，然后封装成一个MethodJobHandler对象，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;最终存到XxlJobSpringExecutor成员变量的一个本地的Map缓存中，&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;缓存key就是任务的名字&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="113" y="-1240" width="550" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-89" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="481.5" y="45" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-90" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="621.5" y="-55" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-91" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="591.5" y="285" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-92" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;xxl_job_info&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2316.5" y="124.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-93" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;3.&amp;nbsp; 任务触发&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调度中心在启动的时候，会开启一个线程，这个线程的作用就是来计算任务触发时机，这里我把这个线程称为调度线程&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;这个调度线程会去查询xxl_job_info这张表，&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这张表存了任务的一些基本信息和任务下一次执行的时间&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;调度线程会去查询下一次执行的时间 &amp;lt;= 当前时间 + 5s的任务，&lt;/b&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;这个5s是XxlJob写死的，被称为预读时间，提前读出来，保证任务能准时触发&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;对于已经超过5s以上时间的任务，会根据任务配置的调度过期策略来选择要不要执行&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;调度过期策略就两种&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;直接忽略这个已经过期的任务&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;立马执行一次这个过期的任务&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;对于超时时间在5s以内的任务，就直接立马执行一次，之后如果判断任务下一次执行时间就在5s内，会直接放到一个时间轮里面，等待下一次触发执行&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;还没到执行时间，所以不会立马执行，也是直接放到时间轮里面，等待触发执行&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;当这批任务处理完成之后，不论是前面是什么情况，调度线程都会去重新计算每个任务的下一次触发时间，然后更新xxl_job_info这张表的下一次执行时间&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;之后调度线程还会继续重复上面的步骤，查任务，调度任务，更新任务下次执行时间，一直死循环下去，这就实现了任务到了执行时间就会触发的功能&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当任务达到了触发条件，并不是由调度线程直接去触发执行器的任务执行&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: bold; background-color: initial;&quot;&gt;调度线程会将这个触发的任务交给线程池去执行，&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;Xxl-Job为了进一步优化任务的触发，将这个触发任务执行的线程池划分成快线程池和慢线程池两个线程池&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;在调用执行器的Http接口触发任务执行的时候，Xxl-Job会去记录每个任务的触发所耗费的时间&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;注意并不是任务执行时间，只是整个Http请求耗时时间，这是因为执行器执行任务是异步执行的，所以整个时间不包括任务执行时间&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;当任务一次触发的时间超过500ms，那么这个任务的慢次数就会加1&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;如果这个任务一分钟内触发的慢次数超过10次，接下来就会将触发任务交给慢线程池去异步执行&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;所以快慢线程池就是避免那种频繁触发并且每次触发时间还很长的任务阻塞其它任务的触发的情况发生&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="109" y="-1120" width="850" height="340" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-94" value="&lt;b&gt;&lt;font color=&quot;#cc6600&quot; style=&quot;font-size: 14px;&quot;&gt;select * from xxl_job_lock where lock_name = &#39;schedule_lock&#39; for update&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2472.5" y="115.5" width="510" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-95" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff8000&quot;&gt;执行成功，说明当前调度中心成功抢到了锁，接下来就可以执行调度任务了&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff8000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff8000&quot;&gt;当调度任务执行完之后再去关闭连接，从而释放锁&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff8000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff8000&quot;&gt;由于每次执行之前都需要去获取锁，这样就保证在调度中心集群中，同时只有一个调度中心执行调度任务&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2481.5" y="144.5" width="580" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-96" value="&lt;b&gt;由于调度中心可以是集群的形式，每个调度中心实例都有调度线程，那么如何保证任务在同一时间只会被其中的一个调度中心触发一次？&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2481.5" y="69.5" width="740" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-97" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;xxl_job_lock&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2316.5" y="159.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-99" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;调度线程&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="2081" y="1095" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-100" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1249.5" y="1058" width="139" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-101" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1793.5" y="1006" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-102" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1791" y="1206" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-103" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1701" y="1095" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-105" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;已经超过5秒的任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1793.5" y="1028" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-106" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;已经超时但在5秒内的任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1731" y="1103" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-107" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;5秒内即将触发的任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1783.5" y="1221" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-108" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1526" y="996" width="245" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-109" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;调度过期策略&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1588.5" y="1021" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-110" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffcc99;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1591" y="1196" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-111" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;时间轮&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1613.5" y="1221" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-112" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.022;entryY=0.393;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#000000;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-65" target="ANlJ96FJJQ0399WOkpuZ-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1520.5" y="55" as="sourcePoint" />
            <mxPoint x="1570.5" y="5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-131" value="Text" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ANlJ96FJJQ0399WOkpuZ-112" vertex="1" connectable="0">
          <mxGeometry x="0.054" y="-6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-113" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;尝试加锁&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1780.5" y="240.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-114" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;2&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="230" y="837" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-115" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;执行成功，说明当前调度中心成功抢到了锁&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2270" y="390" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-117" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-99" target="ANlJ96FJJQ0399WOkpuZ-103" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1881" y="1206" as="sourcePoint" />
            <mxPoint x="1931" y="1156" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-118" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;3&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2280" y="360" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-119" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;3&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1763.5" y="240.5" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-120" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=142.5;entryPerimeter=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-99" target="ANlJ96FJJQ0399WOkpuZ-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2029" y="1404" as="sourcePoint" />
            <mxPoint x="2079" y="1354" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-121" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;查询xxl_job_info表，获取job信息&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2020" y="450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-123" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-99" target="ANlJ96FJJQ0399WOkpuZ-101" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1971" y="1306" as="sourcePoint" />
            <mxPoint x="2021" y="1256" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-124" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-99" target="ANlJ96FJJQ0399WOkpuZ-102" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1971" y="1306" as="sourcePoint" />
            <mxPoint x="2021" y="1256" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-125" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调度线程会去查询xxl_job_info这张表&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;这张表存了任务的一些基本信息和任务下一次执行的时间&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;调度线程会去查询下一次执行的时间 &amp;lt;= 当前时间 + 5s的任务&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1910" y="470" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-126" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-101" target="ANlJ96FJJQ0399WOkpuZ-108" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1971" y="1306" as="sourcePoint" />
            <mxPoint x="2021" y="1256" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-127" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-102" target="ANlJ96FJJQ0399WOkpuZ-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1971" y="1206" as="sourcePoint" />
            <mxPoint x="2021" y="1156" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-128" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;快线程池&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1286.5" y="1076" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-129" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1268.5" y="1196" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-130" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;慢线程池&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1286.5" y="1211" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-133" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1499" y="855" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-134" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;丢弃&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1526" y="872" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-135" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#0000FF;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-108" target="ANlJ96FJJQ0399WOkpuZ-133" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1260" y="1190" as="sourcePoint" />
            <mxPoint x="1310" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-136" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#0000FF;entryX=0.991;entryY=0.739;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-108" target="ANlJ96FJJQ0399WOkpuZ-149" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1260" y="1190" as="sourcePoint" />
            <mxPoint x="1487" y="983" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1520" y="1037" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-139" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.996;entryY=0.866;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-110" target="ANlJ96FJJQ0399WOkpuZ-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1260" y="1190" as="sourcePoint" />
            <mxPoint x="1510" y="1240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-140" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.009;entryY=0.557;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#0000FF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-103" target="ANlJ96FJJQ0399WOkpuZ-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1260" y="1190" as="sourcePoint" />
            <mxPoint x="1510" y="1129" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-141" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b style=&quot;&quot;&gt;在调用执行器的Http接口触发任务执行的时候，&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b style=&quot;&quot;&gt;Xxl-Job会去记录每个任务的触发所耗费的时间&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1188.5" y="1138" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-142" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;当任务一次触发的时间超过500ms，那么这个任务的慢次数就会加1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;如果这个任务一分钟内触发的慢次数超过10次，接下来就会将触发任务交给慢线程池去执行&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;所以快慢线程池就是避免那种频繁触发并且每次触发时间还很长的任务阻塞其它任务的触发的情况发生&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1159" y="1266" width="560" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-143" value="&lt;b&gt;立即触发执行&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1493.5" y="997" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-144" value="&lt;b&gt;立即触发执行&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1509" y="1102" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-145" value="&lt;b&gt;到时触发执行&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1499" y="1206" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-146" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;4.&amp;nbsp; 选择执行器实例&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;任务需要触发的时候，调度中心会向执行器发送Http请求，执行器去执行具体的任务&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;由于一个执行器会有很多实例，那么应该向哪个实例请求？&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;这其实就跟任务配置时设置的路由策略有关了&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;xxljob支持多种路由策略：第一个、最后一个、轮询、随机，一致性Hash&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;最不经常使用（LFU：Least Frequently Used）：Xxl-Job内部会有一个缓存，统计每个任务每个地址的使用次数，每次都选择使用次数最少的地址，这个缓存每隔24小时重置一次&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;最近最久未使用（LRU：Least Recently Used）：将地址存到LinkedHashMap中，它利用LinkedHashMap可以根据元素访问（get/put）顺序来给元素排序的特性，快速找到最近最久未使用（未访问）的节点&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;故障转移：调度中心都会去请求每个执行器，只要能接收到响应，说明执行器正常，那么任务就会交给这个执行器去执行&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;忙碌转移：调度中心也会去请求每个执行器，判断执行器是不是正在执行当前需要执行的任务（任务执行时间过长，导致上一次任务还没执行完，下一次又触发了），如果在执行，说明忙碌，不能用，否则就可以用&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;分片广播：XxlJob给每个执行器分配一个编号，从0开始递增，然后向所有执行器触发任务，告诉每个执行器自己的编号和总共执行器的数据&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;除了分片广播，其余的具体的算法实现都是通过ExecutorRouter的实现类来实现的，当选择好了具体的执行器实例之后，调用中心就会携带一些触发的参数，发送Http请求，触发任务&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="109" y="-745" width="1180" height="170" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-147" value="" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1060" y="1051" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-148" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ExecutorRouter&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1050" y="1066" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-149" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;xxljob支持多种路由策略：&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;第一个、最后一个、轮询、随机，LFU,LRU,Failover，分片广播&amp;nbsp; &amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;具体的算法实现都是通过ExecutorRouter的实现类来实现的&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="973.5" y="1006" width="520" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-153" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="515" y="1230" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-154" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="495" y="927" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-155" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" parent="1" vertex="1">
          <mxGeometry x="535" y="1136" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-156" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1">
          <mxGeometry x="535" y="1051" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-157" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;任务队列&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="550" y="1065" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-158" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;JobThread&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="545" y="1148" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-159" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;5.&amp;nbsp; 执行器如何去执行任务&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;当执行器接收到调度中心的请求时，会把请求交给ExecutorBizImpl来处理，&lt;/b&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;执行器处理触发请求是这个ExecutorBizImpl的run方法实现的&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;当执行器接收到请求，在正常情况下，执行器会去为这个任务创建一个单独的线程，这个线程被称为JobThread&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;b&gt;之后任务并不是直接交给线程处理的，而是直接放到一个内存队列中，线程直接从队列中获取任务，&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;每个任务在触发的时候都有单独的线程去执行，保证不同的任务执行互不影响&lt;/span&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="124" y="-575" width="760" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-160" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" parent="1" vertex="1">
          <mxGeometry x="510" y="1300" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-161" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;XxlJobSpringExecutor&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="509" y="942" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-163" value="&lt;b&gt;（XxlJobExecutor）&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="524" y="957" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#007FFF;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-18" target="ANlJ96FJJQ0399WOkpuZ-154" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="960" as="sourcePoint" />
            <mxPoint x="540" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-166" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;4&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="950" y="965" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-167" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#00008A;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-163" target="ANlJ96FJJQ0399WOkpuZ-156" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="1100" as="sourcePoint" />
            <mxPoint x="540" y="1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-168" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;提交任务&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="594" y="1021" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-169" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#00008A;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-155" target="ANlJ96FJJQ0399WOkpuZ-156" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="1100" as="sourcePoint" />
            <mxPoint x="540" y="1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-170" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;获取任务处理&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="600" y="1111" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-171" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=2;strokeColor=#00008A;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-155" target="ANlJ96FJJQ0399WOkpuZ-18" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="1240" as="sourcePoint" />
            <mxPoint x="540" y="1190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-172" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;任务交给对应的JobHandler&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="364" y="1155" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-173" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;不正常的情况下：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;如果调度中心选择的执行器实例正在处理定时任务，&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;那么此时该怎么处理呢？**&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;这时就跟阻塞处理策略有关了，&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;阻塞处理策略总共有三种：&lt;/span&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;color: rgb(255, 0, 0); background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;单机串行&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;丢弃后续调度&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;覆盖之前调度&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;单机串行的实现就是将任务放到队列中，由于队列是先进先出的，所以就实现串行，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;这也是为什么放在队列的原因&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;丢弃调度的实现就是执行器什么事都不用干就可以了，自然而然任务就丢了&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;覆盖之前调度的实现就很暴力了，他是直接重新创建一个JobThread来执行任务，&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;并且尝试打断之前的正在处理任务的JobThread，丢弃之前队列中的任务&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;阻塞处理策略是对于单个执行器上的任务来生效的，不同执行器实例上的同一个任务是互不影响的&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="669" y="1045" width="540" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-174" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;5&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="560" y="1013" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-175" value="&lt;b&gt;6.任务执行结果的回调&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当任务处理完成之后，执行器会将任务执行的结果发送给调度中心&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;JobThread会将任务执行的结果发送到一个内存队列中&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;执行器启动的时候会开启一个处发送任务执行结果的线程：TriggerCallbackThread&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;这个线程会不停地从队列中获取所有的执行结果，将执行结果批量发送给调度中心&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;调用中心接收到请求时，会根据执行的结果修改这次任务的执行状态和进行一些后续的事，比如失败了是否需要重试，是否有子任务需要触发等等&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="124" y="-465" width="790" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-176" value="&lt;b&gt;执行结果队列&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="530" y="1236" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-178" value="&lt;b&gt;TriggerCallbackThread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="510" y="1315" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-179" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;获取所有的执行结果&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="435" y="1270" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-180" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;批量发送执行结果给调度中心&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="796" y="1300" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-181" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-155" target="ANlJ96FJJQ0399WOkpuZ-153" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="1220" as="sourcePoint" />
            <mxPoint x="510" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-182" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;将任务执行的结果发送到一个内存队列中&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="415" y="1200" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-183" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.518;entryY=0.973;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-160" target="ANlJ96FJJQ0399WOkpuZ-176" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="1220" as="sourcePoint" />
            <mxPoint x="510" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-184" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.012;exitY=0.598;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.015;entryY=0.905;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" parent="1" source="ANlJ96FJJQ0399WOkpuZ-178" target="ANlJ96FJJQ0399WOkpuZ-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="1220" as="sourcePoint" />
            <mxPoint x="1190" y="1190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-185" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;6&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="550" y="1191" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-188" value="&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;XxlJobSpringExecutor&amp;nbsp;整个执行器启动的入口&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="565" y="902" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-189" value="&lt;span style=&quot;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;JobHandler其实就是一个定时任务的封装&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;一个定时任务会对应一个JobHandler对象&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;当执行器执行任务的时候，就会调用JobHandler的execute方法&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;JobHandler有三种实现：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;MethodJobHandler&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;GlueJobHandler&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ScriptJobHandler&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;MethodJobHandler是通过反射来调用方法执行任务&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;GlueJobHandler比较有意思，它支持动态修改任务执行的代码&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当你在创建任务的时候，需要指定运行模式为GLUE(Java)&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;ScriptJobHandler专门处理一些脚本的&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;初始化JobHandler就是指，执行器启动的时候会去Spring容器中找到加了@XxlJob注解的Bean&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;解析注解，然后封装成一个MethodJobHandler对象，&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;最终存到XxlJobSpringExecutor成员变量的一个本地的Map缓存中&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;GlueJobHandler和ScriptJobHandler都是任务触发时才会创建&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-90" y="1103" width="530" height="330" as="geometry" />
        </mxCell>
        <mxCell id="ANlJ96FJJQ0399WOkpuZ-190" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;ExecutorBizClient的实现就是发送http请求，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;所以这个实现类是在调度中心使用的，用来访问执行器提供的http接口&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1180" y="910" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VdQDnjwRHH8x-FotQMhJ-3" value="&lt;b&gt;&lt;font color=&quot;#007fff&quot;&gt;注册执行器应用名，ip和端口号&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="877.5" y="420" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VdQDnjwRHH8x-FotQMhJ-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="862.5" y="420" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VdQDnjwRHH8x-FotQMhJ-5" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;192.168.0.102:9999&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1356" y="189.5" width="170" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="m_b_Tea2tHqbvvgrOCOL" name="Raft，Gossip，ZAB，Paxos">
    <mxGraphModel dx="2889" dy="1805" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="M85H-zQqHeeWlzBXZ7hf-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Raft协议请求处理流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-70" y="-20" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="M85H-zQqHeeWlzBXZ7hf-2" value="&lt;div&gt;&lt;font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b style=&quot;&quot;&gt;当一个节点启动的时候，需要将自身节点信息注册到集群中Leader节点，&lt;/b&gt;&lt;/span&gt;&lt;b style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;Raft协议中规定，对于一个请求，一定需要交由Leader节点来处理&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;服务在接收到用户请求的时候，必须得判断当前的节点是不是Leader节点&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;如果是Leader节点，那么就可以处理请求&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;如果不是Leader节点，必须将请求发送给Leader节点处理&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;&lt;b&gt;当Leader节点最终接收到请求时，这个请求才能开始被处理&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;请求的处理过程主要分别两个部分：&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Raft协议对请求的处理&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;应用服务对于请求的处理&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;b&gt;Raft协议对请求的处理，是因为Raft协议是保证数据强一致性的，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;所以这个协议本身也需要去处理这个请求才能去保证数据强一致性&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;b&gt;应用服务对于请求其实很好理解了，因为对于一个请求来说，肯定最终是要交给应用服务来做这个请求对应的操作&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-70" y="130" width="760" height="230" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-1" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Raft协议对请求的处理&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当Leader节点接收到请求，就会将请求交给Raft协议来处理,&lt;span style=&quot;background-color: transparent;&quot;&gt;首先会将每个请求的数据封装成一个一个LogEntry对象&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;同时也会给每个LogEntry设置一个index,&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;这个index你可以暂时认为是LogEntry在整个集群中的唯一标识，从0开始，随着请求的顺序依次递增&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;b style=&quot;&quot;&gt;之后Raft协议会将LogEntry给存到磁盘中&lt;/b&gt;&lt;span style=&quot;font-weight: bold; background-color: transparent;&quot;&gt;这样所有请求就会按照顺序一个一个存储到磁盘中了,&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;当Raft节点重启的时候，&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;font&gt;可以通过回放LogEntry中请求来恢复数据&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;服务在启动时，需要向Leader注册节点信息&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;在JRaft中，当Leader节点接收到新的Follower节点信息的时候，会为创建一个Replicator，翻译过来就是复制器&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;这个Replicator会不停地向Follower节点发送请求，将LogEntry按照顺序批量复制给Follower节点&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;这个过程也被称为AppendEntries&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;span style=&quot;font-weight: bold; background-color: transparent;&quot;&gt;Follower节点接收到这些LogEntry之后，也会将LogEntry存到磁盘中,&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b style=&quot;&quot;&gt;Follower与Follower之间复制LogEntry是互不影响的&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-73" y="320" width="780" height="180" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-2" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;预选举&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当Follower可以发起选举的时候，并不会直接选举，而是先进行一波预选举&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;在原始的Raft协议中是没有预选举机制，预选举是JRaft框架做的优化&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所谓预选举就是在正式选举之前去判断一下自己是不是有潜质，很大几率成为Leader&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;那么为什么JRaft框架要加入预选举机制？&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;主要是因为如果在选举过程中出现网络问题，很多节点同时发生选举，导致选举冲突，无法正确选出Leader节点，造成多次无效的选举尝试，进而影响集群的稳定性和可用性&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;所以为了保证稳定性，只有当当前节点在预选举中可以成为Leader节点，当前节点才会开启真正的选举&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;预选举的过程并不会改变当前节点的各种状态，仅仅只会向所有的其它节点发送预投票请求，携带下面这些数据&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当前周期+1，说明准备在下个周期开始选举了&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当前复制最后一条LogEntry对应的term和index，为了比较谁的日志更新&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当其它节点接收到请求的时候，在投票的时候遵循下面几个原则：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当前节点与Leader节点的心跳正常，说明Leader节点每什么问题，投否定票&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;发起预投票的节点的周期比自己的小，说明其它节点可能都已经发生好几轮正式选举了，那么你就别凑选举的热闹了，直接投否定票&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;发起预投票的节点复制的日志没有当前节点复制的日志新，直接投否定票&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当前面都判断条件都过了之后，那么就会给这个节点投赞成票&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;当超过半数节点都投了赞成票，那么当前节点就可以正式发起选举了&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;正式选举&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当正式选举开始的时候，当前节点会进行一些准备操作:&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;选举周期加1，比如原来是2，现在就为3&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;将当前状态从Follower转换成Candidate，表明这个节点成为候选者&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;将当前这个周期的票投给自己，自己发起选举的，这个票优先投给自己&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当这波操作完成之后，就开始构建请求，携带的信息跟预投票是一样的，包括：当前递增后周期、当前节点复制的最新的LogEntry对应的周期（term）和index，然后向所有的节点发送请求&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当其它节点接收到请求之后，也会进行一系列判断&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;发起预投票的节点的周期比自己的大，投赞成票，并且会StepDown操作&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;发起预投票的节点的周期比自己的小，则直接投反对票&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;周期相等，如果已经投票给自己或者别人，则投否定票；否则判断日志谁的更新，如果自己的日志更新则直接投反对票，否则就投赞成票&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;其实正式投票判断条件跟预投票的判断很像&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;当收到超过半数的节点的赞成票之后，当前节点就可以成为Leader节点了&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;之后这个节点就会接收请求，将LogEntry复制给其它从节点，同时维护与从节点之间的心跳&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-870" y="3170" width="1020" height="670" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-3" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Raft协议选举Leader节点流程&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-121" y="2190" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-4" value="&lt;div&gt;&lt;b&gt;&lt;font&gt;在Raft协议中，集群中的服务（也可以被称为节点，Peer）会有三种状态：&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Leader：主节点，负责处理所有的请求，一个集群只有一个Leader，处于唯我独尊的地位&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Follower：从节点，主要是负责复制Leader的数据，保证跟Leader的数据的一致性，Follower必须服从Leader&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Candidate：候选节点，中间状态，最终会变成Leader或者Follower&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-70" y="50" width="640" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-5" value="&lt;div&gt;&lt;b&gt;Leader在每次批量复制成功之后都会对复制成功的LogEntry进行判断，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;去找到目前已经被超过半数节点都复制成功的最大LogEntry对应的index，&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;超过半数节点都复制成功的最大LogEntry，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;也就表明这个index之前的LogEntry都可以交由应用服务所处理&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;因为超过半数都能成功复制这个LogEntry，那么表明这个集群基本上就是处于稳定状态，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;这个index也被称为CommitIndex，代表可以被应用服务所处理的最大的index&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;接下来Raft协议就会将这个index以及之前对应的LogEntry交给应用服务来处理，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;同时在下次进行复制日志和心跳的时候，会把这个index告诉Follower节点&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;这样Follower节点也可以处理这些LogEntry对应的请求了&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;总的来说，一个请求虽然能被Leader节点所接收，但是如果没有超过半数节点复制成功，应用服务就无法处理这个请求。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;如果集群发生故障，导致超过半数节点无法复制成功，那么这个请求永远不会被应用服务处理，整个集群就处于不可用状态，很符合CP的概念。&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-73" y="500" width="910" height="110" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;应用服务对于请求的处理&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当超过半数节点已经复制了LogEntry，此时Raft协议就会将这些LogEntry，也就是请求交给应用服务处理&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;对于应用服务来说，它必须得去实现一个Raft协议的状态机才能拿到这些请求数据，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;这个状态机在Raft协议中非常重要，它是应用服务与Raft协议交互的重要桥梁&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;当Raft协议有什么状态变动的时候，都会调用状态机来通知我们的应用服务，&lt;/b&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;所以状态机不仅仅可以拿到可以处理的请求数据，还可以拿到Raft集群变动的信息&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;当应用系统拿到这个请求数据之后，就可以做对应的业务处理了。&lt;span style=&quot;background-color: transparent;&quot;&gt;对于Follower节点来说，最终也是调用状态机来处理请求的。&lt;/span&gt;&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-80" y="630" width="870" height="120" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;gradientColor=#b3b3b3;" vertex="1" parent="1">
          <mxGeometry x="110" y="910" width="730" height="350" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-460" y="1340" width="580" height="350" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-10" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="670" y="1340" width="580" height="350" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bac8d3;strokeColor=#23445d;" vertex="1" parent="1">
          <mxGeometry x="110" y="1820" width="580" height="350" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-13" value="&lt;b&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;Leader&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="130" y="910" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-14" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Follower&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-205" y="1260" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-15" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Follower&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="695" y="1300" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-16" value="&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;应用服务&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="140" y="1830" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-17" value="" style="endArrow=classic;html=1;rounded=0;entryX=-0.001;entryY=0.202;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="tFpnekHyyVTLsOLCA1qO-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-230" y="980" as="sourcePoint" />
            <mxPoint x="320" y="1300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-18" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="230" y="990" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-19" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-20" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-21" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-22" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="990" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-23" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-390" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-24" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-260" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-25" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-130" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-26" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-27" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="830" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-28" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-29" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="575" y="985" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-30" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="710" y="985" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-31" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="260" y="985" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-32" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="415" y="985" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-33" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-110" y="1405" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-34" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-245" y="1405" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-35" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-370" y="1410" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-36" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="847" y="1405" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-37" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="975" y="1405" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-38" value="&lt;div&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;0&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LogEntry&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;term 1&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="730" y="1410" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tFpnekHyyVTLsOLCA1qO-39" value="&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;快照主要有两个用途，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;一是减少LogEntery文件大小，帮助重启快速恢复数据，&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;二是可以加快Follower节点的复制进度&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="830" y="790" width="320" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="2gOlbwrTyxIljw1zl8wE" name="性能优化">
    <mxGraphModel dx="1063" dy="545" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
